(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function N1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fd={exports:{}},uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i_;function O1(){if(i_)return uo;i_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:c}}return uo.Fragment=t,uo.jsx=i,uo.jsxs=i,uo}var r_;function M1(){return r_||(r_=1,fd.exports=O1()),fd.exports}var Z=M1(),hd={exports:{}},Lt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function L1(){if(a_)return Lt;a_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function S(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Q={};function q(x,at,ht){this.props=x,this.context=at,this.refs=Q,this.updater=ht||k}q.prototype.isReactComponent={},q.prototype.setState=function(x,at){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,at,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function tt(){}tt.prototype=q.prototype;function X(x,at,ht){this.props=x,this.context=at,this.refs=Q,this.updater=ht||k}var st=X.prototype=new tt;st.constructor=X,U(st,q.prototype),st.isPureReactComponent=!0;var yt=Array.isArray,dt={H:null,A:null,T:null,S:null,V:null},Ot=Object.prototype.hasOwnProperty;function O(x,at,ht,lt,bt,Mt){return ht=Mt.ref,{$$typeof:r,type:x,key:at,ref:ht!==void 0?ht:null,props:Mt}}function R(x,at){return O(x.type,at,void 0,void 0,void 0,x.props)}function C(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function I(x){var at={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(ht){return at[ht]})}var L=/\/+/g;function N(x,at){return typeof x=="object"&&x!==null&&x.key!=null?I(""+x.key):at.toString(36)}function w(){}function Pt(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(w,w):(x.status="pending",x.then(function(at){x.status==="pending"&&(x.status="fulfilled",x.value=at)},function(at){x.status==="pending"&&(x.status="rejected",x.reason=at)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Bt(x,at,ht,lt,bt){var Mt=typeof x;(Mt==="undefined"||Mt==="boolean")&&(x=null);var Vt=!1;if(x===null)Vt=!0;else switch(Mt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(x.$$typeof){case r:case t:Vt=!0;break;case E:return Vt=x._init,Bt(Vt(x._payload),at,ht,lt,bt)}}if(Vt)return bt=bt(x),Vt=lt===""?"."+N(x,0):lt,yt(bt)?(ht="",Vt!=null&&(ht=Vt.replace(L,"$&/")+"/"),Bt(bt,at,ht,"",function(dn){return dn})):bt!=null&&(C(bt)&&(bt=R(bt,ht+(bt.key==null||x&&x.key===bt.key?"":(""+bt.key).replace(L,"$&/")+"/")+Vt)),at.push(bt)),1;Vt=0;var _e=lt===""?".":lt+":";if(yt(x))for(var ee=0;ee<x.length;ee++)lt=x[ee],Mt=_e+N(lt,ee),Vt+=Bt(lt,at,ht,Mt,bt);else if(ee=S(x),typeof ee=="function")for(x=ee.call(x),ee=0;!(lt=x.next()).done;)lt=lt.value,Mt=_e+N(lt,ee++),Vt+=Bt(lt,at,ht,Mt,bt);else if(Mt==="object"){if(typeof x.then=="function")return Bt(Pt(x),at,ht,lt,bt);throw at=String(x),Error("Objects are not valid as a React child (found: "+(at==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":at)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function K(x,at,ht){if(x==null)return x;var lt=[],bt=0;return Bt(x,lt,"","",function(Mt){return at.call(ht,Mt,bt++)}),lt}function ot(x){if(x._status===-1){var at=x._result;at=at(),at.then(function(ht){(x._status===0||x._status===-1)&&(x._status=1,x._result=ht)},function(ht){(x._status===0||x._status===-1)&&(x._status=2,x._result=ht)}),x._status===-1&&(x._status=0,x._result=at)}if(x._status===1)return x._result.default;throw x._result}var Et=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var at=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(at))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function jt(){}return Lt.Children={map:K,forEach:function(x,at,ht){K(x,function(){at.apply(this,arguments)},ht)},count:function(x){var at=0;return K(x,function(){at++}),at},toArray:function(x){return K(x,function(at){return at})||[]},only:function(x){if(!C(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Lt.Component=q,Lt.Fragment=i,Lt.Profiler=o,Lt.PureComponent=X,Lt.StrictMode=s,Lt.Suspense=p,Lt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,Lt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return dt.H.useMemoCache(x)}},Lt.cache=function(x){return function(){return x.apply(null,arguments)}},Lt.cloneElement=function(x,at,ht){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var lt=U({},x.props),bt=x.key,Mt=void 0;if(at!=null)for(Vt in at.ref!==void 0&&(Mt=void 0),at.key!==void 0&&(bt=""+at.key),at)!Ot.call(at,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&at.ref===void 0||(lt[Vt]=at[Vt]);var Vt=arguments.length-2;if(Vt===1)lt.children=ht;else if(1<Vt){for(var _e=Array(Vt),ee=0;ee<Vt;ee++)_e[ee]=arguments[ee+2];lt.children=_e}return O(x.type,bt,void 0,void 0,Mt,lt)},Lt.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Lt.createElement=function(x,at,ht){var lt,bt={},Mt=null;if(at!=null)for(lt in at.key!==void 0&&(Mt=""+at.key),at)Ot.call(at,lt)&&lt!=="key"&&lt!=="__self"&&lt!=="__source"&&(bt[lt]=at[lt]);var Vt=arguments.length-2;if(Vt===1)bt.children=ht;else if(1<Vt){for(var _e=Array(Vt),ee=0;ee<Vt;ee++)_e[ee]=arguments[ee+2];bt.children=_e}if(x&&x.defaultProps)for(lt in Vt=x.defaultProps,Vt)bt[lt]===void 0&&(bt[lt]=Vt[lt]);return O(x,Mt,void 0,void 0,null,bt)},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(x){return{$$typeof:m,render:x}},Lt.isValidElement=C,Lt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ot}},Lt.memo=function(x,at){return{$$typeof:y,type:x,compare:at===void 0?null:at}},Lt.startTransition=function(x){var at=dt.T,ht={};dt.T=ht;try{var lt=x(),bt=dt.S;bt!==null&&bt(ht,lt),typeof lt=="object"&&lt!==null&&typeof lt.then=="function"&&lt.then(jt,Et)}catch(Mt){Et(Mt)}finally{dt.T=at}},Lt.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},Lt.use=function(x){return dt.H.use(x)},Lt.useActionState=function(x,at,ht){return dt.H.useActionState(x,at,ht)},Lt.useCallback=function(x,at){return dt.H.useCallback(x,at)},Lt.useContext=function(x){return dt.H.useContext(x)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(x,at){return dt.H.useDeferredValue(x,at)},Lt.useEffect=function(x,at,ht){var lt=dt.H;if(typeof ht=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return lt.useEffect(x,at)},Lt.useId=function(){return dt.H.useId()},Lt.useImperativeHandle=function(x,at,ht){return dt.H.useImperativeHandle(x,at,ht)},Lt.useInsertionEffect=function(x,at){return dt.H.useInsertionEffect(x,at)},Lt.useLayoutEffect=function(x,at){return dt.H.useLayoutEffect(x,at)},Lt.useMemo=function(x,at){return dt.H.useMemo(x,at)},Lt.useOptimistic=function(x,at){return dt.H.useOptimistic(x,at)},Lt.useReducer=function(x,at,ht){return dt.H.useReducer(x,at,ht)},Lt.useRef=function(x){return dt.H.useRef(x)},Lt.useState=function(x){return dt.H.useState(x)},Lt.useSyncExternalStore=function(x,at,ht){return dt.H.useSyncExternalStore(x,at,ht)},Lt.useTransition=function(){return dt.H.useTransition()},Lt.version="19.1.0",Lt}var s_;function tm(){return s_||(s_=1,hd.exports=L1()),hd.exports}var $=tm();const ti=N1($);var dd={exports:{}},co={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l_;function U1(){return l_||(l_=1,function(r){function t(K,ot){var Et=K.length;K.push(ot);t:for(;0<Et;){var jt=Et-1>>>1,x=K[jt];if(0<o(x,ot))K[jt]=ot,K[Et]=x,Et=jt;else break t}}function i(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ot=K[0],Et=K.pop();if(Et!==ot){K[0]=Et;t:for(var jt=0,x=K.length,at=x>>>1;jt<at;){var ht=2*(jt+1)-1,lt=K[ht],bt=ht+1,Mt=K[bt];if(0>o(lt,Et))bt<x&&0>o(Mt,lt)?(K[jt]=Mt,K[bt]=Et,jt=bt):(K[jt]=lt,K[ht]=Et,jt=ht);else if(bt<x&&0>o(Mt,Et))K[jt]=Mt,K[bt]=Et,jt=bt;else break t}}return ot}function o(K,ot){var Et=K.sortIndex-ot.sortIndex;return Et!==0?Et:K.id-ot.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],y=[],E=1,b=null,S=3,k=!1,U=!1,Q=!1,q=!1,tt=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function yt(K){for(var ot=i(y);ot!==null;){if(ot.callback===null)s(y);else if(ot.startTime<=K)s(y),ot.sortIndex=ot.expirationTime,t(p,ot);else break;ot=i(y)}}function dt(K){if(Q=!1,yt(K),!U)if(i(p)!==null)U=!0,Ot||(Ot=!0,N());else{var ot=i(y);ot!==null&&Bt(dt,ot.startTime-K)}}var Ot=!1,O=-1,R=5,C=-1;function I(){return q?!0:!(r.unstable_now()-C<R)}function L(){if(q=!1,Ot){var K=r.unstable_now();C=K;var ot=!0;try{t:{U=!1,Q&&(Q=!1,X(O),O=-1),k=!0;var Et=S;try{e:{for(yt(K),b=i(p);b!==null&&!(b.expirationTime>K&&I());){var jt=b.callback;if(typeof jt=="function"){b.callback=null,S=b.priorityLevel;var x=jt(b.expirationTime<=K);if(K=r.unstable_now(),typeof x=="function"){b.callback=x,yt(K),ot=!0;break e}b===i(p)&&s(p),yt(K)}else s(p);b=i(p)}if(b!==null)ot=!0;else{var at=i(y);at!==null&&Bt(dt,at.startTime-K),ot=!1}}break t}finally{b=null,S=Et,k=!1}ot=void 0}}finally{ot?N():Ot=!1}}}var N;if(typeof st=="function")N=function(){st(L)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Pt=w.port2;w.port1.onmessage=L,N=function(){Pt.postMessage(null)}}else N=function(){tt(L,0)};function Bt(K,ot){O=tt(function(){K(r.unstable_now())},ot)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(K){switch(S){case 1:case 2:case 3:var ot=3;break;default:ot=S}var Et=S;S=ot;try{return K()}finally{S=Et}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(K,ot){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Et=S;S=K;try{return ot()}finally{S=Et}},r.unstable_scheduleCallback=function(K,ot,Et){var jt=r.unstable_now();switch(typeof Et=="object"&&Et!==null?(Et=Et.delay,Et=typeof Et=="number"&&0<Et?jt+Et:jt):Et=jt,K){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=Et+x,K={id:E++,callback:ot,priorityLevel:K,startTime:Et,expirationTime:x,sortIndex:-1},Et>jt?(K.sortIndex=Et,t(y,K),i(p)===null&&K===i(y)&&(Q?(X(O),O=-1):Q=!0,Bt(dt,Et-jt))):(K.sortIndex=x,t(p,K),U||k||(U=!0,Ot||(Ot=!0,N()))),K},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(K){var ot=S;return function(){var Et=S;S=ot;try{return K.apply(this,arguments)}finally{S=Et}}}}(gd)),gd}var o_;function P1(){return o_||(o_=1,md.exports=U1()),md.exports}var pd={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u_;function k1(){if(u_)return nn;u_=1;var r=tm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,E)},nn.flushSync=function(p){var y=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=y,s.p=E,s.d.f()}},nn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},nn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},nn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,b=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},nn.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,y){return p(y)},nn.useFormState=function(p,y,E){return h.H.useFormState(p,y,E)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.1.0",nn}var c_;function z1(){if(c_)return pd.exports;c_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),pd.exports=k1(),pd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f_;function B1(){if(f_)return co;f_=1;var r=P1(),t=tm(),i=z1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(s(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,l=n;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),e;if(d===l)return m(f),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var v=!1,T=f.child;T;){if(T===a){v=!0,a=f,l=d;break}if(T===l){v=!0,l=f,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=f;break}if(T===l){v=!0,l=d,a=f;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),st=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),dt=Symbol.for("react.suspense"),Ot=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=L&&e[L]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case U:return"Fragment";case q:return"Profiler";case Q:return"StrictMode";case dt:return"Suspense";case Ot:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case st:return(e.displayName||"Context")+".Provider";case X:return(e._context.displayName||"Context")+".Consumer";case yt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case O:return n=e.displayName||null,n!==null?n:Pt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return Pt(e(n))}catch{}}return null}var Bt=Array.isArray,K=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Et={pending:!1,data:null,method:null,action:null},jt=[],x=-1;function at(e){return{current:e}}function ht(e){0>x||(e.current=jt[x],jt[x]=null,x--)}function lt(e,n){x++,jt[x]=e.current,e.current=n}var bt=at(null),Mt=at(null),Vt=at(null),_e=at(null);function ee(e,n){switch(lt(Vt,n),lt(Mt,e),lt(bt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Iy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Iy(n),e=Ny(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ht(bt),lt(bt,e)}function dn(){ht(bt),ht(Mt),ht(Vt)}function In(e){e.memoizedState!==null&&lt(_e,e);var n=bt.current,a=Ny(n,e.type);n!==a&&(lt(Mt,e),lt(bt,a))}function Qn(e){Mt.current===e&&(ht(bt),ht(Mt)),_e.current===e&&(ht(_e),ro._currentValue=Et)}var ai=Object.prototype.hasOwnProperty,Ni=r.unstable_scheduleCallback,si=r.unstable_cancelCallback,yr=r.unstable_shouldYield,Ga=r.unstable_requestPaint,mn=r.unstable_now,Qo=r.unstable_getCurrentPriorityLevel,_r=r.unstable_ImmediatePriority,V=r.unstable_UserBlockingPriority,H=r.unstable_NormalPriority,J=r.unstable_LowPriority,gt=r.unstable_IdlePriority,ft=r.log,ut=r.unstable_setDisableYieldValue,mt=null,At=null;function Ut(e){if(typeof ft=="function"&&ut(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(mt,e)}catch{}}var ne=Math.clz32?Math.clz32:Mi,Oi=Math.log,Nn=Math.LN2;function Mi(e){return e>>>=0,e===0?32:31-(Oi(e)/Nn|0)|0}var Yn=256,Kn=4194304;function En(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Li(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?f=En(l):(v&=T,v!==0?f=En(v):a||(a=T&~e,a!==0&&(f=En(a))))):(T=l&~d,T!==0?f=En(T):v!==0?f=En(v):a||(a=l&~e,a!==0&&(f=En(a)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:f}function Ui(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function vr(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function al(){var e=Yn;return Yn<<=1,(Yn&4194048)===0&&(Yn=256),e}function sl(){var e=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),e}function Pi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ki(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ll(e,n,a,l,f,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,D=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var W=31-ne(a),nt=1<<W;T[W]=0,D[W]=-1;var F=j[W];if(F!==null)for(j[W]=null,W=0;W<F.length;W++){var G=F[W];G!==null&&(G.lane&=-536870913)}a&=~nt}l!==0&&li(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~n))}function li(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-ne(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function ol(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-ne(a),f=1<<l;f&n|e[l]&n&&(e[l]|=n),a&=~f}}function Er(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Qa(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Tr(){var e=ot.p;return e!==0?e:(e=window.event,e===void 0?32:Zy(e.type))}function Yo(e,n){var a=ot.p;try{return ot.p=e,n()}finally{ot.p=a}}var de=Math.random().toString(36).slice(2),Oe="__reactFiber$"+de,we="__reactProps$"+de,On="__reactContainer$"+de,ul="__reactEvents$"+de,mf="__reactListeners$"+de,Ar="__reactHandles$"+de,Ko="__reactResources$"+de,sa="__reactMarker$"+de;function Sr(e){delete e[Oe],delete e[we],delete e[ul],delete e[mf],delete e[Ar]}function zi(e){var n=e[Oe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[On]||a[Oe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Uy(e);e!==null;){if(a=e[Oe])return a;e=Uy(e)}return n}e=a,a=e.parentNode}return null}function oi(e){if(e=e[Oe]||e[On]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function ui(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function on(e){var n=e[Ko];return n||(n=e[Ko]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[sa]=!0}var cl=new Set,Ya={};function Xn(e,n){Bi(e,n),Bi(e+"Capture",n)}function Bi(e,n){for(Ya[e]=n,e=0;e<n.length;e++)cl.add(n[e])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$o={},la={};function Zo(e){return ai.call(la,e)?!0:ai.call($o,e)?!1:Xo.test(e)?la[e]=!0:($o[e]=!0,!1)}function br(e,n,a){if(Zo(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function ci(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Ye(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var oa,Jo;function ji(e){if(oa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);oa=n&&n[1]||"",Jo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+oa+e+Jo}var Ka=!1;function Xa(e,n){if(!e||Ka)return"";Ka=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(G){var F=G}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(G){F=G}e.call(nt.prototype)}}else{try{throw Error()}catch(G){F=G}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var D=v.split(`
`),j=T.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===j.length)for(l=D.length-1,f=j.length-1;1<=l&&0<=f&&D[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==j[f]){var W=`
`+D[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=f);break}}}finally{Ka=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ji(a):""}function fl(e){switch(e.tag){case 26:case 27:case 5:return ji(e.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Xa(e.type,!1);case 11:return Xa(e.type.render,!1);case 1:return Xa(e.type,!0);case 31:return ji("Activity");default:return""}}function $a(e){try{var n="";do n+=fl(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function gf(e){var n=hl(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Za(e){e._valueTracker||(e._valueTracker=gf(e))}function dl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=hl(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function ua(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var pf=/[\n"\\]/g;function Ce(e){return e.replace(pf,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Tn(e,n,a,l,f,d,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+un(n)):e.value!==""+un(n)&&(e.value=""+un(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Rr(e,v,un(n)):a!=null?Rr(e,v,un(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+un(T):e.removeAttribute("name")}function ca(e,n,a,l,f,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+un(a):"",n=n!=null?""+un(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Rr(e,n,a){n==="number"&&ua(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function qi(e,n,a,l){if(e=e.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=n.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+un(a),n=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function ae(e,n,a){if(n!=null&&(n=""+un(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+un(a):""}function fa(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Bt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=un(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Mn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wo(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||ha.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function ml(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&a[f]!==l&&Wo(e,f,l)}else for(var d in n)n.hasOwnProperty(d)&&Wo(e,d,n[d])}function gl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_f=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ja(e){return _f.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Hi=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Gi=null;function pl(e){var n=oi(e);if(n&&(e=n.stateNode)){var a=e[we]||null;t:switch(e=n.stateNode,n.type){case"input":if(Tn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ce(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var f=l[we]||null;if(!f)throw Error(s(90));Tn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&dl(l)}break t;case"textarea":ae(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&qi(e,!!a.multiple,n,!1)}}}var fi=!1;function tu(e,n,a){if(fi)return e(n,a);fi=!0;try{var l=e(n);return l}finally{if(fi=!1,(Fi!==null||Gi!==null)&&(Yu(),Fi&&(n=Fi,e=Gi,Gi=Fi=null,pl(n),e)))for(n=0;n<e.length;n++)pl(e[n])}}function da(e,n){var a=e.stateNode;if(a===null)return null;var l=a[we]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if($n)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Un=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Un=!1}var hi=null,wr=null,Qi=null;function yl(){if(Qi)return Qi;var e,n=wr,a=n.length,l,f="value"in hi?hi.value:hi.textContent,d=f.length;for(e=0;e<a&&n[e]===f[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===f[d-l];l++);return Qi=f.slice(e,1<l?1-l:void 0)}function di(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function mi(){return!0}function _l(){return!1}function je(e){function n(a,l,f,d,v){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?mi:_l,this.isPropagationStopped=_l,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),n}var Wt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wa=je(Wt),ga=E({},Wt,{view:0,detail:0}),eu=je(ga),ts,es,gi,pa=E({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:va,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(ts=e.screenX-gi.screenX,es=e.screenY-gi.screenY):es=ts=0,gi=e),ts)},movementY:function(e){return"movementY"in e?e.movementY:es}}),Pn=je(pa),nu=E({},pa,{dataTransfer:0}),vf=je(nu),ya=E({},ga,{relatedTarget:0}),ns=je(ya),vl=E({},Wt,{animationName:0,elapsedTime:0,pseudoElement:0}),is=je(vl),iu=E({},Wt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rs=je(iu),Ef=E({},Wt,{data:0}),El=je(Ef),_a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ru={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=au[e])?!!n[e]:!1}function va(){return Tl}var su=E({},ga,{key:function(e){if(e.key){var n=_a[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ru[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:va,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),as=je(su),lu=E({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=je(lu),Yi=E({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:va}),ou=je(Yi),uu=E({},Wt,{propertyName:0,elapsedTime:0,pseudoElement:0}),cu=je(uu),fu=E({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ss=je(fu),cn=E({},Wt,{newState:0,oldState:0}),hu=je(cn),du=[9,13,27,32],pi=$n&&"CompositionEvent"in window,u=null;$n&&"documentMode"in document&&(u=document.documentMode);var g=$n&&"TextEvent"in window&&!u,_=$n&&(!pi||u&&8<u&&11>=u),A=" ",z=!1;function Y(e,n){switch(e){case"keyup":return du.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ct(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qt=!1;function Me(e,n){switch(e){case"compositionend":return ct(n);case"keypress":return n.which!==32?null:(z=!0,A);case"textInput":return e=n.data,e===A&&z?null:e;default:return null}}function Yt(e,n){if(Qt)return e==="compositionend"||!pi&&Y(e,n)?(e=yl(),Qi=wr=hi=null,Qt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _&&n.locale!=="ko"?null:n.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!qe[e.type]:n==="textarea"}function Ki(e,n,a,l){Fi?Gi?Gi.push(l):Gi=[l]:Fi=l,n=Wu(n,"onChange"),0<n.length&&(a=new Wa("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var Ke=null,yi=null;function Sl(e){wy(e,0)}function mu(e){var n=ui(e);if(dl(n))return e}function Ym(e,n){if(e==="change")return n}var Km=!1;if($n){var Tf;if($n){var Af="oninput"in document;if(!Af){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),Af=typeof Xm.oninput=="function"}Tf=Af}else Tf=!1;Km=Tf&&(!document.documentMode||9<document.documentMode)}function $m(){Ke&&(Ke.detachEvent("onpropertychange",Zm),yi=Ke=null)}function Zm(e){if(e.propertyName==="value"&&mu(yi)){var n=[];Ki(n,yi,e,Ln(e)),tu(Sl,n)}}function oT(e,n,a){e==="focusin"?($m(),Ke=n,yi=a,Ke.attachEvent("onpropertychange",Zm)):e==="focusout"&&$m()}function uT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mu(yi)}function cT(e,n){if(e==="click")return mu(n)}function fT(e,n){if(e==="input"||e==="change")return mu(n)}function hT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:hT;function bl(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ai.call(n,f)||!An(e[f],n[f]))return!1}return!0}function Jm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wm(e,n){var a=Jm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Jm(a)}}function tg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?tg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ua(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ua(e.document)}return n}function Sf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var dT=$n&&"documentMode"in document&&11>=document.documentMode,ls=null,bf=null,Rl=null,Rf=!1;function ng(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||ls==null||ls!==ua(l)||(l=ls,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rl&&bl(Rl,l)||(Rl=l,l=Wu(bf,"onSelect"),0<l.length&&(n=new Wa("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=ls)))}function Ea(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var os={animationend:Ea("Animation","AnimationEnd"),animationiteration:Ea("Animation","AnimationIteration"),animationstart:Ea("Animation","AnimationStart"),transitionrun:Ea("Transition","TransitionRun"),transitionstart:Ea("Transition","TransitionStart"),transitioncancel:Ea("Transition","TransitionCancel"),transitionend:Ea("Transition","TransitionEnd")},wf={},ig={};$n&&(ig=document.createElement("div").style,"AnimationEvent"in window||(delete os.animationend.animation,delete os.animationiteration.animation,delete os.animationstart.animation),"TransitionEvent"in window||delete os.transitionend.transition);function Ta(e){if(wf[e])return wf[e];if(!os[e])return e;var n=os[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in ig)return wf[e]=n[a];return e}var rg=Ta("animationend"),ag=Ta("animationiteration"),sg=Ta("animationstart"),mT=Ta("transitionrun"),gT=Ta("transitionstart"),pT=Ta("transitioncancel"),lg=Ta("transitionend"),og=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function Zn(e,n){og.set(e,n),Xn(n,[e])}var ug=new WeakMap;function kn(e,n){if(typeof e=="object"&&e!==null){var a=ug.get(e);return a!==void 0?a:(n={value:e,source:n,stack:$a(n)},ug.set(e,n),n)}return{value:e,source:n,stack:$a(n)}}var zn=[],us=0,Df=0;function gu(){for(var e=us,n=Df=us=0;n<e;){var a=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var f=zn[n];zn[n++]=null;var d=zn[n];if(zn[n++]=null,l!==null&&f!==null){var v=l.pending;v===null?f.next=f:(f.next=v.next,v.next=f),l.pending=f}d!==0&&cg(a,f,d)}}function pu(e,n,a,l){zn[us++]=e,zn[us++]=n,zn[us++]=a,zn[us++]=l,Df|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Vf(e,n,a,l){return pu(e,n,a,l),yu(e)}function cs(e,n){return pu(e,null,null,n),yu(e)}function cg(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-ne(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=a|536870912),d):null}function yu(e){if(50<$l)throw $l=0,Lh=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fs={};function yT(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,a,l){return new yT(e,n,a,l)}function xf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xi(e,n){var a=e.alternate;return a===null?(a=Sn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function fg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _u(e,n,a,l,f,d){var v=0;if(l=e,typeof e=="function")xf(e)&&(v=1);else if(typeof e=="string")v=v1(e,a,bt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,a,n,f),e.elementType=C,e.lanes=d,e;case U:return Aa(a.children,f,d,n);case Q:v=8,f|=24;break;case q:return e=Sn(12,a,n,f|2),e.elementType=q,e.lanes=d,e;case dt:return e=Sn(13,a,n,f),e.elementType=dt,e.lanes=d,e;case Ot:return e=Sn(19,a,n,f),e.elementType=Ot,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tt:case st:v=10;break t;case X:v=9;break t;case yt:v=11;break t;case O:v=14;break t;case R:v=16,l=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return n=Sn(v,a,n,f),n.elementType=e,n.type=l,n.lanes=d,n}function Aa(e,n,a,l){return e=Sn(7,e,l,n),e.lanes=a,e}function If(e,n,a){return e=Sn(6,e,null,n),e.lanes=a,e}function Nf(e,n,a){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var hs=[],ds=0,vu=null,Eu=0,Bn=[],jn=0,Sa=null,$i=1,Zi="";function ba(e,n){hs[ds++]=Eu,hs[ds++]=vu,vu=e,Eu=n}function hg(e,n,a){Bn[jn++]=$i,Bn[jn++]=Zi,Bn[jn++]=Sa,Sa=e;var l=$i;e=Zi;var f=32-ne(l)-1;l&=~(1<<f),a+=1;var d=32-ne(n)+f;if(30<d){var v=f-f%5;d=(l&(1<<v)-1).toString(32),l>>=v,f-=v,$i=1<<32-ne(n)+f|a<<f|l,Zi=d+e}else $i=1<<d|a<<f|l,Zi=e}function Of(e){e.return!==null&&(ba(e,1),hg(e,1,0))}function Mf(e){for(;e===vu;)vu=hs[--ds],hs[ds]=null,Eu=hs[--ds],hs[ds]=null;for(;e===Sa;)Sa=Bn[--jn],Bn[jn]=null,Zi=Bn[--jn],Bn[jn]=null,$i=Bn[--jn],Bn[jn]=null}var fn=null,ve=null,Jt=!1,Ra=null,_i=!1,Lf=Error(s(519));function wa(e){var n=Error(s(418,""));throw Dl(kn(n,e)),Lf}function dg(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[Oe]=e,n[we]=l,a){case"dialog":Ft("cancel",n),Ft("close",n);break;case"iframe":case"object":case"embed":Ft("load",n);break;case"video":case"audio":for(a=0;a<Jl.length;a++)Ft(Jl[a],n);break;case"source":Ft("error",n);break;case"img":case"image":case"link":Ft("error",n),Ft("load",n);break;case"details":Ft("toggle",n);break;case"input":Ft("invalid",n),ca(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Za(n);break;case"select":Ft("invalid",n);break;case"textarea":Ft("invalid",n),fa(n,l.value,l.defaultValue,l.children),Za(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||xy(n.textContent,a)?(l.popover!=null&&(Ft("beforetoggle",n),Ft("toggle",n)),l.onScroll!=null&&Ft("scroll",n),l.onScrollEnd!=null&&Ft("scrollend",n),l.onClick!=null&&(n.onclick=tc),n=!0):n=!1,n||wa(e)}function mg(e){for(fn=e.return;fn;)switch(fn.tag){case 5:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:fn=fn.return}}function wl(e){if(e!==fn)return!1;if(!Jt)return mg(e),Jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Zh(e.type,e.memoizedProps)),a=!a),a&&ve&&wa(e),mg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ve=Wn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ve=null}}else n===27?(n=ve,qr(e.type)?(e=ed,ed=null,ve=e):ve=n):ve=fn?Wn(e.stateNode.nextSibling):null;return!0}function Cl(){ve=fn=null,Jt=!1}function gg(){var e=Ra;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Ra=null),e}function Dl(e){Ra===null?Ra=[e]:Ra.push(e)}var Uf=at(null),Ca=null,Ji=null;function Cr(e,n,a){lt(Uf,n._currentValue),n._currentValue=a}function Wi(e){e._currentValue=Uf.current,ht(Uf)}function Pf(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function kf(e,n,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var v=f.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=f;for(var D=0;D<n.length;D++)if(T.context===n[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Pf(d.return,a,e),l||(v=null);break t}d=T.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Pf(v,a,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Vl(e,n,a,l){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=f.type;An(f.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(f===_e.current){if(v=f.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(ro):e=[ro])}f=f.return}e!==null&&kf(n,e,a,l),n.flags|=262144}function Tu(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Da(e){Ca=e,Ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function en(e){return pg(Ca,e)}function Au(e,n){return Ca===null&&Da(e),pg(e,n)}function pg(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ji===null){if(e===null)throw Error(s(308));Ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Ji=Ji.next=n;return a}var _T=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},vT=r.unstable_scheduleCallback,ET=r.unstable_NormalPriority,Ue={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new _T,data:new Map,refCount:0}}function xl(e){e.refCount--,e.refCount===0&&vT(ET,function(){e.controller.abort()})}var Il=null,Bf=0,ms=0,gs=null;function TT(e,n){if(Il===null){var a=Il=[];Bf=0,ms=qh(),gs={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bf++,n.then(yg,yg),n}function yg(){if(--Bf===0&&Il!==null){gs!==null&&(gs.status="fulfilled");var e=Il;Il=null,ms=0,gs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function AT(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var _g=K.S;K.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&TT(e,n),_g!==null&&_g(e,n)};var Va=at(null);function jf(){var e=Va.current;return e!==null?e:ce.pooledCache}function Su(e,n){n===null?lt(Va,Va.current):lt(Va,n.pool)}function vg(){var e=jf();return e===null?null:{parent:Ue._currentValue,pool:e}}var Nl=Error(s(460)),Eg=Error(s(474)),bu=Error(s(542)),qf={then:function(){}};function Tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ru(){}function Ag(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Ru,Ru),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bg(e),e;default:if(typeof n.status=="string")n.then(Ru,Ru);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,bg(e),e}throw Ol=n,Nl}}var Ol=null;function Sg(){if(Ol===null)throw Error(s(459));var e=Ol;return Ol=null,e}function bg(e){if(e===Nl||e===bu)throw Error(s(483))}var Dr=!1;function Hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xr(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ie&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=yu(e),cg(e,null,a),n}return pu(e,l,n,a),yu(e)}function Ml(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,ol(e,a)}}function Gf(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?f=d=n:d=d.next=n}else f=d=n;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Qf=!1;function Ll(){if(Qf){var e=gs;if(e!==null)throw e}}function Ul(e,n,a,l){Qf=!1;var f=e.updateQueue;Dr=!1;var d=f.firstBaseUpdate,v=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var D=T,j=D.next;D.next=null,v===null?d=j:v.next=j,v=D;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==v&&(T===null?W.firstBaseUpdate=j:T.next=j,W.lastBaseUpdate=D))}if(d!==null){var nt=f.baseState;v=0,W=j=D=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Kt&F)===F:(l&F)===F){F!==0&&F===ms&&(Qf=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var xt=e,wt=T;F=n;var oe=a;switch(wt.tag){case 1:if(xt=wt.payload,typeof xt=="function"){nt=xt.call(oe,nt,F);break t}nt=xt;break t;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=wt.payload,F=typeof xt=="function"?xt.call(oe,nt,F):xt,F==null)break t;nt=E({},nt,F);break t;case 2:Dr=!0}}F=T.callback,F!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(j=W=G,D=nt):W=W.next=G,v|=F;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;G=T,T=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);W===null&&(D=nt),f.baseState=D,f.firstBaseUpdate=j,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),kr|=v,e.lanes=v,e.memoizedState=nt}}function Rg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function wg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Rg(a[e],n)}var ps=at(null),wu=at(0);function Cg(e,n){e=sr,lt(wu,e),lt(ps,n),sr=e|n.baseLanes}function Yf(){lt(wu,sr),lt(ps,ps.current)}function Kf(){sr=wu.current,ht(ps),ht(wu)}var Ir=0,kt=null,se=null,De=null,Cu=!1,ys=!1,xa=!1,Du=0,Pl=0,_s=null,ST=0;function Ae(){throw Error(s(321))}function Xf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!An(e[a],n[a]))return!1;return!0}function $f(e,n,a,l,f,d){return Ir=d,kt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,K.H=e===null||e.memoizedState===null?cp:fp,xa=!1,d=a(l,f),xa=!1,ys&&(d=Vg(n,a,l,f)),Dg(e),d}function Dg(e){K.H=Mu;var n=se!==null&&se.next!==null;if(Ir=0,De=se=kt=null,Cu=!1,Pl=0,_s=null,n)throw Error(s(300));e===null||He||(e=e.dependencies,e!==null&&Tu(e)&&(He=!0))}function Vg(e,n,a,l){kt=e;var f=0;do{if(ys&&(_s=null),Pl=0,ys=!1,25<=f)throw Error(s(301));if(f+=1,De=se=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=xT,d=n(a,l)}while(ys);return d}function bT(){var e=K.H,n=e.useState()[0];return n=typeof n.then=="function"?kl(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(kt.flags|=1024),n}function Zf(){var e=Du!==0;return Du=0,e}function Jf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Wf(e){if(Cu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Cu=!1}Ir=0,De=se=kt=null,ys=!1,Pl=Du=0,_s=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?kt.memoizedState=De=e:De=De.next=e,De}function Ve(){if(se===null){var e=kt.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=De===null?kt.memoizedState:De.next;if(n!==null)De=n,se=e;else{if(e===null)throw kt.alternate===null?Error(s(467)):Error(s(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},De===null?kt.memoizedState=De=e:De=De.next=e}return De}function th(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(e){var n=Pl;return Pl+=1,_s===null&&(_s=[]),e=Ag(_s,e,n),n=kt,(De===null?n.memoizedState:De.next)===null&&(n=n.alternate,K.H=n===null||n.memoizedState===null?cp:fp),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return kl(e);if(e.$$typeof===st)return en(e)}throw Error(s(438,String(e)))}function eh(e){var n=null,a=kt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=kt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=th(),kt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=I;return n.index++,a}function tr(e,n){return typeof n=="function"?n(e):n}function xu(e){var n=Ve();return nh(n,se,e)}function nh(e,n,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var v=f.next;f.next=d.next,d.next=v}n.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var T=v=null,D=null,j=n,W=!1;do{var nt=j.lane&-536870913;if(nt!==j.lane?(Kt&nt)===nt:(Ir&nt)===nt){var F=j.revertLane;if(F===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),nt===ms&&(W=!0);else if((Ir&F)===F){j=j.next,F===ms&&(W=!0);continue}else nt={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=nt,v=d):D=D.next=nt,kt.lanes|=F,kr|=F;nt=j.action,xa&&a(d,nt),d=j.hasEagerState?j.eagerState:a(d,nt)}else F={lane:nt,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(T=D=F,v=d):D=D.next=F,kt.lanes|=nt,kr|=nt;j=j.next}while(j!==null&&j!==n);if(D===null?v=d:D.next=T,!An(d,e.memoizedState)&&(He=!0,W&&(a=gs,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ih(e){var n=Ve(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=n.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do d=e(d,v.action),v=v.next;while(v!==f);An(d,n.memoizedState)||(He=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function xg(e,n,a){var l=kt,f=Ve(),d=Jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!An((se||f).memoizedState,a);v&&(f.memoizedState=a,He=!0),f=f.queue;var T=Og.bind(null,l,f,e);if(zl(2048,8,T,[e]),f.getSnapshot!==n||v||De!==null&&De.memoizedState.tag&1){if(l.flags|=2048,vs(9,Iu(),Ng.bind(null,l,f,a,n),null),ce===null)throw Error(s(349));d||(Ir&124)!==0||Ig(l,n,a)}return a}function Ig(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=kt.updateQueue,n===null?(n=th(),kt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ng(e,n,a,l){n.value=a,n.getSnapshot=l,Mg(n)&&Lg(e)}function Og(e,n,a){return a(function(){Mg(n)&&Lg(e)})}function Mg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!An(e,a)}catch{return!0}}function Lg(e){var n=cs(e,2);n!==null&&Dn(n,e,2)}function rh(e){var n=gn();if(typeof e=="function"){var a=e;if(e=a(),xa){Ut(!0);try{a()}finally{Ut(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:e},n}function Ug(e,n,a,l){return e.baseState=a,nh(e,se,typeof l=="function"?l:tr)}function RT(e,n,a,l,f){if(Ou(e))throw Error(s(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Pg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Pg(e,n){var a=n.action,l=n.payload,f=e.state;if(n.isTransition){var d=K.T,v={};K.T=v;try{var T=a(f,l),D=K.S;D!==null&&D(v,T),kg(e,n,T)}catch(j){ah(e,n,j)}finally{K.T=d}}else try{d=a(f,l),kg(e,n,d)}catch(j){ah(e,n,j)}}function kg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(e,n,l)},function(l){return ah(e,n,l)}):zg(e,n,a)}function zg(e,n,a){n.status="fulfilled",n.value=a,Bg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Pg(e,a)))}function ah(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Bg(n),n=n.next;while(n!==l)}e.action=null}function Bg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function jg(e,n){return n}function qg(e,n){if(Jt){var a=ce.formState;if(a!==null){t:{var l=kt;if(Jt){if(ve){e:{for(var f=ve,d=_i;f.nodeType!==8;){if(!d){f=null;break e}if(f=Wn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ve=Wn(f.nextSibling),l=f.data==="F!";break t}}wa(l)}l=!1}l&&(n=a[0])}}return a=gn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:n},a.queue=l,a=lp.bind(null,kt,l),l.dispatch=a,l=rh(!1),d=ch.bind(null,kt,!1,l.queue),l=gn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,a=RT.bind(null,kt,f,d,a),f.dispatch=a,l.memoizedState=e,[n,a,!1]}function Hg(e){var n=Ve();return Fg(n,se,e)}function Fg(e,n,a){if(n=nh(e,n,jg)[0],e=xu(tr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=kl(n)}catch(v){throw v===Nl?bu:v}else l=n;n=Ve();var f=n.queue,d=f.dispatch;return a!==n.memoizedState&&(kt.flags|=2048,vs(9,Iu(),wT.bind(null,f,a),null)),[l,d,e]}function wT(e,n){e.action=n}function Gg(e){var n=Ve(),a=se;if(a!==null)return Fg(n,a,e);Ve(),n=n.memoizedState,a=Ve();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function vs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=kt.updateQueue,n===null&&(n=th(),kt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Iu(){return{destroy:void 0,resource:void 0}}function Qg(){return Ve().memoizedState}function Nu(e,n,a,l){var f=gn();l=l===void 0?null:l,kt.flags|=e,f.memoizedState=vs(1|n,Iu(),a,l)}function zl(e,n,a,l){var f=Ve();l=l===void 0?null:l;var d=f.memoizedState.inst;se!==null&&l!==null&&Xf(l,se.memoizedState.deps)?f.memoizedState=vs(n,d,a,l):(kt.flags|=e,f.memoizedState=vs(1|n,d,a,l))}function Yg(e,n){Nu(8390656,8,e,n)}function Kg(e,n){zl(2048,8,e,n)}function Xg(e,n){return zl(4,2,e,n)}function $g(e,n){return zl(4,4,e,n)}function Zg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Jg(e,n,a){a=a!=null?a.concat([e]):null,zl(4,4,Zg.bind(null,n,e),a)}function sh(){}function Wg(e,n){var a=Ve();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Xf(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function tp(e,n){var a=Ve();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Xf(n,l[1]))return l[0];if(l=e(),xa){Ut(!0);try{e()}finally{Ut(!1)}}return a.memoizedState=[l,n],l}function lh(e,n,a){return a===void 0||(Ir&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=iy(),kt.lanes|=e,kr|=e,a)}function ep(e,n,a,l){return An(a,n)?a:ps.current!==null?(e=lh(e,a,l),An(e,n)||(He=!0),e):(Ir&42)===0?(He=!0,e.memoizedState=a):(e=iy(),kt.lanes|=e,kr|=e,n)}function np(e,n,a,l,f){var d=ot.p;ot.p=d!==0&&8>d?d:8;var v=K.T,T={};K.T=T,ch(e,!1,n,a);try{var D=f(),j=K.S;if(j!==null&&j(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=AT(D,l);Bl(e,n,W,Cn(e))}else Bl(e,n,l,Cn(e))}catch(nt){Bl(e,n,{then:function(){},status:"rejected",reason:nt},Cn())}finally{ot.p=d,K.T=v}}function CT(){}function oh(e,n,a,l){if(e.tag!==5)throw Error(s(476));var f=ip(e).queue;np(e,f,n,Et,a===null?CT:function(){return rp(e),a(l)})}function ip(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Et,baseState:Et,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:Et},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function rp(e){var n=ip(e).next.queue;Bl(e,n,{},Cn())}function uh(){return en(ro)}function ap(){return Ve().memoizedState}function sp(){return Ve().memoizedState}function DT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Cn();e=Vr(a);var l=xr(n,e,a);l!==null&&(Dn(l,n,a),Ml(l,n,a)),n={cache:zf()},e.payload=n;return}n=n.return}}function VT(e,n,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ou(e)?op(n,a):(a=Vf(e,n,a,l),a!==null&&(Dn(a,e,l),up(a,n,l)))}function lp(e,n,a){var l=Cn();Bl(e,n,a,l)}function Bl(e,n,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ou(e))op(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var v=n.lastRenderedState,T=d(v,a);if(f.hasEagerState=!0,f.eagerState=T,An(T,v))return pu(e,n,f,0),ce===null&&gu(),!1}catch{}finally{}if(a=Vf(e,n,f,l),a!==null)return Dn(a,e,l),up(a,n,l),!0}return!1}function ch(e,n,a,l){if(l={lane:2,revertLane:qh(),action:l,hasEagerState:!1,eagerState:null,next:null},Ou(e)){if(n)throw Error(s(479))}else n=Vf(e,a,l,2),n!==null&&Dn(n,e,2)}function Ou(e){var n=e.alternate;return e===kt||n!==null&&n===kt}function op(e,n){ys=Cu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function up(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,ol(e,a)}}var Mu={readContext:en,use:Vu,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useLayoutEffect:Ae,useInsertionEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useSyncExternalStore:Ae,useId:Ae,useHostTransitionStatus:Ae,useFormState:Ae,useActionState:Ae,useOptimistic:Ae,useMemoCache:Ae,useCacheRefresh:Ae},cp={readContext:en,use:Vu,useCallback:function(e,n){return gn().memoizedState=[e,n===void 0?null:n],e},useContext:en,useEffect:Yg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Nu(4194308,4,Zg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Nu(4194308,4,e,n)},useInsertionEffect:function(e,n){Nu(4,2,e,n)},useMemo:function(e,n){var a=gn();n=n===void 0?null:n;var l=e();if(xa){Ut(!0);try{e()}finally{Ut(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=gn();if(a!==void 0){var f=a(n);if(xa){Ut(!0);try{a(n)}finally{Ut(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=VT.bind(null,kt,e),[l.memoizedState,e]},useRef:function(e){var n=gn();return e={current:e},n.memoizedState=e},useState:function(e){e=rh(e);var n=e.queue,a=lp.bind(null,kt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:sh,useDeferredValue:function(e,n){var a=gn();return lh(a,e,n)},useTransition:function(){var e=rh(!1);return e=np.bind(null,kt,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=kt,f=gn();if(Jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),ce===null)throw Error(s(349));(Kt&124)!==0||Ig(l,n,a)}f.memoizedState=a;var d={value:a,getSnapshot:n};return f.queue=d,Yg(Og.bind(null,l,d,e),[e]),l.flags|=2048,vs(9,Iu(),Ng.bind(null,l,d,a,n),null),a},useId:function(){var e=gn(),n=ce.identifierPrefix;if(Jt){var a=Zi,l=$i;a=(l&~(1<<32-ne(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Du++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=ST++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:uh,useFormState:qg,useActionState:qg,useOptimistic:function(e){var n=gn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=ch.bind(null,kt,!0,a),a.dispatch=n,[e,n]},useMemoCache:eh,useCacheRefresh:function(){return gn().memoizedState=DT.bind(null,kt)}},fp={readContext:en,use:Vu,useCallback:Wg,useContext:en,useEffect:Kg,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:tp,useReducer:xu,useRef:Qg,useState:function(){return xu(tr)},useDebugValue:sh,useDeferredValue:function(e,n){var a=Ve();return ep(a,se.memoizedState,e,n)},useTransition:function(){var e=xu(tr)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:kl(e),n]},useSyncExternalStore:xg,useId:ap,useHostTransitionStatus:uh,useFormState:Hg,useActionState:Hg,useOptimistic:function(e,n){var a=Ve();return Ug(a,se,e,n)},useMemoCache:eh,useCacheRefresh:sp},xT={readContext:en,use:Vu,useCallback:Wg,useContext:en,useEffect:Kg,useImperativeHandle:Jg,useInsertionEffect:Xg,useLayoutEffect:$g,useMemo:tp,useReducer:ih,useRef:Qg,useState:function(){return ih(tr)},useDebugValue:sh,useDeferredValue:function(e,n){var a=Ve();return se===null?lh(a,e,n):ep(a,se.memoizedState,e,n)},useTransition:function(){var e=ih(tr)[0],n=Ve().memoizedState;return[typeof e=="boolean"?e:kl(e),n]},useSyncExternalStore:xg,useId:ap,useHostTransitionStatus:uh,useFormState:Gg,useActionState:Gg,useOptimistic:function(e,n){var a=Ve();return se!==null?Ug(a,se,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:eh,useCacheRefresh:sp},Es=null,jl=0;function Lu(e){var n=jl;return jl+=1,Es===null&&(Es=[]),Ag(Es,e,n)}function ql(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hp(e){var n=e._init;return n(e._payload)}function dp(e){function n(P,M){if(e){var B=P.deletions;B===null?(P.deletions=[M],P.flags|=16):B.push(M)}}function a(P,M){if(!e)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function f(P,M){return P=Xi(P,M),P.index=0,P.sibling=null,P}function d(P,M,B){return P.index=B,e?(B=P.alternate,B!==null?(B=B.index,B<M?(P.flags|=67108866,M):B):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return e&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,B,et){return M===null||M.tag!==6?(M=If(B,P.mode,et),M.return=P,M):(M=f(M,B),M.return=P,M)}function D(P,M,B,et){var vt=B.type;return vt===U?W(P,M,B.props.children,et,B.key):M!==null&&(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&hp(vt)===M.type)?(M=f(M,B.props),ql(M,B),M.return=P,M):(M=_u(B.type,B.key,B.props,null,P.mode,et),ql(M,B),M.return=P,M)}function j(P,M,B,et){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Nf(B,P.mode,et),M.return=P,M):(M=f(M,B.children||[]),M.return=P,M)}function W(P,M,B,et,vt){return M===null||M.tag!==7?(M=Aa(B,P.mode,et,vt),M.return=P,M):(M=f(M,B),M.return=P,M)}function nt(P,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=If(""+M,P.mode,B),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case S:return B=_u(M.type,M.key,M.props,null,P.mode,B),ql(B,M),B.return=P,B;case k:return M=Nf(M,P.mode,B),M.return=P,M;case R:var et=M._init;return M=et(M._payload),nt(P,M,B)}if(Bt(M)||N(M))return M=Aa(M,P.mode,B,null),M.return=P,M;if(typeof M.then=="function")return nt(P,Lu(M),B);if(M.$$typeof===st)return nt(P,Au(P,M),B);Uu(P,M)}return null}function F(P,M,B,et){var vt=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return vt!==null?null:T(P,M,""+B,et);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return B.key===vt?D(P,M,B,et):null;case k:return B.key===vt?j(P,M,B,et):null;case R:return vt=B._init,B=vt(B._payload),F(P,M,B,et)}if(Bt(B)||N(B))return vt!==null?null:W(P,M,B,et,null);if(typeof B.then=="function")return F(P,M,Lu(B),et);if(B.$$typeof===st)return F(P,M,Au(P,B),et);Uu(P,B)}return null}function G(P,M,B,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return P=P.get(B)||null,T(M,P,""+et,vt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case S:return P=P.get(et.key===null?B:et.key)||null,D(M,P,et,vt);case k:return P=P.get(et.key===null?B:et.key)||null,j(M,P,et,vt);case R:var qt=et._init;return et=qt(et._payload),G(P,M,B,et,vt)}if(Bt(et)||N(et))return P=P.get(B)||null,W(M,P,et,vt,null);if(typeof et.then=="function")return G(P,M,B,Lu(et),vt);if(et.$$typeof===st)return G(P,M,B,Au(M,et),vt);Uu(M,et)}return null}function xt(P,M,B,et){for(var vt=null,qt=null,St=M,Ct=M=0,Ge=null;St!==null&&Ct<B.length;Ct++){St.index>Ct?(Ge=St,St=null):Ge=St.sibling;var Zt=F(P,St,B[Ct],et);if(Zt===null){St===null&&(St=Ge);break}e&&St&&Zt.alternate===null&&n(P,St),M=d(Zt,M,Ct),qt===null?vt=Zt:qt.sibling=Zt,qt=Zt,St=Ge}if(Ct===B.length)return a(P,St),Jt&&ba(P,Ct),vt;if(St===null){for(;Ct<B.length;Ct++)St=nt(P,B[Ct],et),St!==null&&(M=d(St,M,Ct),qt===null?vt=St:qt.sibling=St,qt=St);return Jt&&ba(P,Ct),vt}for(St=l(St);Ct<B.length;Ct++)Ge=G(St,P,Ct,B[Ct],et),Ge!==null&&(e&&Ge.alternate!==null&&St.delete(Ge.key===null?Ct:Ge.key),M=d(Ge,M,Ct),qt===null?vt=Ge:qt.sibling=Ge,qt=Ge);return e&&St.forEach(function(Yr){return n(P,Yr)}),Jt&&ba(P,Ct),vt}function wt(P,M,B,et){if(B==null)throw Error(s(151));for(var vt=null,qt=null,St=M,Ct=M=0,Ge=null,Zt=B.next();St!==null&&!Zt.done;Ct++,Zt=B.next()){St.index>Ct?(Ge=St,St=null):Ge=St.sibling;var Yr=F(P,St,Zt.value,et);if(Yr===null){St===null&&(St=Ge);break}e&&St&&Yr.alternate===null&&n(P,St),M=d(Yr,M,Ct),qt===null?vt=Yr:qt.sibling=Yr,qt=Yr,St=Ge}if(Zt.done)return a(P,St),Jt&&ba(P,Ct),vt;if(St===null){for(;!Zt.done;Ct++,Zt=B.next())Zt=nt(P,Zt.value,et),Zt!==null&&(M=d(Zt,M,Ct),qt===null?vt=Zt:qt.sibling=Zt,qt=Zt);return Jt&&ba(P,Ct),vt}for(St=l(St);!Zt.done;Ct++,Zt=B.next())Zt=G(St,P,Ct,Zt.value,et),Zt!==null&&(e&&Zt.alternate!==null&&St.delete(Zt.key===null?Ct:Zt.key),M=d(Zt,M,Ct),qt===null?vt=Zt:qt.sibling=Zt,qt=Zt);return e&&St.forEach(function(I1){return n(P,I1)}),Jt&&ba(P,Ct),vt}function oe(P,M,B,et){if(typeof B=="object"&&B!==null&&B.type===U&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case S:t:{for(var vt=B.key;M!==null;){if(M.key===vt){if(vt=B.type,vt===U){if(M.tag===7){a(P,M.sibling),et=f(M,B.props.children),et.return=P,P=et;break t}}else if(M.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===R&&hp(vt)===M.type){a(P,M.sibling),et=f(M,B.props),ql(et,B),et.return=P,P=et;break t}a(P,M);break}else n(P,M);M=M.sibling}B.type===U?(et=Aa(B.props.children,P.mode,et,B.key),et.return=P,P=et):(et=_u(B.type,B.key,B.props,null,P.mode,et),ql(et,B),et.return=P,P=et)}return v(P);case k:t:{for(vt=B.key;M!==null;){if(M.key===vt)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(P,M.sibling),et=f(M,B.children||[]),et.return=P,P=et;break t}else{a(P,M);break}else n(P,M);M=M.sibling}et=Nf(B,P.mode,et),et.return=P,P=et}return v(P);case R:return vt=B._init,B=vt(B._payload),oe(P,M,B,et)}if(Bt(B))return xt(P,M,B,et);if(N(B)){if(vt=N(B),typeof vt!="function")throw Error(s(150));return B=vt.call(B),wt(P,M,B,et)}if(typeof B.then=="function")return oe(P,M,Lu(B),et);if(B.$$typeof===st)return oe(P,M,Au(P,B),et);Uu(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(P,M.sibling),et=f(M,B),et.return=P,P=et):(a(P,M),et=If(B,P.mode,et),et.return=P,P=et),v(P)):a(P,M)}return function(P,M,B,et){try{jl=0;var vt=oe(P,M,B,et);return Es=null,vt}catch(St){if(St===Nl||St===bu)throw St;var qt=Sn(29,St,null,P.mode);return qt.lanes=et,qt.return=P,qt}finally{}}}var Ts=dp(!0),mp=dp(!1),qn=at(null),vi=null;function Nr(e){var n=e.alternate;lt(Pe,Pe.current&1),lt(qn,e),vi===null&&(n===null||ps.current!==null||n.memoizedState!==null)&&(vi=e)}function gp(e){if(e.tag===22){if(lt(Pe,Pe.current),lt(qn,e),vi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(vi=e)}}else Or()}function Or(){lt(Pe,Pe.current),lt(qn,qn.current)}function er(e){ht(qn),vi===e&&(vi=null),ht(Pe)}var Pe=at(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||td(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function fh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var hh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Cn(),f=Vr(l);f.payload=n,a!=null&&(f.callback=a),n=xr(e,f,l),n!==null&&(Dn(n,e,l),Ml(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Cn(),f=Vr(l);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=xr(e,f,l),n!==null&&(Dn(n,e,l),Ml(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Cn(),l=Vr(a);l.tag=2,n!=null&&(l.callback=n),n=xr(e,l,a),n!==null&&(Dn(n,e,a),Ml(n,e,a))}};function pp(e,n,a,l,f,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,v):n.prototype&&n.prototype.isPureReactComponent?!bl(a,l)||!bl(f,d):!0}function yp(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&hh.enqueueReplaceState(n,n.state,null)}function Ia(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=E({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}var ku=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _p(e){ku(e)}function vp(e){console.error(e)}function Ep(e){ku(e)}function zu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Tp(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function dh(e,n,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){zu(e,n)},a}function Ap(e){return e=Vr(e),e.tag=3,e}function Sp(e,n,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){Tp(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Tp(n,a,l),typeof f!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function IT(e,n,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&Vl(n,a,f,!0),a=qn.current,a!==null){switch(a.tag){case 13:return vi===null?Ph():a.alternate===null&&Ee===0&&(Ee=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===qf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),zh(e,l,f)),!1;case 22:return a.flags|=65536,l===qf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),zh(e,l,f)),!1}throw Error(s(435,a.tag))}return zh(e,l,f),Ph(),!1}if(Jt)return n=qn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==Lf&&(e=Error(s(422),{cause:l}),Dl(kn(e,a)))):(l!==Lf&&(n=Error(s(423),{cause:l}),Dl(kn(n,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=kn(l,a),f=dh(e.stateNode,l,f),Gf(e,f),Ee!==4&&(Ee=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Xl===null?Xl=[d]:Xl.push(d),Ee!==4&&(Ee=2),n===null)return!0;l=kn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=dh(a.stateNode,l,e),Gf(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Ap(f),Sp(f,e,a,l),Gf(a,f),!1}a=a.return}while(a!==null);return!1}var bp=Error(s(461)),He=!1;function Xe(e,n,a,l){n.child=e===null?mp(n,null,a,l):Ts(n,e.child,a,l)}function Rp(e,n,a,l,f){a=a.render;var d=n.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Da(n),l=$f(e,n,a,v,d,f),T=Zf(),e!==null&&!He?(Jf(e,n,f),nr(e,n,f)):(Jt&&T&&Of(n),n.flags|=1,Xe(e,n,l,f),n.child)}function wp(e,n,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,Cp(e,n,d,l,f)):(e=_u(a.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Th(e,f)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:bl,a(v,l)&&e.ref===n.ref)return nr(e,n,f)}return n.flags|=1,e=Xi(d,l),e.ref=n.ref,e.return=n,n.child=e}function Cp(e,n,a,l,f){if(e!==null){var d=e.memoizedProps;if(bl(d,l)&&e.ref===n.ref)if(He=!1,n.pendingProps=l=d,Th(e,f))(e.flags&131072)!==0&&(He=!0);else return n.lanes=e.lanes,nr(e,n,f)}return mh(e,n,a,l,f)}function Dp(e,n,a){var l=n.pendingProps,f=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return Vp(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Su(n,d!==null?d.cachePool:null),d!==null?Cg(n,d):Yf(),gp(n);else return n.lanes=n.childLanes=536870912,Vp(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(Su(n,d.cachePool),Cg(n,d),Or(),n.memoizedState=null):(e!==null&&Su(n,null),Yf(),Or());return Xe(e,n,f,a),n.child}function Vp(e,n,a,l){var f=jf();return f=f===null?null:{parent:Ue._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&Su(n,null),Yf(),gp(n),e!==null&&Vl(e,n,l,!0),null}function Bu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function mh(e,n,a,l,f){return Da(n),a=$f(e,n,a,l,void 0,f),l=Zf(),e!==null&&!He?(Jf(e,n,f),nr(e,n,f)):(Jt&&l&&Of(n),n.flags|=1,Xe(e,n,a,f),n.child)}function xp(e,n,a,l,f,d){return Da(n),n.updateQueue=null,a=Vg(n,l,a,f),Dg(e),l=Zf(),e!==null&&!He?(Jf(e,n,d),nr(e,n,d)):(Jt&&l&&Of(n),n.flags|=1,Xe(e,n,a,d),n.child)}function Ip(e,n,a,l,f){if(Da(n),n.stateNode===null){var d=fs,v=a.contextType;typeof v=="object"&&v!==null&&(d=en(v)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=hh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},Hf(n),v=a.contextType,d.context=typeof v=="object"&&v!==null?en(v):fs,d.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(fh(n,a,v,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&hh.enqueueReplaceState(d,d.state,null),Ul(n,l,d,f),Ll(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var T=n.memoizedProps,D=Ia(a,T);d.props=D;var j=d.context,W=a.contextType;v=fs,typeof W=="object"&&W!==null&&(v=en(W));var nt=a.getDerivedStateFromProps;W=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||j!==v)&&yp(n,d,l,v),Dr=!1;var F=n.memoizedState;d.state=F,Ul(n,l,d,f),Ll(),j=n.memoizedState,T||F!==j||Dr?(typeof nt=="function"&&(fh(n,a,nt,l),j=n.memoizedState),(D=Dr||pp(n,a,D,l,F,j,v))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),d.props=l,d.state=j,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,Ff(e,n),v=n.memoizedProps,W=Ia(a,v),d.props=W,nt=n.pendingProps,F=d.context,j=a.contextType,D=fs,typeof j=="object"&&j!==null&&(D=en(j)),T=a.getDerivedStateFromProps,(j=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==nt||F!==D)&&yp(n,d,l,D),Dr=!1,F=n.memoizedState,d.state=F,Ul(n,l,d,f),Ll();var G=n.memoizedState;v!==nt||F!==G||Dr||e!==null&&e.dependencies!==null&&Tu(e.dependencies)?(typeof T=="function"&&(fh(n,a,T,l),G=n.memoizedState),(W=Dr||pp(n,a,W,l,F,G,D)||e!==null&&e.dependencies!==null&&Tu(e.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,D)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),d.props=l,d.state=G,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&F===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,Bu(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Ts(n,e.child,null,f),n.child=Ts(n,null,a,f)):Xe(e,n,a,f),n.memoizedState=d.state,e=n.child):e=nr(e,n,f),e}function Np(e,n,a,l){return Cl(),n.flags|=256,Xe(e,n,a,l),n.child}var gh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ph(e){return{baseLanes:e,cachePool:vg()}}function yh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Hn),e}function Op(e,n,a){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),v&&(f=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Jt){if(f?Nr(n):Or(),Jt){var T=ve,D;if(D=T){t:{for(D=T,T=_i;D.nodeType!==8;){if(!T){T=null;break t}if(D=Wn(D.nextSibling),D===null){T=null;break t}}T=D}T!==null?(n.memoizedState={dehydrated:T,treeContext:Sa!==null?{id:$i,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},D=Sn(18,null,null,0),D.stateNode=T,D.return=n,n.child=D,fn=n,ve=null,D=!0):D=!1}D||wa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return td(T)?n.lanes=32:n.lanes=536870912,null;er(n)}return T=l.children,l=l.fallback,f?(Or(),f=n.mode,T=ju({mode:"hidden",children:T},f),l=Aa(l,f,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,f=n.child,f.memoizedState=ph(a),f.childLanes=yh(e,v,a),n.memoizedState=gh,l):(Nr(n),_h(n,T))}if(D=e.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)n.flags&256?(Nr(n),n.flags&=-257,n=vh(e,n,a)):n.memoizedState!==null?(Or(),n.child=e.child,n.flags|=128,n=null):(Or(),f=l.fallback,T=n.mode,l=ju({mode:"visible",children:l.children},T),f=Aa(f,T,a,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,Ts(n,e.child,null,a),l=n.child,l.memoizedState=ph(a),l.childLanes=yh(e,v,a),n.memoizedState=gh,n=f);else if(Nr(n),td(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(s(419)),l.stack="",l.digest=v,Dl({value:l,source:null,stack:null}),n=vh(e,n,a)}else if(He||Vl(e,n,a,!1),v=(a&e.childLanes)!==0,He||v){if(v=ce,v!==null&&(l=a&-a,l=(l&42)!==0?1:Er(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,cs(e,l),Dn(v,e,l),bp;T.data==="$?"||Ph(),n=vh(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,ve=Wn(T.nextSibling),fn=n,Jt=!0,Ra=null,_i=!1,e!==null&&(Bn[jn++]=$i,Bn[jn++]=Zi,Bn[jn++]=Sa,$i=e.id,Zi=e.overflow,Sa=n),n=_h(n,l.children),n.flags|=4096);return n}return f?(Or(),f=l.fallback,T=n.mode,D=e.child,j=D.sibling,l=Xi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?f=Xi(j,f):(f=Aa(f,T,a,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,T=e.child.memoizedState,T===null?T=ph(a):(D=T.cachePool,D!==null?(j=Ue._currentValue,D=D.parent!==j?{parent:j,pool:j}:D):D=vg(),T={baseLanes:T.baseLanes|a,cachePool:D}),f.memoizedState=T,f.childLanes=yh(e,v,a),n.memoizedState=gh,l):(Nr(n),a=e.child,e=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function _h(e,n){return n=ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ju(e,n){return e=Sn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function vh(e,n,a){return Ts(n,e.child,null,a),e=_h(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Mp(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Pf(e.return,n,a)}function Eh(e,n,a,l,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Lp(e,n,a){var l=n.pendingProps,f=l.revealOrder,d=l.tail;if(Xe(e,n,l.children,a),l=Pe.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mp(e,a,n);else if(e.tag===19)Mp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(lt(Pe,l),f){case"forwards":for(a=n.child,f=null;a!==null;)e=a.alternate,e!==null&&Pu(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Eh(n,!1,f,a,d);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Pu(e)===null){n.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}Eh(n,!0,a,null,d);break;case"together":Eh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function nr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),kr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Vl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Xi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Xi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Th(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Tu(e)))}function NT(e,n,a){switch(n.tag){case 3:ee(n,n.stateNode.containerInfo),Cr(n,Ue,e.memoizedState.cache),Cl();break;case 27:case 5:In(n);break;case 4:ee(n,n.stateNode.containerInfo);break;case 10:Cr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Op(e,n,a):(Nr(n),e=nr(e,n,a),e!==null?e.sibling:null);Nr(n);break;case 19:var f=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(Vl(e,n,a,!1),l=(a&n.childLanes)!==0),f){if(l)return Lp(e,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),lt(Pe,Pe.current),l)break;return null;case 22:case 23:return n.lanes=0,Dp(e,n,a);case 24:Cr(n,Ue,e.memoizedState.cache)}return nr(e,n,a)}function Up(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)He=!0;else{if(!Th(e,a)&&(n.flags&128)===0)return He=!1,NT(e,n,a);He=(e.flags&131072)!==0}else He=!1,Jt&&(n.flags&1048576)!==0&&hg(n,Eu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")xf(l)?(e=Ia(l,e),n.tag=1,n=Ip(null,n,l,e,a)):(n.tag=0,n=mh(null,n,l,e,a));else{if(l!=null){if(f=l.$$typeof,f===yt){n.tag=11,n=Rp(null,n,l,e,a);break t}else if(f===O){n.tag=14,n=wp(null,n,l,e,a);break t}}throw n=Pt(l)||l,Error(s(306,n,""))}}return n;case 0:return mh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,f=Ia(l,n.pendingProps),Ip(e,n,l,f,a);case 3:t:{if(ee(n,n.stateNode.containerInfo),e===null)throw Error(s(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,Ff(e,n),Ul(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Cr(n,Ue,l),l!==d.cache&&kf(n,[Ue],a,!0),Ll(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Np(e,n,l,a);break t}else if(l!==f){f=kn(Error(s(424)),n),Dl(f),n=Np(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ve=Wn(e.firstChild),fn=n,Jt=!0,Ra=null,_i=!0,a=mp(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cl(),l===f){n=nr(e,n,a);break t}Xe(e,n,l,a)}n=n.child}return n;case 26:return Bu(e,n),e===null?(a=By(n.type,null,n.pendingProps,null))?n.memoizedState=a:Jt||(a=n.type,e=n.pendingProps,l=ec(Vt.current).createElement(a),l[Oe]=n,l[we]=e,Ze(l,a,e),Te(l),n.stateNode=l):n.memoizedState=By(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return In(n),e===null&&Jt&&(l=n.stateNode=Py(n.type,n.pendingProps,Vt.current),fn=n,_i=!0,f=ve,qr(n.type)?(ed=f,ve=Wn(l.firstChild)):ve=f),Xe(e,n,n.pendingProps.children,a),Bu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Jt&&((f=l=ve)&&(l=s1(l,n.type,n.pendingProps,_i),l!==null?(n.stateNode=l,fn=n,ve=Wn(l.firstChild),_i=!1,f=!0):f=!1),f||wa(n)),In(n),f=n.type,d=n.pendingProps,v=e!==null?e.memoizedProps:null,l=d.children,Zh(f,d)?l=null:v!==null&&Zh(f,v)&&(n.flags|=32),n.memoizedState!==null&&(f=$f(e,n,bT,null,null,a),ro._currentValue=f),Bu(e,n),Xe(e,n,l,a),n.child;case 6:return e===null&&Jt&&((e=a=ve)&&(a=l1(a,n.pendingProps,_i),a!==null?(n.stateNode=a,fn=n,ve=null,e=!0):e=!1),e||wa(n)),null;case 13:return Op(e,n,a);case 4:return ee(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Ts(n,null,l,a):Xe(e,n,l,a),n.child;case 11:return Rp(e,n,n.type,n.pendingProps,a);case 7:return Xe(e,n,n.pendingProps,a),n.child;case 8:return Xe(e,n,n.pendingProps.children,a),n.child;case 12:return Xe(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Cr(n,n.type,l.value),Xe(e,n,l.children,a),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Da(n),f=en(f),l=l(f),n.flags|=1,Xe(e,n,l,a),n.child;case 14:return wp(e,n,n.type,n.pendingProps,a);case 15:return Cp(e,n,n.type,n.pendingProps,a);case 19:return Lp(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=ju(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Xi(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Dp(e,n,a);case 24:return Da(n),l=en(Ue),e===null?(f=jf(),f===null&&(f=ce,d=zf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),n.memoizedState={parent:l,cache:f},Hf(n),Cr(n,Ue,f)):((e.lanes&a)!==0&&(Ff(e,n),Ul(n,null,null,a),Ll()),f=e.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Cr(n,Ue,l)):(l=d.cache,Cr(n,Ue,l),l!==f.cache&&kf(n,[Ue],a,!0))),Xe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function ir(e){e.flags|=4}function Pp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gy(n)){if(n=qn.current,n!==null&&((Kt&4194048)===Kt?vi!==null:(Kt&62914560)!==Kt&&(Kt&536870912)===0||n!==vi))throw Ol=qf,Eg;e.flags|=8192}}function qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?sl():536870912,e.lanes|=n,Rs|=n)}function Hl(e,n){if(!Jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function OT(e,n,a){var l=n.pendingProps;switch(Mf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(n),null;case 1:return ge(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Wi(Ue),dn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(wl(n)?ir(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,gg())),ge(n),null;case 26:return a=n.memoizedState,e===null?(ir(n),a!==null?(ge(n),Pp(n,a)):(ge(n),n.flags&=-16777217)):a?a!==e.memoizedState?(ir(n),ge(n),Pp(n,a)):(ge(n),n.flags&=-16777217):(e.memoizedProps!==l&&ir(n),ge(n),n.flags&=-16777217),null;case 27:Qn(n),a=Vt.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ir(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ge(n),null}e=bt.current,wl(n)?dg(n):(e=Py(f,l,a),n.stateNode=e,ir(n))}return ge(n),null;case 5:if(Qn(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&ir(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ge(n),null}if(e=bt.current,wl(n))dg(n);else{switch(f=ec(Vt.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}e[Oe]=n,e[we]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;t:switch(Ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&ir(n)}}return ge(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&ir(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(e=Vt.current,wl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,f=fn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Oe]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||xy(e.nodeValue,a)),e||wa(n)}else e=ec(e).createTextNode(l),e[Oe]=n,n.stateNode=e}return ge(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=wl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Oe]=n}else Cl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ge(n),f=!1}else f=gg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(er(n),n):(er(n),null)}if(er(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),qu(n,n.updateQueue),ge(n),null;case 4:return dn(),e===null&&Qh(n.stateNode.containerInfo),ge(n),null;case 10:return Wi(n.type),ge(n),null;case 19:if(ht(Pe),f=n.memoizedState,f===null)return ge(n),null;if(l=(n.flags&128)!==0,d=f.rendering,d===null)if(l)Hl(f,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Pu(e),d!==null){for(n.flags|=128,Hl(f,!1),e=d.updateQueue,n.updateQueue=e,qu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)fg(a,e),a=a.sibling;return lt(Pe,Pe.current&1|2),n.child}e=e.sibling}f.tail!==null&&mn()>Gu&&(n.flags|=128,l=!0,Hl(f,!1),n.lanes=4194304)}else{if(!l)if(e=Pu(d),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,qu(n,e),Hl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Jt)return ge(n),null}else 2*mn()-f.renderingStartTime>Gu&&a!==536870912&&(n.flags|=128,l=!0,Hl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=mn(),n.sibling=null,e=Pe.current,lt(Pe,l?e&1|2:e&1),n):(ge(n),null);case 22:case 23:return er(n),Kf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ge(n),n.subtreeFlags&6&&(n.flags|=8192)):ge(n),a=n.updateQueue,a!==null&&qu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&ht(Va),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Wi(Ue),ge(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function MT(e,n){switch(Mf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Wi(Ue),dn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Qn(n),null;case 13:if(er(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Cl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ht(Pe),null;case 4:return dn(),null;case 10:return Wi(n.type),null;case 22:case 23:return er(n),Kf(),e!==null&&ht(Va),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Wi(Ue),null;case 25:return null;default:return null}}function kp(e,n){switch(Mf(n),n.tag){case 3:Wi(Ue),dn();break;case 26:case 27:case 5:Qn(n);break;case 4:dn();break;case 13:er(n);break;case 19:ht(Pe);break;case 10:Wi(n.type);break;case 22:case 23:er(n),Kf(),e!==null&&ht(Va);break;case 24:Wi(Ue)}}function Fl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==f)}}catch(T){ue(n,n.return,T)}}function Mr(e,n,a){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,f=n;var D=a,j=T;try{j()}catch(W){ue(f,D,W)}}}l=l.next}while(l!==d)}}catch(W){ue(n,n.return,W)}}function zp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{wg(n,a)}catch(l){ue(e,e.return,l)}}}function Bp(e,n,a){a.props=Ia(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ue(e,n,l)}}function Gl(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){ue(e,n,f)}}function Ei(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ue(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ue(e,n,f)}else a.current=null}function jp(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ue(e,e.return,f)}}function Ah(e,n,a){try{var l=e.stateNode;e1(l,e.type,a,n),l[we]=n}catch(f){ue(e,e.return,f)}}function qp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qr(e.type)||e.tag===4}function Sh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||qp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=tc));else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(bh(e,n,a),e=e.sibling;e!==null;)bh(e,n,a),e=e.sibling}function Hu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&qr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Hu(e,n,a),e=e.sibling;e!==null;)Hu(e,n,a),e=e.sibling}function Hp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Ze(n,l,a),n[Oe]=e,n[we]=a}catch(d){ue(e,e.return,d)}}var rr=!1,Se=!1,Rh=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function LT(e,n){if(e=e.containerInfo,Xh=lc,e=eg(e),Sf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,T=-1,D=-1,j=0,W=0,nt=e,F=null;e:for(;;){for(var G;nt!==a||f!==0&&nt.nodeType!==3||(T=v+f),nt!==d||l!==0&&nt.nodeType!==3||(D=v+l),nt.nodeType===3&&(v+=nt.nodeValue.length),(G=nt.firstChild)!==null;)F=nt,nt=G;for(;;){if(nt===e)break e;if(F===a&&++j===f&&(T=v),F===d&&++W===l&&(D=v),(G=nt.nextSibling)!==null)break;nt=F,F=nt.parentNode}nt=G}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for($h={focusedElem:e,selectionRange:a},lc=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var xt=Ia(a.type,f,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(xt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(wt){ue(a,a.return,wt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Wh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function Gp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Lr(e,a),l&4&&Fl(5,a);break;case 1:if(Lr(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){ue(a,a.return,v)}else{var f=Ia(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ue(a,a.return,v)}}l&64&&zp(a),l&512&&Gl(a,a.return);break;case 3:if(Lr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{wg(e,n)}catch(v){ue(a,a.return,v)}}break;case 27:n===null&&l&4&&Hp(a);case 26:case 5:Lr(e,a),n===null&&l&4&&jp(a),l&512&&Gl(a,a.return);break;case 12:Lr(e,a);break;case 13:Lr(e,a),l&4&&Kp(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=FT.bind(null,a),o1(e,a))));break;case 22:if(l=a.memoizedState!==null||rr,!l){n=n!==null&&n.memoizedState!==null||Se,f=rr;var d=Se;rr=l,(Se=n)&&!d?Ur(e,a,(a.subtreeFlags&8772)!==0):Lr(e,a),rr=f,Se=d}break;case 30:break;default:Lr(e,a)}}function Qp(e){var n=e.alternate;n!==null&&(e.alternate=null,Qp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Sr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,pn=!1;function ar(e,n,a){for(a=a.child;a!==null;)Yp(e,n,a),a=a.sibling}function Yp(e,n,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(mt,a)}catch{}switch(a.tag){case 26:Se||Ei(a,n),ar(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Se||Ei(a,n);var l=me,f=pn;qr(a.type)&&(me=a.stateNode,pn=!1),ar(e,n,a),to(a.stateNode),me=l,pn=f;break;case 5:Se||Ei(a,n);case 6:if(l=me,f=pn,me=null,ar(e,n,a),me=l,pn=f,me!==null)if(pn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(a.stateNode)}catch(d){ue(a,n,d)}else try{me.removeChild(a.stateNode)}catch(d){ue(a,n,d)}break;case 18:me!==null&&(pn?(e=me,Ly(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),oo(e)):Ly(me,a.stateNode));break;case 4:l=me,f=pn,me=a.stateNode.containerInfo,pn=!0,ar(e,n,a),me=l,pn=f;break;case 0:case 11:case 14:case 15:Se||Mr(2,a,n),Se||Mr(4,a,n),ar(e,n,a);break;case 1:Se||(Ei(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Bp(a,n,l)),ar(e,n,a);break;case 21:ar(e,n,a);break;case 22:Se=(l=Se)||a.memoizedState!==null,ar(e,n,a),Se=l;break;default:ar(e,n,a)}}function Kp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oo(e)}catch(a){ue(n,n.return,a)}}function UT(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Fp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Fp),n;default:throw Error(s(435,e.tag))}}function wh(e,n){var a=UT(e);n.forEach(function(l){var f=GT.bind(null,e,l);a.has(l)||(a.add(l),l.then(f,f))})}function bn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(qr(T.type)){me=T.stateNode,pn=!1;break t}break;case 5:me=T.stateNode,pn=!1;break t;case 3:case 4:me=T.stateNode.containerInfo,pn=!0;break t}T=T.return}if(me===null)throw Error(s(160));Yp(d,v,f),me=null,pn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Xp(n,e),n=n.sibling}var Jn=null;function Xp(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bn(n,e),Rn(e),l&4&&(Mr(3,e,e.return),Fl(3,e),Mr(5,e,e.return));break;case 1:bn(n,e),Rn(e),l&512&&(Se||a===null||Ei(a,a.return)),l&64&&rr&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(bn(n,e),Rn(e),l&512&&(Se||a===null||Ei(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[sa]||d[Oe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ze(d,l,a),d[Oe]=e,Te(d),l=d;break t;case"link":var v=Hy("link","href",f).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}d=f.createElement(l),Ze(d,l,a),f.head.appendChild(d);break;case"meta":if(v=Hy("meta","content",f).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}d=f.createElement(l),Ze(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Oe]=e,Te(d),l=d}e.stateNode=l}else Fy(f,e.type,e.stateNode);else e.stateNode=qy(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Fy(f,e.type,e.stateNode):qy(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ah(e,e.memoizedProps,a.memoizedProps)}break;case 27:bn(n,e),Rn(e),l&512&&(Se||a===null||Ei(a,a.return)),a!==null&&l&4&&Ah(e,e.memoizedProps,a.memoizedProps);break;case 5:if(bn(n,e),Rn(e),l&512&&(Se||a===null||Ei(a,a.return)),e.flags&32){f=e.stateNode;try{Mn(f,"")}catch(G){ue(e,e.return,G)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Ah(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Rh=!0);break;case 6:if(bn(n,e),Rn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(G){ue(e,e.return,G)}}break;case 3:if(rc=null,f=Jn,Jn=nc(n.containerInfo),bn(n,e),Jn=f,Rn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{oo(n.containerInfo)}catch(G){ue(e,e.return,G)}Rh&&(Rh=!1,$p(e));break;case 4:l=Jn,Jn=nc(e.stateNode.containerInfo),bn(n,e),Rn(e),Jn=l;break;case 12:bn(n,e),Rn(e);break;case 13:bn(n,e),Rn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nh=mn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wh(e,l)));break;case 22:f=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=rr,W=Se;if(rr=j||f,Se=W||D,bn(n,e),Se=W,rr=j,Rn(e),l&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||D||rr||Se||Na(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(d=D.stateNode,f)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=D.stateNode;var nt=D.memoizedProps.style,F=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){ue(D,D.return,G)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(G){ue(D,D.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wh(e,a))));break;case 19:bn(n,e),Rn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,wh(e,l)));break;case 30:break;case 21:break;default:bn(n,e),Rn(e)}}function Rn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(qp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Sh(e);Hu(e,d,f);break;case 5:var v=a.stateNode;a.flags&32&&(Mn(v,""),a.flags&=-33);var T=Sh(e);Hu(e,T,v);break;case 3:case 4:var D=a.stateNode.containerInfo,j=Sh(e);bh(e,j,D);break;default:throw Error(s(161))}}catch(W){ue(e,e.return,W)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $p(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;$p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Lr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gp(e,n.alternate,n),n=n.sibling}function Na(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Mr(4,n,n.return),Na(n);break;case 1:Ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Bp(n,n.return,a),Na(n);break;case 27:to(n.stateNode);case 26:case 5:Ei(n,n.return),Na(n);break;case 22:n.memoizedState===null&&Na(n);break;case 30:Na(n);break;default:Na(n)}e=e.sibling}}function Ur(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,d=n,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ur(f,d,a),Fl(4,d);break;case 1:if(Ur(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){ue(l,l.return,j)}if(l=d,f=l.updateQueue,f!==null){var T=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Rg(D[f],T)}catch(j){ue(l,l.return,j)}}a&&v&64&&zp(d),Gl(d,d.return);break;case 27:Hp(d);case 26:case 5:Ur(f,d,a),a&&l===null&&v&4&&jp(d),Gl(d,d.return);break;case 12:Ur(f,d,a);break;case 13:Ur(f,d,a),a&&v&4&&Kp(f,d);break;case 22:d.memoizedState===null&&Ur(f,d,a),Gl(d,d.return);break;case 30:break;default:Ur(f,d,a)}n=n.sibling}}function Ch(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xl(a))}function Dh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xl(e))}function Ti(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Zp(e,n,a,l),n=n.sibling}function Zp(e,n,a,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Ti(e,n,a,l),f&2048&&Fl(9,n);break;case 1:Ti(e,n,a,l);break;case 3:Ti(e,n,a,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xl(e)));break;case 12:if(f&2048){Ti(e,n,a,l),e=n.stateNode;try{var d=n.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){ue(n,n.return,D)}}else Ti(e,n,a,l);break;case 13:Ti(e,n,a,l);break;case 23:break;case 22:d=n.stateNode,v=n.alternate,n.memoizedState!==null?d._visibility&2?Ti(e,n,a,l):Ql(e,n):d._visibility&2?Ti(e,n,a,l):(d._visibility|=2,As(e,n,a,l,(n.subtreeFlags&10256)!==0)),f&2048&&Ch(v,n);break;case 24:Ti(e,n,a,l),f&2048&&Dh(n.alternate,n);break;default:Ti(e,n,a,l)}}function As(e,n,a,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,v=n,T=a,D=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:As(d,v,T,D,f),Fl(8,v);break;case 23:break;case 22:var W=v.stateNode;v.memoizedState!==null?W._visibility&2?As(d,v,T,D,f):Ql(d,v):(W._visibility|=2,As(d,v,T,D,f)),f&&j&2048&&Ch(v.alternate,v);break;case 24:As(d,v,T,D,f),f&&j&2048&&Dh(v.alternate,v);break;default:As(d,v,T,D,f)}n=n.sibling}}function Ql(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,f=l.flags;switch(l.tag){case 22:Ql(a,l),f&2048&&Ch(l.alternate,l);break;case 24:Ql(a,l),f&2048&&Dh(l.alternate,l);break;default:Ql(a,l)}n=n.sibling}}var Yl=8192;function Ss(e){if(e.subtreeFlags&Yl)for(e=e.child;e!==null;)Jp(e),e=e.sibling}function Jp(e){switch(e.tag){case 26:Ss(e),e.flags&Yl&&e.memoizedState!==null&&T1(Jn,e.memoizedState,e.memoizedProps);break;case 5:Ss(e);break;case 3:case 4:var n=Jn;Jn=nc(e.stateNode.containerInfo),Ss(e),Jn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Yl,Yl=16777216,Ss(e),Yl=n):Ss(e));break;default:Ss(e)}}function Wp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Kl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Fe=l,ey(l,e)}Wp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ty(e),e=e.sibling}function ty(e){switch(e.tag){case 0:case 11:case 15:Kl(e),e.flags&2048&&Mr(9,e,e.return);break;case 3:Kl(e);break;case 12:Kl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fu(e)):Kl(e);break;default:Kl(e)}}function Fu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Fe=l,ey(l,e)}Wp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Mr(8,n,n.return),Fu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(n));break;default:Fu(n)}e=e.sibling}}function ey(e,n){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Mr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:xl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=e;Fe!==null;){l=Fe;var f=l.sibling,d=l.return;if(Qp(l),l===a){Fe=null;break t}if(f!==null){f.return=d,Fe=f;break t}Fe=d}}}var PT={getCacheForType:function(e){var n=en(Ue),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},kT=typeof WeakMap=="function"?WeakMap:Map,ie=0,ce=null,Ht=null,Kt=0,re=0,wn=null,Pr=!1,bs=!1,Vh=!1,sr=0,Ee=0,kr=0,Oa=0,xh=0,Hn=0,Rs=0,Xl=null,yn=null,Ih=!1,Nh=0,Gu=1/0,Qu=null,zr=null,$e=0,Br=null,ws=null,Cs=0,Oh=0,Mh=null,ny=null,$l=0,Lh=null;function Cn(){if((ie&2)!==0&&Kt!==0)return Kt&-Kt;if(K.T!==null){var e=ms;return e!==0?e:qh()}return Tr()}function iy(){Hn===0&&(Hn=(Kt&536870912)===0||Jt?al():536870912);var e=qn.current;return e!==null&&(e.flags|=32),Hn}function Dn(e,n,a){(e===ce&&(re===2||re===9)||e.cancelPendingCommit!==null)&&(Ds(e,0),jr(e,Kt,Hn,!1)),ki(e,a),((ie&2)===0||e!==ce)&&(e===ce&&((ie&2)===0&&(Oa|=a),Ee===4&&jr(e,Kt,Hn,!1)),Ai(e))}function ry(e,n,a){if((ie&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Ui(e,n),f=l?jT(e,n):kh(e,n,!0),d=l;do{if(f===0){bs&&!l&&jr(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!zT(a)){f=kh(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;f=Xl;var D=T.current.memoizedState.isDehydrated;if(D&&(Ds(T,v).flags|=256),v=kh(T,v,!1),v!==2){if(Vh&&!D){T.errorRecoveryDisabledLanes|=d,Oa|=d,f=4;break t}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=v}if(d=!1,f!==2)continue}}if(f===1){Ds(e,0),jr(e,n,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:jr(l,n,Hn,!Pr);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=Nh+300-mn(),10<f)){if(jr(l,n,Hn,!Pr),Li(l,0,!0)!==0)break t;l.timeoutHandle=Oy(ay.bind(null,l,a,yn,Qu,Ih,n,Hn,Oa,Rs,Pr,d,2,-0,0),f);break t}ay(l,a,yn,Qu,Ih,n,Hn,Oa,Rs,Pr,d,0,-0,0)}}break}while(!0);Ai(e)}function ay(e,n,a,l,f,d,v,T,D,j,W,nt,F,G){if(e.timeoutHandle=-1,nt=n.subtreeFlags,(nt&8192||(nt&16785408)===16785408)&&(io={stylesheets:null,count:0,unsuspend:E1},Jp(n),nt=A1(),nt!==null)){e.cancelPendingCommit=nt(hy.bind(null,e,n,d,a,l,f,v,T,D,W,1,F,G)),jr(e,d,v,!j);return}hy(e,n,d,a,l,f,v,T,D)}function zT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function jr(e,n,a,l){n&=~xh,n&=~Oa,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var d=31-ne(f),v=1<<d;l[d]=-1,f&=~v}a!==0&&li(e,a,n)}function Yu(){return(ie&6)===0?(Zl(0),!1):!0}function Uh(){if(Ht!==null){if(re===0)var e=Ht.return;else e=Ht,Ji=Ca=null,Wf(e),Es=null,jl=0,e=Ht;for(;e!==null;)kp(e.alternate,e),e=e.return;Ht=null}}function Ds(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,i1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Uh(),ce=e,Ht=a=Xi(e.current,null),Kt=n,re=0,wn=null,Pr=!1,bs=Ui(e,n),Vh=!1,Rs=Hn=xh=Oa=kr=Ee=0,yn=Xl=null,Ih=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-ne(l),d=1<<f;n|=e[f],l&=~d}return sr=n,gu(),a}function sy(e,n){kt=null,K.H=Mu,n===Nl||n===bu?(n=Sg(),re=3):n===Eg?(n=Sg(),re=4):re=n===bp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,wn=n,Ht===null&&(Ee=1,zu(e,kn(n,e.current)))}function ly(){var e=K.H;return K.H=Mu,e===null?Mu:e}function oy(){var e=K.A;return K.A=PT,e}function Ph(){Ee=4,Pr||(Kt&4194048)!==Kt&&qn.current!==null||(bs=!0),(kr&134217727)===0&&(Oa&134217727)===0||ce===null||jr(ce,Kt,Hn,!1)}function kh(e,n,a){var l=ie;ie|=2;var f=ly(),d=oy();(ce!==e||Kt!==n)&&(Qu=null,Ds(e,n)),n=!1;var v=Ee;t:do try{if(re!==0&&Ht!==null){var T=Ht,D=wn;switch(re){case 8:Uh(),v=6;break t;case 3:case 2:case 9:case 6:qn.current===null&&(n=!0);var j=re;if(re=0,wn=null,Vs(e,T,D,j),a&&bs){v=0;break t}break;default:j=re,re=0,wn=null,Vs(e,T,D,j)}}BT(),v=Ee;break}catch(W){sy(e,W)}while(!0);return n&&e.shellSuspendCounter++,Ji=Ca=null,ie=l,K.H=f,K.A=d,Ht===null&&(ce=null,Kt=0,gu()),v}function BT(){for(;Ht!==null;)uy(Ht)}function jT(e,n){var a=ie;ie|=2;var l=ly(),f=oy();ce!==e||Kt!==n?(Qu=null,Gu=mn()+500,Ds(e,n)):bs=Ui(e,n);t:do try{if(re!==0&&Ht!==null){n=Ht;var d=wn;e:switch(re){case 1:re=0,wn=null,Vs(e,n,d,1);break;case 2:case 9:if(Tg(d)){re=0,wn=null,cy(n);break}n=function(){re!==2&&re!==9||ce!==e||(re=7),Ai(e)},d.then(n,n);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:Tg(d)?(re=0,wn=null,cy(n)):(re=0,wn=null,Vs(e,n,d,7));break;case 5:var v=null;switch(Ht.tag){case 26:v=Ht.memoizedState;case 5:case 27:var T=Ht;if(!v||Gy(v)){re=0,wn=null;var D=T.sibling;if(D!==null)Ht=D;else{var j=T.return;j!==null?(Ht=j,Ku(j)):Ht=null}break e}}re=0,wn=null,Vs(e,n,d,5);break;case 6:re=0,wn=null,Vs(e,n,d,6);break;case 8:Uh(),Ee=6;break t;default:throw Error(s(462))}}qT();break}catch(W){sy(e,W)}while(!0);return Ji=Ca=null,K.H=l,K.A=f,ie=a,Ht!==null?0:(ce=null,Kt=0,gu(),Ee)}function qT(){for(;Ht!==null&&!yr();)uy(Ht)}function uy(e){var n=Up(e.alternate,e,sr);e.memoizedProps=e.pendingProps,n===null?Ku(e):Ht=n}function cy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=xp(a,n,n.pendingProps,n.type,void 0,Kt);break;case 11:n=xp(a,n,n.pendingProps,n.type.render,n.ref,Kt);break;case 5:Wf(n);default:kp(a,n),n=Ht=fg(n,sr),n=Up(a,n,sr)}e.memoizedProps=e.pendingProps,n===null?Ku(e):Ht=n}function Vs(e,n,a,l){Ji=Ca=null,Wf(n),Es=null,jl=0;var f=n.return;try{if(IT(e,f,n,a,Kt)){Ee=1,zu(e,kn(a,e.current)),Ht=null;return}}catch(d){if(f!==null)throw Ht=f,d;Ee=1,zu(e,kn(a,e.current)),Ht=null;return}n.flags&32768?(Jt||l===1?e=!0:bs||(Kt&536870912)!==0?e=!1:(Pr=e=!0,(l===2||l===9||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),fy(n,e)):Ku(n)}function Ku(e){var n=e;do{if((n.flags&32768)!==0){fy(n,Pr);return}e=n.return;var a=OT(n.alternate,n,sr);if(a!==null){Ht=a;return}if(n=n.sibling,n!==null){Ht=n;return}Ht=n=e}while(n!==null);Ee===0&&(Ee=5)}function fy(e,n){do{var a=MT(e.alternate,e);if(a!==null){a.flags&=32767,Ht=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ht=e;return}Ht=e=a}while(e!==null);Ee=6,Ht=null}function hy(e,n,a,l,f,d,v,T,D){e.cancelPendingCommit=null;do Xu();while($e!==0);if((ie&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(d=n.lanes|n.childLanes,d|=Df,ll(e,a,d,v,T,D),e===ce&&(Ht=ce=null,Kt=0),ws=n,Br=e,Cs=a,Oh=d,Mh=f,ny=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QT(H,function(){return yy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,f=ot.p,ot.p=2,v=ie,ie|=4;try{LT(e,n,a)}finally{ie=v,ot.p=f,K.T=l}}$e=1,dy(),my(),gy()}}function dy(){if($e===1){$e=0;var e=Br,n=ws,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var f=ie;ie|=4;try{Xp(n,e);var d=$h,v=eg(e.containerInfo),T=d.focusedElem,D=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&tg(T.ownerDocument.documentElement,T)){if(D!==null&&Sf(T)){var j=D.start,W=D.end;if(W===void 0&&(W=j),"selectionStart"in T)T.selectionStart=j,T.selectionEnd=Math.min(W,T.value.length);else{var nt=T.ownerDocument||document,F=nt&&nt.defaultView||window;if(F.getSelection){var G=F.getSelection(),xt=T.textContent.length,wt=Math.min(D.start,xt),oe=D.end===void 0?wt:Math.min(D.end,xt);!G.extend&&wt>oe&&(v=oe,oe=wt,wt=v);var P=Wm(T,wt),M=Wm(T,oe);if(P&&M&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var B=nt.createRange();B.setStart(P.node,P.offset),G.removeAllRanges(),wt>oe?(G.addRange(B),G.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),G.addRange(B))}}}}for(nt=[],G=T;G=G.parentNode;)G.nodeType===1&&nt.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<nt.length;T++){var et=nt[T];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}lc=!!Xh,$h=Xh=null}finally{ie=f,ot.p=l,K.T=a}}e.current=n,$e=2}}function my(){if($e===2){$e=0;var e=Br,n=ws,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ot.p;ot.p=2;var f=ie;ie|=4;try{Gp(e,n.alternate,n)}finally{ie=f,ot.p=l,K.T=a}}$e=3}}function gy(){if($e===4||$e===3){$e=0,Ga();var e=Br,n=ws,a=Cs,l=ny;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?$e=5:($e=0,ws=Br=null,py(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(zr=null),Qa(a),n=n.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(mt,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=K.T,f=ot.p,ot.p=2,K.T=null;try{for(var d=e.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{K.T=n,ot.p=f}}(Cs&3)!==0&&Xu(),Ai(e),f=e.pendingLanes,(a&4194090)!==0&&(f&42)!==0?e===Lh?$l++:($l=0,Lh=e):$l=0,Zl(0)}}function py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xl(n)))}function Xu(e){return dy(),my(),gy(),yy()}function yy(){if($e!==5)return!1;var e=Br,n=Oh;Oh=0;var a=Qa(Cs),l=K.T,f=ot.p;try{ot.p=32>a?32:a,K.T=null,a=Mh,Mh=null;var d=Br,v=Cs;if($e=0,ws=Br=null,Cs=0,(ie&6)!==0)throw Error(s(331));var T=ie;if(ie|=4,ty(d.current),Zp(d,d.current,v,a),ie=T,Zl(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(mt,d)}catch{}return!0}finally{ot.p=f,K.T=l,py(e,n)}}function _y(e,n,a){n=kn(a,n),n=dh(e.stateNode,n,2),e=xr(e,n,2),e!==null&&(ki(e,2),Ai(e))}function ue(e,n,a){if(e.tag===3)_y(e,e,a);else for(;n!==null;){if(n.tag===3){_y(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){e=kn(a,e),a=Ap(2),l=xr(n,a,2),l!==null&&(Sp(a,l,n,e),ki(l,2),Ai(l));break}}n=n.return}}function zh(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new kT;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(a)||(Vh=!0,f.add(a),e=HT.bind(null,e,n,a),n.then(e,e))}function HT(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ce===e&&(Kt&a)===a&&(Ee===4||Ee===3&&(Kt&62914560)===Kt&&300>mn()-Nh?(ie&2)===0&&Ds(e,0):xh|=a,Rs===Kt&&(Rs=0)),Ai(e)}function vy(e,n){n===0&&(n=sl()),e=cs(e,n),e!==null&&(ki(e,n),Ai(e))}function FT(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),vy(e,a)}function GT(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),vy(e,a)}function QT(e,n){return Ni(e,n)}var $u=null,xs=null,Bh=!1,Zu=!1,jh=!1,Ma=0;function Ai(e){e!==xs&&e.next===null&&(xs===null?$u=xs=e:xs=xs.next=e),Zu=!0,Bh||(Bh=!0,KT())}function Zl(e,n){if(!jh&&Zu){jh=!0;do for(var a=!1,l=$u;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-ne(42|e)+1)-1,d&=f&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Sy(l,d))}else d=Kt,d=Li(l,l===ce?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Ui(l,d)||(a=!0,Sy(l,d));l=l.next}while(a);jh=!1}}function YT(){Ey()}function Ey(){Zu=Bh=!1;var e=0;Ma!==0&&(n1()&&(e=Ma),Ma=0);for(var n=mn(),a=null,l=$u;l!==null;){var f=l.next,d=Ty(l,n);d===0?(l.next=null,a===null?$u=f:a.next=f,f===null&&(xs=a)):(a=l,(e!==0||(d&3)!==0)&&(Zu=!0)),l=f}Zl(e)}function Ty(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-ne(d),T=1<<v,D=f[v];D===-1?((T&a)===0||(T&l)!==0)&&(f[v]=vr(T,n)):D<=n&&(e.expiredLanes|=T),d&=~T}if(n=ce,a=Kt,a=Li(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(re===2||re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&si(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ui(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&si(l),Qa(a)){case 2:case 8:a=V;break;case 32:a=H;break;case 268435456:a=gt;break;default:a=H}return l=Ay.bind(null,e),a=Ni(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&si(l),e.callbackPriority=2,e.callbackNode=null,2}function Ay(e,n){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Xu()&&e.callbackNode!==a)return null;var l=Kt;return l=Li(e,e===ce?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(ry(e,l,n),Ty(e,mn()),e.callbackNode!=null&&e.callbackNode===a?Ay.bind(null,e):null)}function Sy(e,n){if(Xu())return null;ry(e,n,!0)}function KT(){r1(function(){(ie&6)!==0?Ni(_r,YT):Ey()})}function qh(){return Ma===0&&(Ma=al()),Ma}function by(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ja(""+e)}function Ry(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function XT(e,n,a,l,f){if(n==="submit"&&a&&a.stateNode===f){var d=by((f[we]||null).action),v=l.submitter;v&&(n=(n=v[we]||null)?by(n.formAction):v.getAttribute("formAction"),n!==null&&(d=n,v=null));var T=new Wa("action","action",null,l,f);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ma!==0){var D=v?Ry(f,v):new FormData(f);oh(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=v?Ry(f,v):new FormData(f),oh(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Hh=0;Hh<Cf.length;Hh++){var Fh=Cf[Hh],$T=Fh.toLowerCase(),ZT=Fh[0].toUpperCase()+Fh.slice(1);Zn($T,"on"+ZT)}Zn(rg,"onAnimationEnd"),Zn(ag,"onAnimationIteration"),Zn(sg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(mT,"onTransitionRun"),Zn(gT,"onTransitionStart"),Zn(pT,"onTransitionCancel"),Zn(lg,"onTransitionEnd"),Bi("onMouseEnter",["mouseout","mouseover"]),Bi("onMouseLeave",["mouseout","mouseover"]),Bi("onPointerEnter",["pointerout","pointerover"]),Bi("onPointerLeave",["pointerout","pointerover"]),Xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function wy(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var v=l.length-1;0<=v;v--){var T=l[v],D=T.instance,j=T.currentTarget;if(T=T.listener,D!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=j;try{d(f)}catch(W){ku(W)}f.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(T=l[v],D=T.instance,j=T.currentTarget,T=T.listener,D!==d&&f.isPropagationStopped())break t;d=T,f.currentTarget=j;try{d(f)}catch(W){ku(W)}f.currentTarget=null,d=D}}}}function Ft(e,n){var a=n[ul];a===void 0&&(a=n[ul]=new Set);var l=e+"__bubble";a.has(l)||(Cy(n,e,2,!1),a.add(l))}function Gh(e,n,a){var l=0;n&&(l|=4),Cy(a,e,l,n)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function Qh(e){if(!e[Ju]){e[Ju]=!0,cl.forEach(function(a){a!=="selectionchange"&&(JT.has(a)||Gh(a,!1,e),Gh(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ju]||(n[Ju]=!0,Gh("selectionchange",!1,n))}}function Cy(e,n,a,l){switch(Zy(n)){case 2:var f=R1;break;case 8:f=w1;break;default:f=sd}a=f.bind(null,n,a,e),f=void 0,!Un||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,a,{capture:!0,passive:f}):e.addEventListener(n,a,!0):f!==void 0?e.addEventListener(n,a,{passive:f}):e.addEventListener(n,a,!1)}function Yh(e,n,a,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===f)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;T!==null;){if(v=zi(T),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue t}T=T.parentNode}}l=l.return}tu(function(){var j=d,W=Ln(a),nt=[];t:{var F=og.get(e);if(F!==void 0){var G=Wa,xt=e;switch(e){case"keypress":if(di(a)===0)break t;case"keydown":case"keyup":G=as;break;case"focusin":xt="focus",G=ns;break;case"focusout":xt="blur",G=ns;break;case"beforeblur":case"afterblur":G=ns;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=ou;break;case rg:case ag:case sg:G=is;break;case lg:G=cu;break;case"scroll":case"scrollend":G=eu;break;case"wheel":G=ss;break;case"copy":case"cut":case"paste":G=rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Al;break;case"toggle":case"beforetoggle":G=hu}var wt=(n&4)!==0,oe=!wt&&(e==="scroll"||e==="scrollend"),P=wt?F!==null?F+"Capture":null:F;wt=[];for(var M=j,B;M!==null;){var et=M;if(B=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||B===null||P===null||(et=da(M,P),et!=null&&wt.push(Wl(M,et,B))),oe)break;M=M.return}0<wt.length&&(F=new G(F,xt,null,a,W),nt.push({event:F,listeners:wt}))}}if((n&7)===0){t:{if(F=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",F&&a!==Hi&&(xt=a.relatedTarget||a.fromElement)&&(zi(xt)||xt[On]))break t;if((G||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,G?(xt=a.relatedTarget||a.toElement,G=j,xt=xt?zi(xt):null,xt!==null&&(oe=c(xt),wt=xt.tag,xt!==oe||wt!==5&&wt!==27&&wt!==6)&&(xt=null)):(G=null,xt=j),G!==xt)){if(wt=Pn,et="onMouseLeave",P="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(wt=Al,et="onPointerLeave",P="onPointerEnter",M="pointer"),oe=G==null?F:ui(G),B=xt==null?F:ui(xt),F=new wt(et,M+"leave",G,a,W),F.target=oe,F.relatedTarget=B,et=null,zi(W)===j&&(wt=new wt(P,M+"enter",xt,a,W),wt.target=B,wt.relatedTarget=oe,et=wt),oe=et,G&&xt)e:{for(wt=G,P=xt,M=0,B=wt;B;B=Is(B))M++;for(B=0,et=P;et;et=Is(et))B++;for(;0<M-B;)wt=Is(wt),M--;for(;0<B-M;)P=Is(P),B--;for(;M--;){if(wt===P||P!==null&&wt===P.alternate)break e;wt=Is(wt),P=Is(P)}wt=null}else wt=null;G!==null&&Dy(nt,F,G,wt,!1),xt!==null&&oe!==null&&Dy(nt,oe,xt,wt,!0)}}t:{if(F=j?ui(j):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var vt=Ym;else if(Le(F))if(Km)vt=fT;else{vt=uT;var qt=oT}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&gl(j.elementType)&&(vt=Ym):vt=cT;if(vt&&(vt=vt(e,j))){Ki(nt,vt,a,W);break t}qt&&qt(e,F,j),e==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&Rr(F,"number",F.value)}switch(qt=j?ui(j):window,e){case"focusin":(Le(qt)||qt.contentEditable==="true")&&(ls=qt,bf=j,Rl=null);break;case"focusout":Rl=bf=ls=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,ng(nt,a,W);break;case"selectionchange":if(dT)break;case"keydown":case"keyup":ng(nt,a,W)}var St;if(pi)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else Qt?Y(e,a)&&(Ct="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ct="onCompositionStart");Ct&&(_&&a.locale!=="ko"&&(Qt||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&Qt&&(St=yl()):(hi=W,wr="value"in hi?hi.value:hi.textContent,Qt=!0)),qt=Wu(j,Ct),0<qt.length&&(Ct=new El(Ct,e,null,a,W),nt.push({event:Ct,listeners:qt}),St?Ct.data=St:(St=ct(a),St!==null&&(Ct.data=St)))),(St=g?Me(e,a):Yt(e,a))&&(Ct=Wu(j,"onBeforeInput"),0<Ct.length&&(qt=new El("onBeforeInput","beforeinput",null,a,W),nt.push({event:qt,listeners:Ct}),qt.data=St)),XT(nt,e,j,a,W)}wy(nt,n)})}function Wl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Wu(e,n){for(var a=n+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=da(e,a),f!=null&&l.unshift(Wl(e,f,d)),f=da(e,n),f!=null&&l.push(Wl(e,f,d))),e.tag===3)return l;e=e.return}return[]}function Is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Dy(e,n,a,l,f){for(var d=n._reactName,v=[];a!==null&&a!==l;){var T=a,D=T.alternate,j=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||j===null||(D=j,f?(j=da(a,d),j!=null&&v.unshift(Wl(a,j,D))):f||(j=da(a,d),j!=null&&v.push(Wl(a,j,D)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var WT=/\r\n?/g,t1=/\u0000|\uFFFD/g;function Vy(e){return(typeof e=="string"?e:""+e).replace(WT,`
`).replace(t1,"")}function xy(e,n){return n=Vy(n),Vy(e)===n}function tc(){}function le(e,n,a,l,f,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Mn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Mn(e,""+l);break;case"className":ci(e,"class",l);break;case"tabIndex":ci(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ci(e,a,l);break;case"style":ml(e,l,d);break;case"data":if(n!=="object"){ci(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ja(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&le(e,n,"name",f.name,f,null),le(e,n,"formEncType",f.formEncType,f,null),le(e,n,"formMethod",f.formMethod,f,null),le(e,n,"formTarget",f.formTarget,f,null)):(le(e,n,"encType",f.encType,f,null),le(e,n,"method",f.method,f,null),le(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ja(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=tc);break;case"onScroll":l!=null&&Ft("scroll",e);break;case"onScrollEnd":l!=null&&Ft("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ja(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ft("beforetoggle",e),Ft("toggle",e),br(e,"popover",l);break;case"xlinkActuate":Ye(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ye(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ye(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ye(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ye(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ye(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ye(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":br(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=yf.get(a)||a,br(e,a,l))}}function Kh(e,n,a,l,f,d){switch(a){case"style":ml(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Mn(e,l):(typeof l=="number"||typeof l=="bigint")&&Mn(e,""+l);break;case"onScroll":l!=null&&Ft("scroll",e);break;case"onScrollEnd":l!=null&&Ft("scrollend",e);break;case"onClick":l!=null&&(e.onclick=tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ya.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),d=e[we]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):br(e,a,l)}}}function Ze(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ft("error",e),Ft("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:le(e,n,d,v,a,null)}}f&&le(e,n,"srcSet",a.srcSet,a,null),l&&le(e,n,"src",a.src,a,null);return;case"input":Ft("invalid",e);var T=d=v=f=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":v=W;break;case"checked":D=W;break;case"defaultChecked":j=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,n));break;default:le(e,n,l,W,a,null)}}ca(e,d,T,D,j,v,f,!1),Za(e);return;case"select":Ft("invalid",e),l=v=d=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:le(e,n,f,T,a,null)}n=d,a=v,e.multiple=!!l,n!=null?qi(e,!!l,n,!1):a!=null&&qi(e,!!l,a,!0);return;case"textarea":Ft("invalid",e),d=f=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":f=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:le(e,n,v,T,a,null)}fa(e,l,f,d),Za(e);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:le(e,n,D,l,a,null)}return;case"dialog":Ft("beforetoggle",e),Ft("toggle",e),Ft("cancel",e),Ft("close",e);break;case"iframe":case"object":Ft("load",e);break;case"video":case"audio":for(l=0;l<Jl.length;l++)Ft(Jl[l],e);break;case"image":Ft("error",e),Ft("load",e);break;case"details":Ft("toggle",e);break;case"embed":case"source":case"link":Ft("error",e),Ft("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:le(e,n,j,l,a,null)}return;default:if(gl(n)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Kh(e,n,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&le(e,n,T,l,a,null))}function e1(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,v=null,T=null,D=null,j=null,W=null;for(G in a){var nt=a[G];if(a.hasOwnProperty(G)&&nt!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":D=nt;default:l.hasOwnProperty(G)||le(e,n,G,null,l,nt)}}for(var F in l){var G=l[F];if(nt=a[F],l.hasOwnProperty(F)&&(G!=null||nt!=null))switch(F){case"type":d=G;break;case"name":f=G;break;case"checked":j=G;break;case"defaultChecked":W=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:G!==nt&&le(e,n,F,G,l,nt)}}Tn(e,v,T,D,j,W,d,f);return;case"select":G=v=T=F=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":G=D;default:l.hasOwnProperty(d)||le(e,n,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==D&&le(e,n,f,d,l,D)}n=T,a=v,l=G,F!=null?qi(e,!!a,F,!1):!!l!=!!a&&(n!=null?qi(e,!!a,n,!0):qi(e,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:le(e,n,T,null,l,f)}for(v in l)if(f=l[v],d=a[v],l.hasOwnProperty(v)&&(f!=null||d!=null))switch(v){case"value":F=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&le(e,n,v,f,l,d)}ae(e,F,G);return;case"option":for(var xt in a)if(F=a[xt],a.hasOwnProperty(xt)&&F!=null&&!l.hasOwnProperty(xt))switch(xt){case"selected":e.selected=!1;break;default:le(e,n,xt,null,l,F)}for(D in l)if(F=l[D],G=a[D],l.hasOwnProperty(D)&&F!==G&&(F!=null||G!=null))switch(D){case"selected":e.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:le(e,n,D,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in a)F=a[wt],a.hasOwnProperty(wt)&&F!=null&&!l.hasOwnProperty(wt)&&le(e,n,wt,null,l,F);for(j in l)if(F=l[j],G=a[j],l.hasOwnProperty(j)&&F!==G&&(F!=null||G!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:le(e,n,j,F,l,G)}return;default:if(gl(n)){for(var oe in a)F=a[oe],a.hasOwnProperty(oe)&&F!==void 0&&!l.hasOwnProperty(oe)&&Kh(e,n,oe,void 0,l,F);for(W in l)F=l[W],G=a[W],!l.hasOwnProperty(W)||F===G||F===void 0&&G===void 0||Kh(e,n,W,F,l,G);return}}for(var P in a)F=a[P],a.hasOwnProperty(P)&&F!=null&&!l.hasOwnProperty(P)&&le(e,n,P,null,l,F);for(nt in l)F=l[nt],G=a[nt],!l.hasOwnProperty(nt)||F===G||F==null&&G==null||le(e,n,nt,F,l,G)}var Xh=null,$h=null;function ec(e){return e.nodeType===9?e:e.ownerDocument}function Iy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Jh=null;function n1(){var e=window.event;return e&&e.type==="popstate"?e===Jh?!1:(Jh=e,!0):(Jh=null,!1)}var Oy=typeof setTimeout=="function"?setTimeout:void 0,i1=typeof clearTimeout=="function"?clearTimeout:void 0,My=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof My<"u"?function(e){return My.resolve(null).then(e).catch(a1)}:Oy;function a1(e){setTimeout(function(){throw e})}function qr(e){return e==="head"}function Ly(e,n){var a=n,l=0,f=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&to(v.documentElement),a&2&&to(v.body),a&4)for(a=v.head,to(a),v=a.firstChild;v;){var T=v.nextSibling,D=v.nodeName;v[sa]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(f===0){e.removeChild(d),oo(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);oo(n)}function Wh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wh(a),Sr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function s1(e,n,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[sa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Wn(e.nextSibling),e===null)break}return null}function l1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Wn(e.nextSibling),e===null))return null;return e}function td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function o1(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Wn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var ed=null;function Uy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Py(e,n,a){switch(n=ec(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function to(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Sr(e)}var Fn=new Map,ky=new Set;function nc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var lr=ot.d;ot.d={f:u1,r:c1,D:f1,C:h1,L:d1,m:m1,X:p1,S:g1,M:y1};function u1(){var e=lr.f(),n=Yu();return e||n}function c1(e){var n=oi(e);n!==null&&n.tag===5&&n.type==="form"?rp(n):lr.r(e)}var Ns=typeof document>"u"?null:document;function zy(e,n,a){var l=Ns;if(l&&typeof n=="string"&&n){var f=Ce(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),ky.has(f)||(ky.add(f),e={rel:e,crossOrigin:a,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),Ze(n,"link",e),Te(n),l.head.appendChild(n)))}}function f1(e){lr.D(e),zy("dns-prefetch",e,null)}function h1(e,n){lr.C(e,n),zy("preconnect",e,n)}function d1(e,n,a){lr.L(e,n,a);var l=Ns;if(l&&e&&n){var f='link[rel="preload"][as="'+Ce(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ce(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ce(a.imageSizes)+'"]')):f+='[href="'+Ce(e)+'"]';var d=f;switch(n){case"style":d=Os(e);break;case"script":d=Ms(e)}Fn.has(d)||(e=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Fn.set(d,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(eo(d))||n==="script"&&l.querySelector(no(d))||(n=l.createElement("link"),Ze(n,"link",e),Te(n),l.head.appendChild(n)))}}function m1(e,n){lr.m(e,n);var a=Ns;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+Ce(l)+'"][href="'+Ce(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ms(e)}if(!Fn.has(d)&&(e=E({rel:"modulepreload",href:e},n),Fn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(no(d)))return}l=a.createElement("link"),Ze(l,"link",e),Te(l),a.head.appendChild(l)}}}function g1(e,n,a){lr.S(e,n,a);var l=Ns;if(l&&e){var f=on(l).hoistableStyles,d=Os(e);n=n||"default";var v=f.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(eo(d)))T.loading=5;else{e=E({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Fn.get(d))&&nd(e,a);var D=v=l.createElement("link");Te(D),Ze(D,"link",e),D._p=new Promise(function(j,W){D.onload=j,D.onerror=W}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,ic(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:T},f.set(d,v)}}}function p1(e,n){lr.X(e,n);var a=Ns;if(a&&e){var l=on(a).hoistableScripts,f=Ms(e),d=l.get(f);d||(d=a.querySelector(no(f)),d||(e=E({src:e,async:!0},n),(n=Fn.get(f))&&id(e,n),d=a.createElement("script"),Te(d),Ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function y1(e,n){lr.M(e,n);var a=Ns;if(a&&e){var l=on(a).hoistableScripts,f=Ms(e),d=l.get(f);d||(d=a.querySelector(no(f)),d||(e=E({src:e,async:!0,type:"module"},n),(n=Fn.get(f))&&id(e,n),d=a.createElement("script"),Te(d),Ze(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function By(e,n,a,l){var f=(f=Vt.current)?nc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Os(a.href),a=on(f).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Os(a.href);var d=on(f).hoistableStyles,v=d.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=f.querySelector(eo(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Fn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(e,a),d||_1(f,e,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ms(a),a=on(f).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Os(e){return'href="'+Ce(e)+'"'}function eo(e){return'link[rel="stylesheet"]['+e+"]"}function jy(e){return E({},e,{"data-precedence":e.precedence,precedence:null})}function _1(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ze(n,"link",a),Te(n),e.head.appendChild(n))}function Ms(e){return'[src="'+Ce(e)+'"]'}function no(e){return"script[async]"+e}function qy(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Ce(a.href)+'"]');if(l)return n.instance=l,Te(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Te(l),Ze(l,"style",f),ic(l,a.precedence,e),n.instance=l;case"stylesheet":f=Os(a.href);var d=e.querySelector(eo(f));if(d)return n.state.loading|=4,n.instance=d,Te(d),d;l=jy(a),(f=Fn.get(f))&&nd(l,f),d=(e.ownerDocument||e).createElement("link"),Te(d);var v=d;return v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Ze(d,"link",l),n.state.loading|=4,ic(d,a.precedence,e),n.instance=d;case"script":return d=Ms(a.src),(f=e.querySelector(no(d)))?(n.instance=f,Te(f),f):(l=a,(f=Fn.get(d))&&(l=E({},a),id(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Te(f),Ze(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,ic(l,a.precedence,e));return n.instance}function ic(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===n)d=T;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function nd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var rc=null;function Hy(e,n,a){if(rc===null){var l=new Map,f=rc=new Map;f.set(a,l)}else f=rc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[sa]||d[Oe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(n)||"";v=e+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function Fy(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function v1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var io=null;function E1(){}function T1(e,n,a){if(io===null)throw Error(s(475));var l=io;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=Os(a.href),d=e.querySelector(eo(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ac.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=d,Te(d);return}d=e.ownerDocument||e,a=jy(a),(f=Fn.get(f))&&nd(a,f),d=d.createElement("link"),Te(d);var v=d;v._p=new Promise(function(T,D){v.onload=T,v.onerror=D}),Ze(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=ac.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function A1(){if(io===null)throw Error(s(475));var e=io;return e.stylesheets&&e.count===0&&rd(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&rd(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)rd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sc=null;function rd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sc=new Map,n.forEach(S1,e),sc=null,ac.call(e))}function S1(e,n){if(!(n.state.loading&4)){var a=sc.get(e);if(a)var l=a.get(null);else{a=new Map,sc.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var v=f[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}f=n.instance,v=f.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,f),a.set(v,f),this.count++,l=ac.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var ro={$$typeof:st,Provider:null,Consumer:null,_currentValue:Et,_currentValue2:Et,_threadCount:0};function b1(e,n,a,l,f,d,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Qy(e,n,a,l,f,d,v,T,D,j,W,nt){return e=new b1(e,n,a,v,T,D,j,nt),n=1,d===!0&&(n|=24),d=Sn(3,null,null,n),e.current=d,d.stateNode=e,n=zf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},Hf(d),e}function Yy(e){return e?(e=fs,e):fs}function Ky(e,n,a,l,f,d){f=Yy(f),l.context===null?l.context=f:l.pendingContext=f,l=Vr(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=xr(e,l,n),a!==null&&(Dn(a,e,n),Ml(a,e,n))}function Xy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function ad(e,n){Xy(e,n),(e=e.alternate)&&Xy(e,n)}function $y(e){if(e.tag===13){var n=cs(e,67108864);n!==null&&Dn(n,e,67108864),ad(e,67108864)}}var lc=!0;function R1(e,n,a,l){var f=K.T;K.T=null;var d=ot.p;try{ot.p=2,sd(e,n,a,l)}finally{ot.p=d,K.T=f}}function w1(e,n,a,l){var f=K.T;K.T=null;var d=ot.p;try{ot.p=8,sd(e,n,a,l)}finally{ot.p=d,K.T=f}}function sd(e,n,a,l){if(lc){var f=ld(l);if(f===null)Yh(e,n,l,oc,a),Jy(e,l);else if(D1(f,e,n,a,l))l.stopPropagation();else if(Jy(e,l),n&4&&-1<C1.indexOf(e)){for(;f!==null;){var d=oi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=En(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var D=1<<31-ne(v);T.entanglements[1]|=D,v&=~D}Ai(d),(ie&6)===0&&(Gu=mn()+500,Zl(0))}}break;case 13:T=cs(d,2),T!==null&&Dn(T,d,2),Yu(),ad(d,2)}if(d=ld(l),d===null&&Yh(e,n,l,oc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Yh(e,n,l,null,a)}}function ld(e){return e=Ln(e),od(e)}var oc=null;function od(e){if(oc=null,e=zi(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return oc=e,null}function Zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qo()){case _r:return 2;case V:return 8;case H:case J:return 32;case gt:return 268435456;default:return 32}default:return 32}}var ud=!1,Hr=null,Fr=null,Gr=null,ao=new Map,so=new Map,Qr=[],C1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jy(e,n){switch(e){case"focusin":case"focusout":Hr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":ao.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":so.delete(n.pointerId)}}function lo(e,n,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=oi(n),n!==null&&$y(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function D1(e,n,a,l,f){switch(n){case"focusin":return Hr=lo(Hr,e,n,a,l,f),!0;case"dragenter":return Fr=lo(Fr,e,n,a,l,f),!0;case"mouseover":return Gr=lo(Gr,e,n,a,l,f),!0;case"pointerover":var d=f.pointerId;return ao.set(d,lo(ao.get(d)||null,e,n,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,so.set(d,lo(so.get(d)||null,e,n,a,l,f)),!0}return!1}function Wy(e){var n=zi(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Yo(e.priority,function(){if(a.tag===13){var l=Cn();l=Er(l);var f=cs(a,l);f!==null&&Dn(f,a,l),ad(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Hi=l,a.target.dispatchEvent(l),Hi=null}else return n=oi(a),n!==null&&$y(n),e.blockedOn=a,!1;n.shift()}return!0}function t_(e,n,a){uc(e)&&a.delete(n)}function V1(){ud=!1,Hr!==null&&uc(Hr)&&(Hr=null),Fr!==null&&uc(Fr)&&(Fr=null),Gr!==null&&uc(Gr)&&(Gr=null),ao.forEach(t_),so.forEach(t_)}function cc(e,n){e.blockedOn===n&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,V1)))}var fc=null;function e_(e){fc!==e&&(fc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(od(l||a)===null)continue;break}var d=oi(a);d!==null&&(e.splice(n,3),n-=3,oh(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function oo(e){function n(D){return cc(D,e)}Hr!==null&&cc(Hr,e),Fr!==null&&cc(Fr,e),Gr!==null&&cc(Gr,e),ao.forEach(n),so.forEach(n);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)Wy(a),a.blockedOn===null&&Qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],v=f[we]||null;if(typeof d=="function")v||e_(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(f=d,v=d[we]||null)T=v.formAction;else if(od(f)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),e_(a)}}}function cd(e){this._internalRoot=e}hc.prototype.render=cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Cn();Ky(a,l,e,n,null,null)},hc.prototype.unmount=cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ky(e.current,2,null,e,null,null),Yu(),n[On]=null}};function hc(e){this._internalRoot=e}hc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Tr();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Qr.length&&n!==0&&n<Qr[a].priority;a++);Qr.splice(a,0,e),a===0&&Wy(e)}};var n_=t.version;if(n_!=="19.1.0")throw Error(s(527,n_,"19.1.0"));ot.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var x1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{mt=dc.inject(x1),At=dc}catch{}}return co.createRoot=function(e,n){if(!o(e))throw Error(s(299));var a=!1,l="",f=_p,d=vp,v=Ep,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Qy(e,1,!1,null,null,a,l,f,d,v,T,null),e[On]=n.current,Qh(e),new cd(n)},co.hydrateRoot=function(e,n,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=_p,v=vp,T=Ep,D=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),n=Qy(e,1,!0,n,a??null,l,f,d,v,T,D,j),n.context=Yy(null),a=n.current,l=Cn(),l=Er(l),f=Vr(l),f.callback=null,xr(a,f,l),a=l,n.current.lanes=a,ki(n,a),Ai(n),e[On]=n.current,Qh(e),new hc(n)},co.version="19.1.0",co}var h_;function j1(){if(h_)return dd.exports;h_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),dd.exports=B1(),dd.exports}var q1=j1();function H1({cantidad:r,handleRestar:t,handleSumar:i,handleAgregar:s}){return Z.jsxs("div",{children:[Z.jsxs("div",{className:"item-count",children:[Z.jsx("button",{onClick:t,children:"-"}),Z.jsx("p",{children:r}),Z.jsx("button",{onClick:i,children:"+"})]}),Z.jsx("button",{className:"agregar-al-carrito",onClick:s,children:"Agregar al carrito"})]})}const Uo=$.createContext(),F1=JSON.parse(localStorage.getItem("carrito"))||[],G1=({children:r})=>{const[t,i]=$.useState(F1),s=(m,p)=>{const y={...m,cantidad:p},E=[...t],b=E.find(S=>S.id===y.id);b?(b.cantidad+=p,i(E)):E.push(y),i(E)},o=()=>t.reduce((m,p)=>m+p.cantidad,0),c=()=>t.reduce((m,p)=>m+p.price*p.cantidad,0),h=()=>{i([])};return $.useEffect(()=>{localStorage.setItem("carrito",JSON.stringify(t))},[t]),Z.jsx(Uo.Provider,{value:{carrito:t,AgregarAlCarrito:s,cantidadEnCarrito:o,precioTotal:c,vaciarCarrito:h},children:r})};function Q1({item:r}){const{carrito:t,AgregarAlCarrito:i}=$.useContext(Uo);console.log(t);const[s,o]=$.useState(1),c=()=>{s>1&&o(s-1)},h=()=>{s<r.stock&&o(s+1)};return Z.jsx("div",{className:"container",children:Z.jsxs("div",{className:"producto-detalle",children:[Z.jsx("img",{src:r.image,alt:r.title}),Z.jsxs("div",{children:[Z.jsx("h3",{className:"titulo",children:r.title}),Z.jsx("p",{className:"descripcion",children:r.description}),Z.jsxs("p",{className:"precio",children:["$",r.price]}),Z.jsx(H1,{cantidad:s,handleSumar:h,handleRestar:c,handleAgregar:()=>{i(r,s)}})]})]})})}var fo={},d_;function Y1(){if(d_)return fo;d_=1,Object.defineProperty(fo,"__esModule",{value:!0}),fo.parse=h,fo.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function h(S,k){const U=new c,Q=S.length;if(Q<2)return U;const q=(k==null?void 0:k.decode)||E;let tt=0;do{const X=S.indexOf("=",tt);if(X===-1)break;const st=S.indexOf(";",tt),yt=st===-1?Q:st;if(X>yt){tt=S.lastIndexOf(";",X-1)+1;continue}const dt=m(S,tt,X),Ot=p(S,X,dt),O=S.slice(dt,Ot);if(U[O]===void 0){let R=m(S,X+1,yt),C=p(S,yt,R);const I=q(S.slice(R,C));U[O]=I}tt=yt+1}while(tt<Q);return U}function m(S,k,U){do{const Q=S.charCodeAt(k);if(Q!==32&&Q!==9)return k}while(++k<U);return U}function p(S,k,U){for(;k>U;){const Q=S.charCodeAt(--k);if(Q!==32&&Q!==9)return k+1}return U}function y(S,k,U){const Q=(U==null?void 0:U.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const q=Q(k);if(!t.test(q))throw new TypeError(`argument val is invalid: ${k}`);let tt=S+"="+q;if(!U)return tt;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);tt+="; Max-Age="+U.maxAge}if(U.domain){if(!i.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);tt+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);tt+="; Path="+U.path}if(U.expires){if(!b(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);tt+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(tt+="; HttpOnly"),U.secure&&(tt+="; Secure"),U.partitioned&&(tt+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":tt+="; Priority=Low";break;case"medium":tt+="; Priority=Medium";break;case"high":tt+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":tt+="; SameSite=Strict";break;case"lax":tt+="; SameSite=Lax";break;case"none":tt+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return tt}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return fo}Y1();var m_="popstate";function K1(r={}){function t(s,o){let{pathname:c,search:h,hash:m}=s.location;return Vd("",{pathname:c,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(s,o){return typeof o=="string"?o:Co(o)}return $1(t,i,null,r)}function pe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Di(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function X1(){return Math.random().toString(36).substring(2,10)}function g_(r,t){return{usr:r.state,key:r.key,idx:t}}function Vd(r,t,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Zs(t):t,state:i,key:t&&t.key||s||X1()}}function Co({pathname:r="/",search:t="",hash:i=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Zs(r){let t={};if(r){let i=r.indexOf("#");i>=0&&(t.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function $1(r,t,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,h=o.history,m="POP",p=null,y=E();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let q=E(),tt=q==null?null:q-y;y=q,p&&p({action:m,location:Q.location,delta:tt})}function S(q,tt){m="PUSH";let X=Vd(Q.location,q,tt);y=E()+1;let st=g_(X,y),yt=Q.createHref(X);try{h.pushState(st,"",yt)}catch(dt){if(dt instanceof DOMException&&dt.name==="DataCloneError")throw dt;o.location.assign(yt)}c&&p&&p({action:m,location:Q.location,delta:1})}function k(q,tt){m="REPLACE";let X=Vd(Q.location,q,tt);y=E();let st=g_(X,y),yt=Q.createHref(X);h.replaceState(st,"",yt),c&&p&&p({action:m,location:Q.location,delta:0})}function U(q){return Z1(q)}let Q={get action(){return m},get location(){return r(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(m_,b),p=q,()=>{o.removeEventListener(m_,b),p=null}},createHref(q){return t(o,q)},createURL:U,encodeLocation(q){let tt=U(q);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:S,replace:k,go(q){return h.go(q)}};return Q}function Z1(r,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),pe(i,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Co(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=i+s),new URL(s,i)}function qv(r,t,i="/"){return J1(r,t,i,!1)}function J1(r,t,i,s){let o=typeof t=="string"?Zs(t):t,c=dr(o.pathname||"/",i);if(c==null)return null;let h=Hv(r);W1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=cA(c);m=oA(h[p],y,s)}return m}function Hv(r,t=[],i=[],s=""){let o=(c,h,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};p.relativePath.startsWith("/")&&(pe(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=cr([s,p.relativePath]),E=i.concat(p);c.children&&c.children.length>0&&(pe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Hv(c.children,t,E,y)),!(c.path==null&&!c.index)&&t.push({path:y,score:sA(y,c.index),routesMeta:E})};return r.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,h);else for(let p of Fv(c.path))o(c,h,p)}),t}function Fv(r){let t=r.split("/");if(t.length===0)return[];let[i,...s]=t,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let h=Fv(s.join("/")),m=[];return m.push(...h.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function W1(r){r.sort((t,i)=>t.score!==i.score?i.score-t.score:lA(t.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var tA=/^:[\w-]+$/,eA=3,nA=2,iA=1,rA=10,aA=-2,p_=r=>r==="*";function sA(r,t){let i=r.split("/"),s=i.length;return i.some(p_)&&(s+=aA),t&&(s+=nA),i.filter(o=>!p_(o)).reduce((o,c)=>o+(tA.test(c)?eA:c===""?iA:rA),s)}function lA(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function oA(r,t,i=!1){let{routesMeta:s}=r,o={},c="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?t:t.slice(c.length)||"/",b=Vc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),S=p.route;if(!b&&y&&i&&!s[s.length-1].route.index&&(b=Vc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:cr([c,b.pathname]),pathnameBase:mA(cr([c,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(c=cr([c,b.pathnameBase]))}return h}function Vc(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=uA(r.path,r.caseSensitive,r.end),o=t.match(i);if(!o)return null;let c=o[0],h=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:b},S)=>{if(E==="*"){let U=m[S]||"";h=c.slice(0,c.length-U.length).replace(/(.)\/+$/,"$1")}const k=m[S];return b&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:h,pattern:r}}function uA(r,t=!1,i=!0){Di(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function cA(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Di(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function dr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function fA(r,t="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Zs(r):r;return{pathname:i?i.startsWith("/")?i:hA(i,t):t,search:gA(s),hash:pA(o)}}function hA(r,t){let i=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function yd(r,t,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dA(r){return r.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Gv(r){let t=dA(r);return t.map((i,s)=>s===t.length-1?i.pathname:i.pathnameBase)}function Qv(r,t,i,s=!1){let o;typeof r=="string"?o=Zs(r):(o={...r},pe(!o.pathname||!o.pathname.includes("?"),yd("?","pathname","search",o)),pe(!o.pathname||!o.pathname.includes("#"),yd("#","pathname","hash",o)),pe(!o.search||!o.search.includes("#"),yd("#","search","hash",o)));let c=r===""||o.pathname==="",h=c?"/":o.pathname,m;if(h==null)m=i;else{let b=t.length-1;if(!s&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?t[b]:"/"}let p=fA(o,m),y=h&&h!=="/"&&h.endsWith("/"),E=(c||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),mA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),gA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,pA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function yA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Yv=["POST","PUT","PATCH","DELETE"];new Set(Yv);var _A=["GET",...Yv];new Set(_A);var Js=$.createContext(null);Js.displayName="DataRouter";var Xc=$.createContext(null);Xc.displayName="DataRouterState";var Kv=$.createContext({isTransitioning:!1});Kv.displayName="ViewTransition";var vA=$.createContext(new Map);vA.displayName="Fetchers";var EA=$.createContext(null);EA.displayName="Await";var xi=$.createContext(null);xi.displayName="Navigation";var Po=$.createContext(null);Po.displayName="Location";var Ii=$.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var em=$.createContext(null);em.displayName="RouteError";function TA(r,{relative:t}={}){pe(ko(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=$.useContext(xi),{hash:o,pathname:c,search:h}=zo(r,{relative:t}),m=c;return i!=="/"&&(m=c==="/"?i:cr([i,c])),s.createHref({pathname:m,search:h,hash:o})}function ko(){return $.useContext(Po)!=null}function Ba(){return pe(ko(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(Po).location}var Xv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $v(r){$.useContext(xi).static||$.useLayoutEffect(r)}function AA(){let{isDataRoute:r}=$.useContext(Ii);return r?LA():SA()}function SA(){pe(ko(),"useNavigate() may be used only in the context of a <Router> component.");let r=$.useContext(Js),{basename:t,navigator:i}=$.useContext(xi),{matches:s}=$.useContext(Ii),{pathname:o}=Ba(),c=JSON.stringify(Gv(s)),h=$.useRef(!1);return $v(()=>{h.current=!0}),$.useCallback((p,y={})=>{if(Di(h.current,Xv),!h.current)return;if(typeof p=="number"){i.go(p);return}let E=Qv(p,JSON.parse(c),o,y.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:cr([t,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[t,i,c,o,r])}$.createContext(null);function Zv(){let{matches:r}=$.useContext(Ii),t=r[r.length-1];return t?t.params:{}}function zo(r,{relative:t}={}){let{matches:i}=$.useContext(Ii),{pathname:s}=Ba(),o=JSON.stringify(Gv(i));return $.useMemo(()=>Qv(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function bA(r,t){return Jv(r,t)}function Jv(r,t,i,s){var tt;pe(ko(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=$.useContext(xi),{matches:c}=$.useContext(Ii),h=c[c.length-1],m=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",E=h&&h.route;{let X=E&&E.path||"";Wv(p,!E||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let b=Ba(),S;if(t){let X=typeof t=="string"?Zs(t):t;pe(y==="/"||((tt=X.pathname)==null?void 0:tt.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${X.pathname}" was given in the \`location\` prop.`),S=X}else S=b;let k=S.pathname||"/",U=k;if(y!=="/"){let X=y.replace(/^\//,"").split("/");U="/"+k.replace(/^\//,"").split("/").slice(X.length).join("/")}let Q=qv(r,{pathname:U});Di(E||Q!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Di(Q==null||Q[Q.length-1].route.element!==void 0||Q[Q.length-1].route.Component!==void 0||Q[Q.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=VA(Q&&Q.map(X=>Object.assign({},X,{params:Object.assign({},m,X.params),pathname:cr([y,o.encodeLocation?o.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?y:cr([y,o.encodeLocation?o.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),c,i,s);return t&&q?$.createElement(Po.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},q):q}function RA(){let r=MA(),t=yA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:c},"ErrorBoundary")," or"," ",$.createElement("code",{style:c},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),i?$.createElement("pre",{style:o},i):null,h)}var wA=$.createElement(RA,null),CA=class extends $.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?$.createElement(Ii.Provider,{value:this.props.routeContext},$.createElement(em.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DA({routeContext:r,match:t,children:i}){let s=$.useContext(Js);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Ii.Provider,{value:r},i)}function VA(r,t=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);pe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:b}=i,S=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||S){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let b,S=!1,k=null,U=null;i&&(b=c&&y.route.id?c[y.route.id]:void 0,k=y.route.errorElement||wA,h&&(m<0&&E===0?(Wv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,U=null):m===E&&(S=!0,U=y.route.hydrateFallbackElement||null)));let Q=t.concat(o.slice(0,E+1)),q=()=>{let tt;return b?tt=k:S?tt=U:y.route.Component?tt=$.createElement(y.route.Component,null):y.route.element?tt=y.route.element:tt=p,$.createElement(DA,{match:y,routeContext:{outlet:p,matches:Q,isDataRoute:i!=null},children:tt})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?$.createElement(CA,{location:i.location,revalidation:i.revalidation,component:k,error:b,children:q(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):q()},null)}function nm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xA(r){let t=$.useContext(Js);return pe(t,nm(r)),t}function IA(r){let t=$.useContext(Xc);return pe(t,nm(r)),t}function NA(r){let t=$.useContext(Ii);return pe(t,nm(r)),t}function im(r){let t=NA(r),i=t.matches[t.matches.length-1];return pe(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function OA(){return im("useRouteId")}function MA(){var s;let r=$.useContext(em),t=IA("useRouteError"),i=im("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[i]}function LA(){let{router:r}=xA("useNavigate"),t=im("useNavigate"),i=$.useRef(!1);return $v(()=>{i.current=!0}),$.useCallback(async(o,c={})=>{Di(i.current,Xv),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...c}))},[r,t])}var y_={};function Wv(r,t,i){!t&&!y_[r]&&(y_[r]=!0,Di(!1,i))}$.memo(UA);function UA({routes:r,future:t,state:i}){return Jv(r,void 0,i,t)}function ur(r){pe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function PA({basename:r="/",children:t=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){pe(!ko(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:h,navigator:o,static:c,future:{}}),[h,o,c]);typeof i=="string"&&(i=Zs(i));let{pathname:p="/",search:y="",hash:E="",state:b=null,key:S="default"}=i,k=$.useMemo(()=>{let U=dr(p,h);return U==null?null:{location:{pathname:U,search:y,hash:E,state:b,key:S},navigationType:s}},[h,p,y,E,b,S,s]);return Di(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:$.createElement(xi.Provider,{value:m},$.createElement(Po.Provider,{children:t,value:k}))}function kA({children:r,location:t}){return bA(xd(r),t)}function xd(r,t=[]){let i=[];return $.Children.forEach(r,(s,o)=>{if(!$.isValidElement(s))return;let c=[...t,o];if(s.type===$.Fragment){i.push.apply(i,xd(s.props.children,c));return}pe(s.type===ur,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=xd(s.props.children,c)),i.push(h)}),i}var Ec="get",Tc="application/x-www-form-urlencoded";function $c(r){return r!=null&&typeof r.tagName=="string"}function zA(r){return $c(r)&&r.tagName.toLowerCase()==="button"}function BA(r){return $c(r)&&r.tagName.toLowerCase()==="form"}function jA(r){return $c(r)&&r.tagName.toLowerCase()==="input"}function qA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function HA(r,t){return r.button===0&&(!t||t==="_self")&&!qA(r)}var mc=null;function FA(){if(mc===null)try{new FormData(document.createElement("form"),0),mc=!1}catch{mc=!0}return mc}var GA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _d(r){return r!=null&&!GA.has(r)?(Di(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Tc}"`),null):r}function QA(r,t){let i,s,o,c,h;if(BA(r)){let m=r.getAttribute("action");s=m?dr(m,t):null,i=r.getAttribute("method")||Ec,o=_d(r.getAttribute("enctype"))||Tc,c=new FormData(r)}else if(zA(r)||jA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,t):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||Ec,o=_d(r.getAttribute("formenctype"))||_d(m.getAttribute("enctype"))||Tc,c=new FormData(m,r),!FA()){let{name:y,type:E,value:b}=r;if(E==="image"){let S=y?`${y}.`:"";c.append(`${S}x`,"0"),c.append(`${S}y`,"0")}else y&&c.append(y,b)}}else{if($c(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ec,s=null,o=Tc,h=r}return c&&o==="text/plain"&&(h=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:h}}function rm(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function YA(r,t){if(r.id in t)return t[r.id];try{let i=await import(r.module);return t[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function XA(r,t,i){let s=await Promise.all(r.map(async o=>{let c=t.routes[o.route.id];if(c){let h=await YA(c,i);return h.links?h.links():[]}return[]}));return WA(s.flat(1).filter(KA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function __(r,t,i,s,o,c){let h=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?t.filter((p,y)=>h(p,y)||m(p,y)):c==="data"?t.filter((p,y)=>{var b;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function $A(r,t,{includeHydrateFallback:i}={}){return ZA(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function ZA(r){return[...new Set(r)]}function JA(r){let t={},i=Object.keys(r).sort();for(let s of i)t[s]=r[s];return t}function WA(r,t){let i=new Set;return new Set(t),r.reduce((s,o)=>{let c=JSON.stringify(JA(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tS=new Set([100,101,204,205]);function eS(r,t){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":t&&dr(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function tE(){let r=$.useContext(Js);return rm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function nS(){let r=$.useContext(Xc);return rm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var am=$.createContext(void 0);am.displayName="FrameworkContext";function eE(){let r=$.useContext(am);return rm(r,"You must render this element inside a <HydratedRouter> element"),r}function iS(r,t){let i=$.useContext(am),[s,o]=$.useState(!1),[c,h]=$.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:b}=t,S=$.useRef(null);$.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Q=tt=>{tt.forEach(X=>{h(X.isIntersecting)})},q=new IntersectionObserver(Q,{threshold:.5});return S.current&&q.observe(S.current),()=>{q.disconnect()}}},[r]),$.useEffect(()=>{if(s){let Q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},U=()=>{o(!1),h(!1)};return i?r!=="intent"?[c,S,{}]:[c,S,{onFocus:ho(m,k),onBlur:ho(p,U),onMouseEnter:ho(y,k),onMouseLeave:ho(E,U),onTouchStart:ho(b,k)}]:[!1,S,{}]}function ho(r,t){return i=>{r&&r(i),i.defaultPrevented||t(i)}}function rS({page:r,...t}){let{router:i}=tE(),s=$.useMemo(()=>qv(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?$.createElement(sS,{page:r,matches:s,...t}):null}function aS(r){let{manifest:t,routeModules:i}=eE(),[s,o]=$.useState([]);return $.useEffect(()=>{let c=!1;return XA(r,t,i).then(h=>{c||o(h)}),()=>{c=!0}},[r,t,i]),s}function sS({page:r,matches:t,...i}){let s=Ba(),{manifest:o,routeModules:c}=eE(),{basename:h}=tE(),{loaderData:m,matches:p}=nS(),y=$.useMemo(()=>__(r,t,p,o,s,"data"),[r,t,p,o,s]),E=$.useMemo(()=>__(r,t,p,o,s,"assets"),[r,t,p,o,s]),b=$.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,Q=!1;if(t.forEach(tt=>{var st;let X=o.routes[tt.route.id];!X||!X.hasLoader||(!y.some(yt=>yt.route.id===tt.route.id)&&tt.route.id in m&&((st=c[tt.route.id])!=null&&st.shouldRevalidate)||X.hasClientLoader?Q=!0:U.add(tt.route.id))}),U.size===0)return[];let q=eS(r,h);return Q&&U.size>0&&q.searchParams.set("_routes",t.filter(tt=>U.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[q.pathname+q.search]},[h,m,s,o,y,t,r,c]),S=$.useMemo(()=>$A(E,o),[E,o]),k=aS(E);return $.createElement($.Fragment,null,b.map(U=>$.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...i})),S.map(U=>$.createElement("link",{key:U,rel:"modulepreload",href:U,...i})),k.map(({key:U,link:Q})=>$.createElement("link",{key:U,...Q})))}function lS(...r){return t=>{r.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var nE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nE&&(window.__reactRouterVersion="7.6.2")}catch{}function oS({basename:r,children:t,window:i}){let s=$.useRef();s.current==null&&(s.current=K1({window:i,v5Compat:!0}));let o=s.current,[c,h]=$.useState({action:o.action,location:o.location}),m=$.useCallback(p=>{$.startTransition(()=>h(p))},[h]);return $.useLayoutEffect(()=>o.listen(m),[o,m]),$.createElement(PA,{basename:r,children:t,location:c.location,navigationType:c.action,navigator:o})}var iE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vn=$.forwardRef(function({onClick:t,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:h,state:m,target:p,to:y,preventScrollReset:E,viewTransition:b,...S},k){let{basename:U}=$.useContext(xi),Q=typeof y=="string"&&iE.test(y),q,tt=!1;if(typeof y=="string"&&Q&&(q=y,nE))try{let C=new URL(window.location.href),I=y.startsWith("//")?new URL(C.protocol+y):new URL(y),L=dr(I.pathname,U);I.origin===C.origin&&L!=null?y=L+I.search+I.hash:tt=!0}catch{Di(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=TA(y,{relative:o}),[st,yt,dt]=iS(s,S),Ot=hS(y,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function O(C){t&&t(C),C.defaultPrevented||Ot(C)}let R=$.createElement("a",{...S,...dt,href:q||X,onClick:tt||c?t:O,ref:lS(k,yt),target:p,"data-discover":!Q&&i==="render"?"true":void 0});return st&&!Q?$.createElement($.Fragment,null,R,$.createElement(rS,{page:X})):R});Vn.displayName="Link";var uS=$.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:h,viewTransition:m,children:p,...y},E){let b=zo(h,{relative:y.relative}),S=Ba(),k=$.useContext(Xc),{navigator:U,basename:Q}=$.useContext(xi),q=k!=null&&yS(b)&&m===!0,tt=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,X=S.pathname,st=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(X=X.toLowerCase(),st=st?st.toLowerCase():null,tt=tt.toLowerCase()),st&&Q&&(st=dr(st,Q)||st);const yt=tt!=="/"&&tt.endsWith("/")?tt.length-1:tt.length;let dt=X===tt||!o&&X.startsWith(tt)&&X.charAt(yt)==="/",Ot=st!=null&&(st===tt||!o&&st.startsWith(tt)&&st.charAt(tt.length)==="/"),O={isActive:dt,isPending:Ot,isTransitioning:q},R=dt?t:void 0,C;typeof s=="function"?C=s(O):C=[s,dt?"active":null,Ot?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(O):c;return $.createElement(Vn,{...y,"aria-current":R,className:C,ref:E,style:I,to:h,viewTransition:m},typeof p=="function"?p(O):p)});uS.displayName="NavLink";var cS=$.forwardRef(({discover:r="render",fetcherKey:t,navigate:i,reloadDocument:s,replace:o,state:c,method:h=Ec,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:b,...S},k)=>{let U=gS(),Q=pS(m,{relative:y}),q=h.toLowerCase()==="get"?"get":"post",tt=typeof m=="string"&&iE.test(m),X=st=>{if(p&&p(st),st.defaultPrevented)return;st.preventDefault();let yt=st.nativeEvent.submitter,dt=(yt==null?void 0:yt.getAttribute("formmethod"))||h;U(yt||st.currentTarget,{fetcherKey:t,method:dt,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:b})};return $.createElement("form",{ref:k,method:q,action:Q,onSubmit:s?p:X,...S,"data-discover":!tt&&r==="render"?"true":void 0})});cS.displayName="Form";function fS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(r){let t=$.useContext(Js);return pe(t,fS(r)),t}function hS(r,{target:t,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:h}={}){let m=AA(),p=Ba(),y=zo(r,{relative:c});return $.useCallback(E=>{if(HA(E,t)){E.preventDefault();let b=i!==void 0?i:Co(p)===Co(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:c,viewTransition:h})}},[p,m,y,i,s,t,r,o,c,h])}var dS=0,mS=()=>`__${String(++dS)}__`;function gS(){let{router:r}=rE("useSubmit"),{basename:t}=$.useContext(xi),i=OA();return $.useCallback(async(s,o={})=>{let{action:c,method:h,encType:m,formData:p,body:y}=QA(s,t);if(o.navigate===!1){let E=o.fetcherKey||mS();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,i])}function pS(r,{relative:t}={}){let{basename:i}=$.useContext(xi),s=$.useContext(Ii);pe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...zo(r||".",{relative:t})},h=Ba();if(r==null){c.search=h.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:cr([i,c.pathname])),Co(c)}function yS(r,t={}){let i=$.useContext(Kv);pe(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rE("useViewTransitionState"),o=zo(r,{relative:t.relative});if(!i.isTransitioning)return!1;let c=dr(i.currentLocation.pathname,s)||i.currentLocation.pathname,h=dr(i.nextLocation.pathname,s)||i.nextLocation.pathname;return Vc(o.pathname,h)!=null||Vc(o.pathname,c)!=null}[...tS];const _S=()=>{};var v_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},vS=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],h=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],h=r[i++];t[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return t.join("")},sE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,b=(c&3)<<4|m>>4;let S=(m&15)<<2|y>>6,k=y&63;p||(k=64,h||(S=64)),s.push(i[E],i[b],i[S],i[k])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(aE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):vS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||b==null)throw new ES;const S=c<<2|m>>4;if(s.push(S),y!==64){const k=m<<4&240|y>>2;if(s.push(k),b!==64){const U=y<<6&192|b;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ES extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(r){const t=aE(r);return sE.encodeByteArray(t,!0)},xc=function(r){return TS(r).replace(/\./g,"")},AS=function(r){try{return sE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=()=>SS().__FIREBASE_DEFAULTS__,RS=()=>{if(typeof process>"u"||typeof v_>"u")return;const r=v_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},wS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&AS(r[1]);return t&&JSON.parse(t)},sm=()=>{try{return _S()||bS()||RS()||wS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},CS=r=>{var t,i;return(i=(t=sm())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[r]},DS=r=>{const t=CS(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},lE=()=>{var r;return(r=sm())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(r){return r.endsWith(".cloudworkstations.dev")}async function xS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[xc(JSON.stringify(i)),xc(JSON.stringify(h)),""].join(".")}const Eo={};function NS(){const r={prod:[],emulator:[]};for(const t of Object.keys(Eo))Eo[t]?r.emulator.push(t):r.prod.push(t);return r}function OS(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let E_=!1;function MS(r,t){if(typeof window>"u"||typeof document>"u"||!lm(window.location.host)||Eo[r]===t||Eo[r]||E_)return;Eo[r]=t;function i(S){return`__firebase__banner__${S}`}const s="__firebase__banner",c=NS().prod.length>0;function h(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,k){S.setAttribute("width","24"),S.setAttribute("id",k),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{E_=!0,h()},S}function E(S,k){S.setAttribute("id",k),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=OS(s),k=i("text"),U=document.getElementById(k)||document.createElement("span"),Q=i("learnmore"),q=document.getElementById(Q)||document.createElement("a"),tt=i("preprendIcon"),X=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const st=S.element;m(st),E(q,Q);const yt=y();p(X,tt),st.append(X,U,q,yt),document.body.appendChild(st)}c?(U.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function US(){var r;const t=(r=sm())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PS(){return!US()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kS(){try{return typeof indexedDB=="object"}catch{return!1}}function zS(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="FirebaseError";class Ws extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=BS,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oE.prototype.create)}}class oE{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],h=c?jS(c,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ws(o,m,s)}}function jS(r,t){return r.replace(qS,(i,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const qS=/\{\$([^}]+)}/g;function Ic(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const o of i){if(!s.includes(o))return!1;const c=r[o],h=t[o];if(T_(c)&&T_(h)){if(!Ic(c,h))return!1}else if(c!==h)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function T_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(r){return r&&r._delegate?r._delegate:r}class Do{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new VS;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GS(t))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(t=La){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=La){return this.instances.has(t)}getOptions(t=La){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(o)}return o}onInit(t,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(o,c);const h=this.instances.get(o);return h&&t(h,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=La){return this.component?this.component.multipleInstances?t:La:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FS(r){return r===La?void 0:r}function GS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new HS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($t||($t={}));const YS={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},KS=$t.INFO,XS={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},$S=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=XS[t];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uE{constructor(t){this.name=t,this._logLevel=KS,this._logHandler=$S,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const ZS=(r,t)=>t.some(i=>r instanceof i);let A_,S_;function JS(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WS(){return S_||(S_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,Id=new WeakMap,fE=new WeakMap,vd=new WeakMap,om=new WeakMap;function tb(r){const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",h)},c=()=>{i($r(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&cE.set(i,r)}).catch(()=>{}),om.set(t,r),t}function eb(r){if(Id.has(r))return;const t=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",h),r.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",h),r.addEventListener("abort",h)});Id.set(r,t)}let Nd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Id.get(r);if(t==="objectStoreNames")return r.objectStoreNames||fE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $r(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function nb(r){Nd=r(Nd)}function ib(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Ed(this),t,...i);return fE.set(s,t.sort?t.sort():[t]),$r(s)}:WS().includes(r)?function(...t){return r.apply(Ed(this),t),$r(cE.get(this))}:function(...t){return $r(r.apply(Ed(this),t))}}function rb(r){return typeof r=="function"?ib(r):(r instanceof IDBTransaction&&eb(r),ZS(r,JS())?new Proxy(r,Nd):r)}function $r(r){if(r instanceof IDBRequest)return tb(r);if(vd.has(r))return vd.get(r);const t=rb(r);return t!==r&&(vd.set(r,t),om.set(t,r)),t}const Ed=r=>om.get(r);function ab(r,t,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const h=indexedDB.open(r,t),m=$r(h);return s&&h.addEventListener("upgradeneeded",p=>{s($r(h.result),p.oldVersion,p.newVersion,$r(h.transaction),p)}),i&&h.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const sb=["get","getKey","getAll","getAllKeys","count"],lb=["put","add","delete","clear"],Td=new Map;function b_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Td.get(t))return Td.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,o=lb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sb.includes(i)))return;const c=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return Td.set(t,c),c}nb(r=>({...r,get:(t,i,s)=>b_(t,i)||r.get(t,i,s),has:(t,i)=>!!b_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ub(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function ub(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Od="@firebase/app",R_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new uE("@firebase/app"),cb="@firebase/app-compat",fb="@firebase/analytics-compat",hb="@firebase/analytics",db="@firebase/app-check-compat",mb="@firebase/app-check",gb="@firebase/auth",pb="@firebase/auth-compat",yb="@firebase/database",_b="@firebase/data-connect",vb="@firebase/database-compat",Eb="@firebase/functions",Tb="@firebase/functions-compat",Ab="@firebase/installations",Sb="@firebase/installations-compat",bb="@firebase/messaging",Rb="@firebase/messaging-compat",wb="@firebase/performance",Cb="@firebase/performance-compat",Db="@firebase/remote-config",Vb="@firebase/remote-config-compat",xb="@firebase/storage",Ib="@firebase/storage-compat",Nb="@firebase/firestore",Ob="@firebase/ai",Mb="@firebase/firestore-compat",Lb="firebase",Ub="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Md="[DEFAULT]",Pb={[Od]:"fire-core",[cb]:"fire-core-compat",[hb]:"fire-analytics",[fb]:"fire-analytics-compat",[mb]:"fire-app-check",[db]:"fire-app-check-compat",[gb]:"fire-auth",[pb]:"fire-auth-compat",[yb]:"fire-rtdb",[_b]:"fire-data-connect",[vb]:"fire-rtdb-compat",[Eb]:"fire-fn",[Tb]:"fire-fn-compat",[Ab]:"fire-iid",[Sb]:"fire-iid-compat",[bb]:"fire-fcm",[Rb]:"fire-fcm-compat",[wb]:"fire-perf",[Cb]:"fire-perf-compat",[Db]:"fire-rc",[Vb]:"fire-rc-compat",[xb]:"fire-gcs",[Ib]:"fire-gcs-compat",[Nb]:"fire-fst",[Mb]:"fire-fst-compat",[Ob]:"fire-vertex","fire-js":"fire-js",[Lb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Map,kb=new Map,Ld=new Map;function w_(r,t){try{r.container.addComponent(t)}catch(i){mr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Oc(r){const t=r.name;if(Ld.has(t))return mr.debug(`There were multiple attempts to register component ${t}.`),!1;Ld.set(t,r);for(const i of Nc.values())w_(i,r);for(const i of kb.values())w_(i,r);return!0}function zb(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Bb(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zr=new oE("app","Firebase",jb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Do("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=Ub;function hE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Md,automaticDataCollectionEnabled:!0},t),o=s.name;if(typeof o!="string"||!o)throw Zr.create("bad-app-name",{appName:String(o)});if(i||(i=lE()),!i)throw Zr.create("no-options");const c=Nc.get(o);if(c){if(Ic(i,c.options)&&Ic(s,c.config))return c;throw Zr.create("duplicate-app",{appName:o})}const h=new QS(o);for(const p of Ld.values())h.addComponent(p);const m=new qb(i,s,h);return Nc.set(o,m),m}function Fb(r=Md){const t=Nc.get(r);if(!t&&r===Md&&lE())return hE();if(!t)throw Zr.create("no-app",{appName:r});return t}function Bs(r,t,i){var s;let o=(s=Pb[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),h=t.match(/\s|\//);if(c||h){const m=[`Unable to register library "${o}" with version "${t}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),mr.warn(m.join(" "));return}Oc(new Do(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="firebase-heartbeat-database",Qb=1,Vo="firebase-heartbeat-store";let Ad=null;function dE(){return Ad||(Ad=ab(Gb,Qb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Zr.create("idb-open",{originalErrorMessage:r.message})})),Ad}async function Yb(r){try{const i=(await dE()).transaction(Vo),s=await i.objectStore(Vo).get(mE(r));return await i.done,s}catch(t){if(t instanceof Ws)mr.warn(t.message);else{const i=Zr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});mr.warn(i.message)}}}async function C_(r,t){try{const s=(await dE()).transaction(Vo,"readwrite");await s.objectStore(Vo).put(t,mE(r)),await s.done}catch(i){if(i instanceof Ws)mr.warn(i.message);else{const s=Zr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});mr.warn(s.message)}}}function mE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb=1024,Xb=30;class $b{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Jb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=D_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Xb){const h=Wb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=D_(),{heartbeatsToSend:s,unsentEntries:o}=Zb(this._heartbeatsCache.heartbeats),c=xc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return mr.warn(i),""}}}function D_(){return new Date().toISOString().substring(0,10)}function Zb(r,t=Kb){const i=[];let s=r.slice();for(const o of r){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),V_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),V_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Jb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kS()?zS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Yb(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return C_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return C_(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function V_(r){return xc(JSON.stringify({version:2,heartbeats:r})).length}function Wb(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(r){Oc(new Do("platform-logger",t=>new ob(t),"PRIVATE")),Oc(new Do("heartbeat",t=>new $b(t),"PRIVATE")),Bs(Od,R_,r),Bs(Od,R_,"esm2017"),Bs("fire-js","")}tR("");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jr,gE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function C(){}C.prototype=R.prototype,O.D=R.prototype,O.prototype=new C,O.prototype.constructor=O,O.C=function(I,L,N){for(var w=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)w[Pt-2]=arguments[Pt];return R.prototype[L].apply(I,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,C){C||(C=0);var I=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)I[L]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(L=0;16>L;++L)I[L]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=O.g[0],C=O.g[1],L=O.g[2];var N=O.g[3],w=R+(N^C&(L^N))+I[0]+3614090360&4294967295;R=C+(w<<7&4294967295|w>>>25),w=N+(L^R&(C^L))+I[1]+3905402710&4294967295,N=R+(w<<12&4294967295|w>>>20),w=L+(C^N&(R^C))+I[2]+606105819&4294967295,L=N+(w<<17&4294967295|w>>>15),w=C+(R^L&(N^R))+I[3]+3250441966&4294967295,C=L+(w<<22&4294967295|w>>>10),w=R+(N^C&(L^N))+I[4]+4118548399&4294967295,R=C+(w<<7&4294967295|w>>>25),w=N+(L^R&(C^L))+I[5]+1200080426&4294967295,N=R+(w<<12&4294967295|w>>>20),w=L+(C^N&(R^C))+I[6]+2821735955&4294967295,L=N+(w<<17&4294967295|w>>>15),w=C+(R^L&(N^R))+I[7]+4249261313&4294967295,C=L+(w<<22&4294967295|w>>>10),w=R+(N^C&(L^N))+I[8]+1770035416&4294967295,R=C+(w<<7&4294967295|w>>>25),w=N+(L^R&(C^L))+I[9]+2336552879&4294967295,N=R+(w<<12&4294967295|w>>>20),w=L+(C^N&(R^C))+I[10]+4294925233&4294967295,L=N+(w<<17&4294967295|w>>>15),w=C+(R^L&(N^R))+I[11]+2304563134&4294967295,C=L+(w<<22&4294967295|w>>>10),w=R+(N^C&(L^N))+I[12]+1804603682&4294967295,R=C+(w<<7&4294967295|w>>>25),w=N+(L^R&(C^L))+I[13]+4254626195&4294967295,N=R+(w<<12&4294967295|w>>>20),w=L+(C^N&(R^C))+I[14]+2792965006&4294967295,L=N+(w<<17&4294967295|w>>>15),w=C+(R^L&(N^R))+I[15]+1236535329&4294967295,C=L+(w<<22&4294967295|w>>>10),w=R+(L^N&(C^L))+I[1]+4129170786&4294967295,R=C+(w<<5&4294967295|w>>>27),w=N+(C^L&(R^C))+I[6]+3225465664&4294967295,N=R+(w<<9&4294967295|w>>>23),w=L+(R^C&(N^R))+I[11]+643717713&4294967295,L=N+(w<<14&4294967295|w>>>18),w=C+(N^R&(L^N))+I[0]+3921069994&4294967295,C=L+(w<<20&4294967295|w>>>12),w=R+(L^N&(C^L))+I[5]+3593408605&4294967295,R=C+(w<<5&4294967295|w>>>27),w=N+(C^L&(R^C))+I[10]+38016083&4294967295,N=R+(w<<9&4294967295|w>>>23),w=L+(R^C&(N^R))+I[15]+3634488961&4294967295,L=N+(w<<14&4294967295|w>>>18),w=C+(N^R&(L^N))+I[4]+3889429448&4294967295,C=L+(w<<20&4294967295|w>>>12),w=R+(L^N&(C^L))+I[9]+568446438&4294967295,R=C+(w<<5&4294967295|w>>>27),w=N+(C^L&(R^C))+I[14]+3275163606&4294967295,N=R+(w<<9&4294967295|w>>>23),w=L+(R^C&(N^R))+I[3]+4107603335&4294967295,L=N+(w<<14&4294967295|w>>>18),w=C+(N^R&(L^N))+I[8]+1163531501&4294967295,C=L+(w<<20&4294967295|w>>>12),w=R+(L^N&(C^L))+I[13]+2850285829&4294967295,R=C+(w<<5&4294967295|w>>>27),w=N+(C^L&(R^C))+I[2]+4243563512&4294967295,N=R+(w<<9&4294967295|w>>>23),w=L+(R^C&(N^R))+I[7]+1735328473&4294967295,L=N+(w<<14&4294967295|w>>>18),w=C+(N^R&(L^N))+I[12]+2368359562&4294967295,C=L+(w<<20&4294967295|w>>>12),w=R+(C^L^N)+I[5]+4294588738&4294967295,R=C+(w<<4&4294967295|w>>>28),w=N+(R^C^L)+I[8]+2272392833&4294967295,N=R+(w<<11&4294967295|w>>>21),w=L+(N^R^C)+I[11]+1839030562&4294967295,L=N+(w<<16&4294967295|w>>>16),w=C+(L^N^R)+I[14]+4259657740&4294967295,C=L+(w<<23&4294967295|w>>>9),w=R+(C^L^N)+I[1]+2763975236&4294967295,R=C+(w<<4&4294967295|w>>>28),w=N+(R^C^L)+I[4]+1272893353&4294967295,N=R+(w<<11&4294967295|w>>>21),w=L+(N^R^C)+I[7]+4139469664&4294967295,L=N+(w<<16&4294967295|w>>>16),w=C+(L^N^R)+I[10]+3200236656&4294967295,C=L+(w<<23&4294967295|w>>>9),w=R+(C^L^N)+I[13]+681279174&4294967295,R=C+(w<<4&4294967295|w>>>28),w=N+(R^C^L)+I[0]+3936430074&4294967295,N=R+(w<<11&4294967295|w>>>21),w=L+(N^R^C)+I[3]+3572445317&4294967295,L=N+(w<<16&4294967295|w>>>16),w=C+(L^N^R)+I[6]+76029189&4294967295,C=L+(w<<23&4294967295|w>>>9),w=R+(C^L^N)+I[9]+3654602809&4294967295,R=C+(w<<4&4294967295|w>>>28),w=N+(R^C^L)+I[12]+3873151461&4294967295,N=R+(w<<11&4294967295|w>>>21),w=L+(N^R^C)+I[15]+530742520&4294967295,L=N+(w<<16&4294967295|w>>>16),w=C+(L^N^R)+I[2]+3299628645&4294967295,C=L+(w<<23&4294967295|w>>>9),w=R+(L^(C|~N))+I[0]+4096336452&4294967295,R=C+(w<<6&4294967295|w>>>26),w=N+(C^(R|~L))+I[7]+1126891415&4294967295,N=R+(w<<10&4294967295|w>>>22),w=L+(R^(N|~C))+I[14]+2878612391&4294967295,L=N+(w<<15&4294967295|w>>>17),w=C+(N^(L|~R))+I[5]+4237533241&4294967295,C=L+(w<<21&4294967295|w>>>11),w=R+(L^(C|~N))+I[12]+1700485571&4294967295,R=C+(w<<6&4294967295|w>>>26),w=N+(C^(R|~L))+I[3]+2399980690&4294967295,N=R+(w<<10&4294967295|w>>>22),w=L+(R^(N|~C))+I[10]+4293915773&4294967295,L=N+(w<<15&4294967295|w>>>17),w=C+(N^(L|~R))+I[1]+2240044497&4294967295,C=L+(w<<21&4294967295|w>>>11),w=R+(L^(C|~N))+I[8]+1873313359&4294967295,R=C+(w<<6&4294967295|w>>>26),w=N+(C^(R|~L))+I[15]+4264355552&4294967295,N=R+(w<<10&4294967295|w>>>22),w=L+(R^(N|~C))+I[6]+2734768916&4294967295,L=N+(w<<15&4294967295|w>>>17),w=C+(N^(L|~R))+I[13]+1309151649&4294967295,C=L+(w<<21&4294967295|w>>>11),w=R+(L^(C|~N))+I[4]+4149444226&4294967295,R=C+(w<<6&4294967295|w>>>26),w=N+(C^(R|~L))+I[11]+3174756917&4294967295,N=R+(w<<10&4294967295|w>>>22),w=L+(R^(N|~C))+I[2]+718787259&4294967295,L=N+(w<<15&4294967295|w>>>17),w=C+(N^(L|~R))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(L+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+L&4294967295,O.g[3]=O.g[3]+N&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var C=R-this.blockSize,I=this.B,L=this.h,N=0;N<R;){if(L==0)for(;N<=C;)o(this,O,N),N+=this.blockSize;if(typeof O=="string"){for(;N<R;)if(I[L++]=O.charCodeAt(N++),L==this.blockSize){o(this,I),L=0;break}}else for(;N<R;)if(I[L++]=O[N++],L==this.blockSize){o(this,I),L=0;break}}this.h=L,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var C=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=C&255,C/=256;for(this.u(O),O=Array(16),R=C=0;4>R;++R)for(var I=0;32>I;I+=8)O[C++]=this.g[R]>>>I&255;return O};function c(O,R){var C=m;return Object.prototype.hasOwnProperty.call(C,O)?C[O]:C[O]=R(O)}function h(O,R){this.h=R;for(var C=[],I=!0,L=O.length-1;0<=L;L--){var N=O[L]|0;I&&N==R||(C[L]=N,I=!1)}this.g=C}var m={};function p(O){return-128<=O&&128>O?c(O,function(R){return new h([R|0],0>R?-1:0)}):new h([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return q(y(-O));for(var R=[],C=1,I=0;O>=C;I++)R[I]=O/C|0,C*=4294967296;return new h(R,0)}function E(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return q(E(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(R,8)),I=b,L=0;L<O.length;L+=8){var N=Math.min(8,O.length-L),w=parseInt(O.substring(L,L+N),R);8>N?(N=y(Math.pow(R,N)),I=I.j(N).add(y(w))):(I=I.j(C),I=I.add(y(w)))}return I}var b=p(0),S=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(Q(this))return-q(this).m();for(var O=0,R=1,C=0;C<this.g.length;C++){var I=this.i(C);O+=(0<=I?I:4294967296+I)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(U(this))return"0";if(Q(this))return"-"+q(this).toString(O);for(var R=y(Math.pow(O,6)),C=this,I="";;){var L=yt(C,R).g;C=tt(C,L.j(R));var N=((0<C.g.length?C.g[0]:C.h)>>>0).toString(O);if(C=L,U(C))return N+I;for(;6>N.length;)N="0"+N;I=N+I}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function U(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function Q(O){return O.h==-1}r.l=function(O){return O=tt(this,O),Q(O)?-1:U(O)?0:1};function q(O){for(var R=O.g.length,C=[],I=0;I<R;I++)C[I]=~O.g[I];return new h(C,~O.h).add(S)}r.abs=function(){return Q(this)?q(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],I=0,L=0;L<=R;L++){var N=I+(this.i(L)&65535)+(O.i(L)&65535),w=(N>>>16)+(this.i(L)>>>16)+(O.i(L)>>>16);I=w>>>16,N&=65535,w&=65535,C[L]=w<<16|N}return new h(C,C[C.length-1]&-2147483648?-1:0)};function tt(O,R){return O.add(q(R))}r.j=function(O){if(U(this)||U(O))return b;if(Q(this))return Q(O)?q(this).j(q(O)):q(q(this).j(O));if(Q(O))return q(this.j(q(O)));if(0>this.l(k)&&0>O.l(k))return y(this.m()*O.m());for(var R=this.g.length+O.g.length,C=[],I=0;I<2*R;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var L=0;L<O.g.length;L++){var N=this.i(I)>>>16,w=this.i(I)&65535,Pt=O.i(L)>>>16,Bt=O.i(L)&65535;C[2*I+2*L]+=w*Bt,X(C,2*I+2*L),C[2*I+2*L+1]+=N*Bt,X(C,2*I+2*L+1),C[2*I+2*L+1]+=w*Pt,X(C,2*I+2*L+1),C[2*I+2*L+2]+=N*Pt,X(C,2*I+2*L+2)}for(I=0;I<R;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=R;I<2*R;I++)C[I]=0;return new h(C,0)};function X(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function st(O,R){this.g=O,this.h=R}function yt(O,R){if(U(R))throw Error("division by zero");if(U(O))return new st(b,b);if(Q(O))return R=yt(q(O),R),new st(q(R.g),q(R.h));if(Q(R))return R=yt(O,q(R)),new st(q(R.g),R.h);if(30<O.g.length){if(Q(O)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var C=S,I=R;0>=I.l(O);)C=dt(C),I=dt(I);var L=Ot(C,1),N=Ot(I,1);for(I=Ot(I,2),C=Ot(C,2);!U(I);){var w=N.add(I);0>=w.l(O)&&(L=L.add(C),N=w),I=Ot(I,1),C=Ot(C,1)}return R=tt(O,L.j(R)),new st(L,R)}for(L=b;0<=O.l(R);){for(C=Math.max(1,Math.floor(O.m()/R.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),N=y(C),w=N.j(R);Q(w)||0<w.l(O);)C-=I,N=y(C),w=N.j(R);U(N)&&(N=S),L=L.add(N),O=tt(O,w)}return new st(L,O)}r.A=function(O){return yt(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],I=0;I<R;I++)C[I]=this.i(I)&O.i(I);return new h(C,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],I=0;I<R;I++)C[I]=this.i(I)|O.i(I);return new h(C,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),C=[],I=0;I<R;I++)C[I]=this.i(I)^O.i(I);return new h(C,this.h^O.h)};function dt(O){for(var R=O.g.length+1,C=[],I=0;I<R;I++)C[I]=O.i(I)<<1|O.i(I-1)>>>31;return new h(C,O.h)}function Ot(O,R){var C=R>>5;R%=32;for(var I=O.g.length-C,L=[],N=0;N<I;N++)L[N]=0<R?O.i(N+C)>>>R|O.i(N+C+1)<<32-R:O.i(N+C);return new h(L,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,gE=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=E,Jr=h}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pE,po,yE,Ac,Ud,_E,vE,EE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var z=u[A];if(!(z in _))break t;_=_[z]}u=u[u.length-1],A=_[u],g=g(A),g!=A&&g!=null&&t(_,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var _=0,A=!1,z={next:function(){if(!A&&_<u.length){var Y=_++;return{value:g(Y,u[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,_){return u.call.apply(u.bind,arguments)}function b(u,g,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),u.apply(g,z)}}return function(){return u.apply(g,arguments)}}function S(u,g,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,S.apply(null,arguments)}function k(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function U(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,z,Y){for(var ct=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)ct[Qt-2]=arguments[Qt];return g.prototype[z].apply(A,ct)}}function Q(u){const g=u.length;if(0<g){const _=Array(g);for(let A=0;A<g;A++)_[A]=u[A];return _}return[]}function q(u,g){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=u.length||0,Y=A.length||0;u.length=z+Y;for(let ct=0;ct<Y;ct++)u[z+ct]=A[ct]}else u.push(A)}}class tt{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function X(u){return/^[\s\xa0]*$/.test(u)}function st(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function yt(u){return yt[" "](u),u}yt[" "]=function(){};var dt=st().indexOf("Gecko")!=-1&&!(st().toLowerCase().indexOf("webkit")!=-1&&st().indexOf("Edge")==-1)&&!(st().indexOf("Trident")!=-1||st().indexOf("MSIE")!=-1)&&st().indexOf("Edge")==-1;function Ot(u,g,_){for(const A in u)g.call(_,u[A],A,u)}function O(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function R(u){const g={};for(const _ in u)g[_]=u[_];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,g){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)u[_]=A[_];for(let Y=0;Y<C.length;Y++)_=C[Y],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function L(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function N(u){m.setTimeout(()=>{throw u},0)}function w(){var u=jt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class Pt{constructor(){this.h=this.g=null}add(g,_){const A=Bt.get();A.set(g,_),this.h?this.h.next=A:this.g=A,this.h=A}}var Bt=new tt(()=>new K,u=>u.reset());class K{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ot,Et=!1,jt=new Pt,x=()=>{const u=m.Promise.resolve(void 0);ot=()=>{u.then(at)}};var at=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(_){N(_)}var g=Bt;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}Et=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return u}();function Mt(u,g){if(lt.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(dt){t:{try{yt(g.nodeName);var z=!0;break t}catch{}z=!1}z||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Mt.aa.h.call(this)}}U(Mt,lt);var Vt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),ee=0;function dn(u,g,_,A,z){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!A,this.ha=z,this.key=++ee,this.da=this.fa=!1}function In(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qn(u){this.src=u,this.g={},this.h=0}Qn.prototype.add=function(u,g,_,A,z){var Y=u.toString();u=this.g[Y],u||(u=this.g[Y]=[],this.h++);var ct=Ni(u,g,A,z);return-1<ct?(g=u[ct],_||(g.fa=!1)):(g=new dn(g,this.src,Y,!!A,z),g.fa=_,u.push(g)),g};function ai(u,g){var _=g.type;if(_ in u.g){var A=u.g[_],z=Array.prototype.indexOf.call(A,g,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(A,z,1),Y&&(In(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Ni(u,g,_,A){for(var z=0;z<u.length;++z){var Y=u[z];if(!Y.da&&Y.listener==g&&Y.capture==!!_&&Y.ha==A)return z}return-1}var si="closure_lm_"+(1e6*Math.random()|0),yr={};function Ga(u,g,_,A,z){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)Ga(u,g[Y],_,A,z);return null}return _=ut(_),u&&u[_e]?u.K(g,_,y(A)?!!A.capture:!1,z):mn(u,g,_,!1,A,z)}function mn(u,g,_,A,z,Y){if(!g)throw Error("Invalid event type");var ct=y(z)?!!z.capture:!!z,Qt=gt(u);if(Qt||(u[si]=Qt=new Qn(u)),_=Qt.add(g,_,A,ct,Y),_.proxy)return _;if(A=Qo(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)bt||(z=ct),z===void 0&&(z=!1),u.addEventListener(g.toString(),A,z);else if(u.attachEvent)u.attachEvent(H(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Qo(){function u(_){return g.call(u.src,u.listener,_)}const g=J;return u}function _r(u,g,_,A,z){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)_r(u,g[Y],_,A,z);else A=y(A)?!!A.capture:!!A,_=ut(_),u&&u[_e]?(u=u.i,g=String(g).toString(),g in u.g&&(Y=u.g[g],_=Ni(Y,_,A,z),-1<_&&(In(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete u.g[g],u.h--)))):u&&(u=gt(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ni(g,_,A,z)),(_=-1<u?g[u]:null)&&V(_))}function V(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[_e])ai(g.i,u);else{var _=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(_,A,u.capture):g.detachEvent?g.detachEvent(H(_),A):g.addListener&&g.removeListener&&g.removeListener(A),(_=gt(g))?(ai(_,u),_.h==0&&(_.src=null,g[si]=null)):In(u)}}}function H(u){return u in yr?yr[u]:yr[u]="on"+u}function J(u,g){if(u.da)u=!0;else{g=new Mt(g,this);var _=u.listener,A=u.ha||u.src;u.fa&&V(u),u=_.call(A,g)}return u}function gt(u){return u=u[si],u instanceof Qn?u:null}var ft="__closure_events_fn_"+(1e9*Math.random()>>>0);function ut(u){return typeof u=="function"?u:(u[ft]||(u[ft]=function(g){return u.handleEvent(g)}),u[ft])}function mt(){ht.call(this),this.i=new Qn(this),this.M=this,this.F=null}U(mt,ht),mt.prototype[_e]=!0,mt.prototype.removeEventListener=function(u,g,_,A){_r(this,u,g,_,A)};function At(u,g){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new lt(g,u);else if(g instanceof lt)g.target=g.target||u;else{var z=g;g=new lt(A,u),I(g,z)}if(z=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ct=g.g=_[Y];z=Ut(ct,A,!0,g)&&z}if(ct=g.g=u,z=Ut(ct,A,!0,g)&&z,z=Ut(ct,A,!1,g)&&z,_)for(Y=0;Y<_.length;Y++)ct=g.g=_[Y],z=Ut(ct,A,!1,g)&&z}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],A=0;A<_.length;A++)In(_[A]);delete u.g[g],u.h--}}this.F=null},mt.prototype.K=function(u,g,_,A){return this.i.add(String(u),g,!1,_,A)},mt.prototype.L=function(u,g,_,A){return this.i.add(String(u),g,!0,_,A)};function Ut(u,g,_,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,Y=0;Y<g.length;++Y){var ct=g[Y];if(ct&&!ct.da&&ct.capture==_){var Qt=ct.listener,Me=ct.ha||ct.src;ct.fa&&ai(u.i,ct),z=Qt.call(Me,A)!==!1&&z}}return z&&!A.defaultPrevented}function ne(u,g,_){if(typeof u=="function")_&&(u=S(u,_));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Oi(u){u.g=ne(()=>{u.g=null,u.i&&(u.i=!1,Oi(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Nn extends ht{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Oi(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mi(u){ht.call(this),this.h=u,this.g={}}U(Mi,ht);var Yn=[];function Kn(u){Ot(u.g,function(g,_){this.g.hasOwnProperty(_)&&V(g)},u),u.g={}}Mi.prototype.N=function(){Mi.aa.N.call(this),Kn(this)},Mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var En=m.JSON.stringify,Li=m.JSON.parse,Ui=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function vr(){}vr.prototype.h=null;function al(u){return u.h||(u.h=u.i())}function sl(){}var Pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){lt.call(this,"d")}U(ki,lt);function ll(){lt.call(this,"c")}U(ll,lt);var li={},ol=null;function Er(){return ol=ol||new mt}li.La="serverreachability";function Qa(u){lt.call(this,li.La,u)}U(Qa,lt);function Tr(u){const g=Er();At(g,new Qa(g))}li.STAT_EVENT="statevent";function Yo(u,g){lt.call(this,li.STAT_EVENT,u),this.stat=g}U(Yo,lt);function de(u){const g=Er();At(g,new Yo(g,u))}li.Ma="timingevent";function Oe(u,g){lt.call(this,li.Ma,u),this.size=g}U(Oe,lt);function we(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function ul(u,g,_,A,z,Y){u.info(function(){if(u.g)if(Y)for(var ct="",Qt=Y.split("&"),Me=0;Me<Qt.length;Me++){var Yt=Qt[Me].split("=");if(1<Yt.length){var qe=Yt[0];Yt=Yt[1];var Le=qe.split("_");ct=2<=Le.length&&Le[1]=="type"?ct+(qe+"="+Yt+"&"):ct+(qe+"=redacted&")}}else ct=null;else ct=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+g+`
`+_+`
`+ct})}function mf(u,g,_,A,z,Y,ct){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+g+`
`+_+`
`+Y+" "+ct})}function Ar(u,g,_,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+sa(u,_)+(A?" "+A:"")})}function Ko(u,g){u.info(function(){return"TIMEOUT: "+g})}On.prototype.info=function(){};function sa(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ct=1;ct<z.length;ct++)z[ct]=""}}}}return En(_)}catch{return g}}var Sr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function ui(){}U(ui,vr),ui.prototype.g=function(){return new XMLHttpRequest},ui.prototype.i=function(){return{}},oi=new ui;function on(u,g,_,A){this.j=u,this.i=g,this.l=_,this.R=A||1,this.U=new Mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}var cl={},Ya={};function Xn(u,g,_){u.L=1,u.v=fa(Tn(g)),u.m=_,u.P=!0,Bi(u,null)}function Bi(u,g){u.F=Date.now(),la(u),u.A=Tn(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),pl(_.i,"t",A),u.C=0,_=u.j.J,u.h=new Te,u.g=cu(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Nn(S(u.Y,u,u.g),u.O)),g=u.U,_=u.g,A=u.ca;var z="readystatechange";Array.isArray(z)||(z&&(Yn[0]=z.toString()),z=Yn);for(var Y=0;Y<z.length;Y++){var ct=Ga(_,z[Y],A||g.handleEvent,!1,g.h||g);if(!ct)break;g.g[ct.key]=ct}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Tr(),ul(u.i,u.u,u.A,u.l,u.R,u.m)}on.prototype.ca=function(u){u=u.target;const g=this.M;g&&Pn(u)==3?g.j():this.Y(u)},on.prototype.Y=function(u){try{if(u==this.g)t:{const Le=Pn(this.g);var g=this.g.Ba();const Ki=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||nu(this.g)))){this.J||Le!=4||g==7||(g==8||0>=Ki?Tr(3):Tr(2)),br(this);var _=this.g.Z();this.X=_;e:if(Xo(this)){var A=nu(this.g);u="";var z=A.length,Y=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ye(this),ci(this);var ct="";break e}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(Y&&g==z-1)});A.length=0,this.h.g+=u,this.C=0,ct=this.h.g}else ct=this.g.oa();if(this.o=_==200,mf(this.i,this.u,this.A,this.l,this.R,Le,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Qt,Me=this.g;if((Qt=Me.g?Me.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Qt)){var Yt=Qt;break e}}Yt=null}if(_=Yt)Ar(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,oa(this,_);else{this.o=!1,this.s=3,de(12),Ye(this),ci(this);break t}}if(this.P){_=!0;let Ke;for(;!this.J&&this.C<ct.length;)if(Ke=$o(this,ct),Ke==Ya){Le==4&&(this.s=4,de(14),_=!1),Ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Ke==cl){this.s=4,de(15),Ar(this.i,this.l,ct,"[Invalid Chunk]"),_=!1;break}else Ar(this.i,this.l,Ke,null),oa(this,Ke);if(Xo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||ct.length!=0||this.h.h||(this.s=1,de(16),_=!1),this.o=this.o&&_,!_)Ar(this.i,this.l,ct,"[Invalid Chunked Response]"),Ye(this),ci(this);else if(0<ct.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+ct.length),va(qe),qe.M=!0,de(11))}}else Ar(this.i,this.l,ct,null),oa(this,ct);Le==4&&Ye(this),this.o&&!this.J&&(Le==4?lu(this.j,this):(this.o=!1,la(this)))}else vf(this.g),_==400&&0<ct.indexOf("Unknown SID")?(this.s=3,de(12)):(this.s=0,de(13)),Ye(this),ci(this)}}}catch{}finally{}};function Xo(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function $o(u,g){var _=u.C,A=g.indexOf(`
`,_);return A==-1?Ya:(_=Number(g.substring(_,A)),isNaN(_)?cl:(A+=1,A+_>g.length?Ya:(g=g.slice(A,A+_),u.C=A+_,g)))}on.prototype.cancel=function(){this.J=!0,Ye(this)};function la(u){u.S=Date.now()+u.I,Zo(u,u.I)}function Zo(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=we(S(u.ba,u),g)}function br(u){u.B&&(m.clearTimeout(u.B),u.B=null)}on.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ko(this.i,this.A),this.L!=2&&(Tr(),de(17)),Ye(this),this.s=2,ci(this)):Zo(this,this.S-u)};function ci(u){u.j.G==0||u.J||lu(u.j,u)}function Ye(u){br(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,Kn(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function oa(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||fl(_.h,u))){if(!u.K&&fl(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)as(_),is(_);else break t;Tl(_),de(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=we(S(_.Za,_),6e3));if(1>=Xa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Yi(_,11)}else if((u.K||_.g==u)&&as(_),!X(g))for(z=_.Da.g.parse(g),g=0;g<z.length;g++){let Yt=z[g];if(_.T=Yt[0],Yt=Yt[1],_.G==2)if(Yt[0]=="c"){_.K=Yt[1],_.ia=Yt[2];const qe=Yt[3];qe!=null&&(_.la=qe,_.j.info("VER="+_.la));const Le=Yt[4];Le!=null&&(_.Aa=Le,_.j.info("SVER="+_.Aa));const Ki=Yt[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(A=1.5*Ki,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ke=u.g;if(Ke){const yi=Ke.g?Ke.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var Y=A.h;Y.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&($a(Y,Y.h),Y.h=null))}if(A.D){const Sl=Ke.g?Ke.g.getResponseHeader("X-HTTP-Session-Id"):null;Sl&&(A.ya=Sl,ae(A.I,A.D,Sl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var ct=u;if(A.qa=uu(A,A.J?A.ia:null,A.W),ct.K){un(A.h,ct);var Qt=ct,Me=A.L;Me&&(Qt.I=Me),Qt.B&&(br(Qt),la(Qt)),A.g=ct}else au(A);0<_.i.length&&rs(_)}else Yt[0]!="stop"&&Yt[0]!="close"||Yi(_,7);else _.G==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Yi(_,7):vl(_):Yt[0]!="noop"&&_.l&&_.l.ta(Yt),_.v=0)}}Tr(4)}catch{}}var Jo=class{constructor(u,g){this.g=u,this.map=g}};function ji(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Xa(u){return u.h?1:u.g?u.g.size:0}function fl(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function $a(u,g){u.g?u.g.add(g):u.h=g}function un(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}ji.prototype.cancel=function(){if(this.i=hl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function hl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return Q(u.i)}function gf(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],_=u.length,A=0;A<_;A++)g.push(u[A]);return g}g=[],_=0;for(A in u)g[_++]=u[A];return g}function Za(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const A in u)g[_++]=A;return g}}}function dl(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=Za(u),A=gf(u),z=A.length,Y=0;Y<z;Y++)g.call(void 0,A[Y],_&&_[Y],u)}var ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pf(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),z=null;if(0<=A){var Y=u[_].substring(0,A);z=u[_].substring(A+1)}else Y=u[_];g(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ce(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ce){this.h=u.h,ca(this,u.j),this.o=u.o,this.g=u.g,Rr(this,u.s),this.l=u.l;var g=u.i,_=new Hi;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),qi(this,_),this.m=u.m}else u&&(g=String(u).match(ua))?(this.h=!1,ca(this,g[1]||"",!0),this.o=Mn(g[2]||""),this.g=Mn(g[3]||"",!0),Rr(this,g[4]),this.l=Mn(g[5]||"",!0),qi(this,g[6]||"",!0),this.m=Mn(g[7]||"")):(this.h=!1,this.i=new Hi(null,this.h))}Ce.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ha(g,ml,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ha(g,ml,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(ha(_,_.charAt(0)=="/"?yf:gl,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",ha(_,Ja)),u.join("")};function Tn(u){return new Ce(u)}function ca(u,g,_){u.j=_?Mn(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Rr(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function qi(u,g,_){g instanceof Hi?(u.i=g,tu(u.i,u.h)):(_||(g=ha(g,_f)),u.i=new Hi(g,u.h))}function ae(u,g,_){u.i.set(g,_)}function fa(u){return ae(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Mn(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ha(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,Wo),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Wo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ml=/[#\/\?@]/g,gl=/[#\?:]/g,yf=/[#\?]/g,_f=/[#\?@]/g,Ja=/#/g;function Hi(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Ln(u){u.g||(u.g=new Map,u.h=0,u.i&&pf(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Hi.prototype,r.add=function(u,g){Ln(this),this.i=null,u=fi(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function Fi(u,g){Ln(u),g=fi(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Gi(u,g){return Ln(u),g=fi(u,g),u.g.has(g)}r.forEach=function(u,g){Ln(this),this.g.forEach(function(_,A){_.forEach(function(z){u.call(g,z,A,this)},this)},this)},r.na=function(){Ln(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let A=0;A<g.length;A++){const z=u[A];for(let Y=0;Y<z.length;Y++)_.push(g[A])}return _},r.V=function(u){Ln(this);let g=[];if(typeof u=="string")Gi(this,u)&&(g=g.concat(this.g.get(fi(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},r.set=function(u,g){return Ln(this),this.i=null,u=fi(this,u),Gi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function pl(u,g,_){Fi(u,g),0<_.length&&(u.i=null,u.g.set(fi(u,g),Q(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var A=g[_];const Y=encodeURIComponent(String(A)),ct=this.V(A);for(A=0;A<ct.length;A++){var z=Y;ct[A]!==""&&(z+="="+encodeURIComponent(String(ct[A]))),u.push(z)}}return this.i=u.join("&")};function fi(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function tu(u,g){g&&!u.j&&(Ln(u),u.i=null,u.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(Fi(this,A),pl(this,z,_))},u)),u.j=g}function da(u,g){const _=new On;if(m.Image){const A=new Image;A.onload=k(Un,_,"TestLoadImage: loaded",!0,g,A),A.onerror=k(Un,_,"TestLoadImage: error",!1,g,A),A.onabort=k(Un,_,"TestLoadImage: abort",!1,g,A),A.ontimeout=k(Un,_,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function $n(u,g){const _=new On,A=new AbortController,z=setTimeout(()=>{A.abort(),Un(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?Un(_,"TestPingServer: ok",!0,g):Un(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),Un(_,"TestPingServer: error",!1,g)})}function Un(u,g,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function ma(){this.g=new Ui}function hi(u,g,_){const A=_||"";try{dl(u,function(z,Y){let ct=z;y(z)&&(ct=En(z)),g.push(A+Y+"="+encodeURIComponent(ct))})}catch(z){throw g.push(A+"type="+encodeURIComponent("_badmap")),z}}function wr(u){this.l=u.Ub||null,this.j=u.eb||!1}U(wr,vr),wr.prototype.g=function(){return new Qi(this.l,this.j)},wr.prototype.i=function(u){return function(){return u}}({});function Qi(u,g){mt.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Qi,mt),r=Qi.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,mi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function yl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?di(this):mi(this),this.readyState==3&&yl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,di(this))},r.Qa=function(u){this.g&&(this.response=u,di(this))},r.ga=function(){this.g&&di(this)};function di(u){u.readyState=4,u.l=null,u.j=null,u.v=null,mi(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function mi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function _l(u){let g="";return Ot(u,function(_,A){g+=A,g+=":",g+=_,g+=`\r
`}),g}function je(u,g,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=_l(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):ae(u,g,_))}function Wt(u){mt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Wt,mt);var Wa=/^https?$/i,ga=["POST","PUT"];r=Wt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?al(this.o):al(oi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(Y){eu(this,Y);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ga,g,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ct]of _)this.g.setRequestHeader(Y,ct);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(u),this.u=!1}catch(Y){eu(this,Y)}};function eu(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,ts(u),gi(u)}function ts(u){u.A||(u.A=!0,At(u,"complete"),At(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,At(this,"complete"),At(this,"abort"),gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Wt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?es(this):this.bb())},r.bb=function(){es(this)};function es(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Pn(u)!=4||u.Z()!=2)){if(u.u&&Pn(u)==4)ne(u.Ea,0,u);else if(At(u,"readystatechange"),Pn(u)==4){u.h=!1;try{const ct=u.Z();t:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var _;if(!(_=g)){var A;if(A=ct===0){var z=String(u.D).match(ua)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!Wa.test(z?z.toLowerCase():"")}_=A}if(_)At(u,"complete"),At(u,"success");else{u.m=6;try{var Y=2<Pn(u)?u.g.statusText:""}catch{Y=""}u.l=Y+" ["+u.Z()+"]",ts(u)}}finally{gi(u)}}}}function gi(u,g){if(u.g){pa(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||At(u,"ready");try{_.onreadystatechange=A}catch{}}}function pa(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Pn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Li(g)}};function nu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(u){const g={};u=(u.g&&2<=Pn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(X(u[A]))continue;var _=L(u[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=g[z]||[];g[z]=Y,Y.push(_)}O(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function ns(u){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,u),this.cb=ya("retryDelaySeedMs",1e4,u),this.Wa=ya("forwardChannelMaxRetries",2,u),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ji(u&&u.concurrentRequestLimit),this.Da=new ma,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ns.prototype,r.la=8,r.G=1,r.connect=function(u,g,_,A){de(0),this.W=u,this.H=g||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=uu(this,null,this.W),rs(this)};function vl(u){if(iu(u),u.G==3){var g=u.U++,_=Tn(u.I);if(ae(_,"SID",u.K),ae(_,"RID",g),ae(_,"TYPE","terminate"),_a(u,_),g=new on(u,u.j,g),g.L=2,g.v=fa(Tn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=cu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),la(g)}ou(u)}function is(u){u.g&&(va(u),u.g.cancel(),u.g=null)}function iu(u){is(u),u.u&&(m.clearTimeout(u.u),u.u=null),as(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function rs(u){if(!Ka(u.h)&&!u.s){u.s=!0;var g=u.Ga;ot||x(),Et||(ot(),Et=!0),jt.add(g,u),u.B=0}}function Ef(u,g){return Xa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=we(S(u.Ga,u,g),Al(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const z=new on(this,this.j,u);let Y=this.o;if(this.S&&(Y?(Y=R(Y),I(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)t:{for(var g=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=_;break t}if(g===4096||_===this.i.length-1){g=_+1;break t}}g=1e3}else g=1e3;g=ru(this,z,g),_=Tn(this.I),ae(_,"RID",u),ae(_,"CVER",22),this.D&&ae(_,"X-HTTP-Session-Id",this.D),_a(this,_),Y&&(this.O?g="headers="+encodeURIComponent(String(_l(Y)))+"&"+g:this.m&&je(_,this.m,Y)),$a(this.h,z),this.Ua&&ae(_,"TYPE","init"),this.P?(ae(_,"$req",g),ae(_,"SID","null"),z.T=!0,Xn(z,_,null)):Xn(z,_,g),this.G=2}}else this.G==3&&(u?El(this,u):this.i.length==0||Ka(this.h)||El(this))};function El(u,g){var _;g?_=g.l:_=u.U++;const A=Tn(u.I);ae(A,"SID",u.K),ae(A,"RID",_),ae(A,"AID",u.T),_a(u,A),u.m&&u.o&&je(A,u.m,u.o),_=new on(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=ru(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$a(u.h,_),Xn(_,A,g)}function _a(u,g){u.H&&Ot(u.H,function(_,A){ae(g,A,_)}),u.l&&dl({},function(_,A){ae(g,A,_)})}function ru(u,g,_){_=Math.min(u.i.length,_);var A=u.l?S(u.l.Na,u.l,u):null;t:{var z=u.i;let Y=-1;for(;;){const ct=["count="+_];Y==-1?0<_?(Y=z[0].g,ct.push("ofs="+Y)):Y=0:ct.push("ofs="+Y);let Qt=!0;for(let Me=0;Me<_;Me++){let Yt=z[Me].g;const qe=z[Me].map;if(Yt-=Y,0>Yt)Y=Math.max(0,z[Me].g-100),Qt=!1;else try{hi(qe,ct,"req"+Yt+"_")}catch{A&&A(qe)}}if(Qt){A=ct.join("&");break t}}}return u=u.i.splice(0,_),g.D=u,A}function au(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;ot||x(),Et||(ot(),Et=!0),jt.add(g,u),u.v=0}}function Tl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=we(S(u.Fa,u),Al(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,su(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=we(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,de(10),is(this),su(this))};function va(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function su(u){u.g=new on(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Tn(u.qa);ae(g,"RID","rpc"),ae(g,"SID",u.K),ae(g,"AID",u.T),ae(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&ae(g,"TO",u.ja),ae(g,"TYPE","xmlhttp"),_a(u,g),u.m&&u.o&&je(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=fa(Tn(g)),_.m=null,_.P=!0,Bi(_,u)}r.Za=function(){this.C!=null&&(this.C=null,is(this),Tl(this),de(19))};function as(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function lu(u,g){var _=null;if(u.g==g){as(u),va(u),u.g=null;var A=2}else if(fl(u.h,g))_=g.D,un(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var z=u.B;A=Er(),At(A,new Oe(A,_)),rs(u)}else au(u);else if(z=g.s,z==3||z==0&&0<g.X||!(A==1&&Ef(u,g)||A==2&&Tl(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),z){case 1:Yi(u,5);break;case 4:Yi(u,10);break;case 3:Yi(u,6);break;default:Yi(u,2)}}}function Al(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function Yi(u,g){if(u.j.info("Error code "+g),g==2){var _=S(u.fb,u),A=u.Xa;const z=!A;A=new Ce(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ca(A,"https"),fa(A),z?da(A.toString(),_):$n(A.toString(),_)}else de(2);u.G=0,u.l&&u.l.sa(g),ou(u),iu(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),de(2)):(this.j.info("Failed to ping google.com"),de(1))};function ou(u){if(u.G=0,u.ka=[],u.l){const g=hl(u.h);(g.length!=0||u.i.length!=0)&&(q(u.ka,g),q(u.ka,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.ra()}}function uu(u,g,_){var A=_ instanceof Ce?Tn(_):new Ce(_);if(A.g!="")g&&(A.g=g+"."+A.g),Rr(A,A.s);else{var z=m.location;A=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var Y=new Ce(null);A&&ca(Y,A),g&&(Y.g=g),z&&Rr(Y,z),_&&(Y.l=_),A=Y}return _=u.D,g=u.ya,_&&g&&ae(A,_,g),ae(A,"VER",u.la),_a(u,A),A}function cu(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Wt(new wr({eb:_})):new Wt(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ss(){}ss.prototype.g=function(u,g){return new cn(u,g)};function cn(u,g){mt.call(this),this.g=new ns(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!X(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!X(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new pi(this)}U(cn,mt),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){vl(this.g)},cn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=En(u),u=_);g.i.push(new Jo(g.Ya++,u)),g.G==3&&rs(g)},cn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,cn.aa.N.call(this)};function hu(u){ki.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const _ in g){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}U(hu,ki);function du(){ll.call(this),this.status=1}U(du,ll);function pi(u){this.g=u}U(pi,fu),pi.prototype.ua=function(){At(this.g,"a")},pi.prototype.ta=function(u){At(this.g,new hu(u))},pi.prototype.sa=function(u){At(this.g,new du)},pi.prototype.ra=function(){At(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,EE=function(){return new ss},vE=function(){return Er()},_E=li,Ud={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,Ac=Sr,zi.COMPLETE="complete",yE=zi,sl.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",mt.prototype.listen=mt.prototype.K,po=sl,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,pE=Wt}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const I_="@firebase/firestore",N_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new uE("@firebase/firestore");function Us(){return ka.logLevel}function pt(r,...t){if(ka.logLevel<=$t.DEBUG){const i=t.map(um);ka.debug(`Firestore (${tl}): ${r}`,...i)}}function gr(r,...t){if(ka.logLevel<=$t.ERROR){const i=t.map(um);ka.error(`Firestore (${tl}): ${r}`,...i)}}function Hs(r,...t){if(ka.logLevel<=$t.WARN){const i=t.map(um);ka.warn(`Firestore (${tl}): ${r}`,...i)}}function um(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,TE(r,s,i)}function TE(r,t,i){let s=`FIRESTORE (${tl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw gr(s),new Error(s)}function te(r,t,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||TE(t,o,s)}function Nt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _t extends Ws{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class eR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(sn.UNAUTHENTICATED))}shutdown(){}}class nR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class iR{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){te(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new fr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new fr)}},0),h()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(te(typeof s.accessToken=="string",31837,{l:s}),new AE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return te(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class rR{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aR{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new rR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable(()=>i(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class O_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bb(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){te(this.o===void 0,3512);const s=c=>{c.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.m;return this.m=c.token,pt("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const o=c=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new O_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(te(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new O_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=lR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=t.charAt(o[c]%62))}return s}}function zt(r,t){return r<t?-1:r>t?1:0}function Pd(r,t){let i=0;for(;i<r.length&&i<t.length;){const s=r.codePointAt(i),o=t.codePointAt(i);if(s!==o){if(s<128&&o<128)return zt(s,o);{const c=SE(),h=oR(c.encode(M_(r,i)),c.encode(M_(t,i)));return h!==0?h:zt(s,o)}}i+=s>65535?2:1}return zt(r.length,t.length)}function M_(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function oR(r,t){for(let i=0;i<r.length&&i<t.length;++i)if(r[i]!==t[i])return zt(r[i],t[i]);return zt(r.length,t.length)}function Fs(r,t,i){return r.length===t.length&&r.every((s,o)=>i(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_=-62135596800,U_=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*U_);return new ze(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new _t(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new _t(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<L_)throw new _t(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new _t(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U_}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-L_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{static fromTimestamp(t){return new It(t)}static min(){return new It(new ze(0,0))}static max(){return new It(new ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="__name__";class Si{constructor(t,i,s){i===void 0?i=0:i>t.length&&Dt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&Dt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let o=0;o<s;o++){const c=Si.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return zt(t.length,i.length)}static compareSegments(t,i){const s=Si.isNumericId(t),o=Si.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(t).compare(Si.extractNumericId(i)):Pd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Jr.fromString(t.substring(4,t.length-2))}}class he extends Si{construct(t,i,s){return new he(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new _t(rt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new he(i)}static emptyPath(){return new he([])}}const uR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Si{construct(t,i,s){return new We(t,i,s)}static isValidIdentifier(t){return uR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===P_}static keyField(){return new We([P_])}static fromServerFormat(t){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new _t(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new _t(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _t(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(c(),o++)}if(c(),h)throw new _t(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(t){this.path=t}static fromPath(t){return new Rt(he.fromString(t))}static fromName(t){return new Rt(he.fromString(t).popFirst(5))}static empty(){return new Rt(he.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&he.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return he.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Rt(new he(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=-1;function cR(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=It.fromTimestamp(s===1e9?new ze(i+1,0):new ze(i,s));return new ta(o,Rt.empty(),t)}function fR(r){return new ta(r.readTime,r.key,xo)}class ta{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new ta(It.min(),Rt.empty(),xo)}static max(){return new ta(It.max(),Rt.empty(),xo)}}function hR(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=Rt.comparator(r.documentKey,t.documentKey),i!==0?i:zt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function el(r){if(r.code!==rt.FAILED_PRECONDITION||r.message!==dR)throw r;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new it((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof it?i:it.resolve(i)}catch(i){return it.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):it.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):it.reject(i)}static resolve(t){return new it((i,s)=>{i(t)})}static reject(t){return new it((i,s)=>{s(t)})}static waitFor(t){return new it((i,s)=>{let o=0,c=0,h=!1;t.forEach(m=>{++o,m.next(()=>{++c,h&&c===o&&i()},p=>s(p))}),h=!0,c===o&&i()})}static or(t){let i=it.resolve(!1);for(const s of t)i=i.next(o=>o?it.resolve(o):s());return i}static forEach(t,i){const s=[];return t.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(t,i){return new it((s,o)=>{const c=t.length,h=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(t[y]).next(E=>{h[y]=E,++m,m===c&&s(h)},E=>o(E))}})}static doWhile(t,i){return new it((s,o)=>{const c=()=>{t()===!0?i().next(()=>{c()},o):s()};c()})}}function gR(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function nl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>i.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Zc.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=-1;function Jc(r){return r==null}function Mc(r){return r===0&&1/r==-1/0}function pR(r){return typeof r=="number"&&Number.isInteger(r)&&!Mc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="";function yR(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=k_(t)),t=_R(r.get(i),t);return k_(t)}function _R(r,t){let i=t;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case RE:i+="";break;default:i+=c}}return i}function k_(r){return r+RE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ja(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function wE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new ye(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pc(this.root,t,this.comparator,!0)}}class pc{constructor(t,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,s,o,c){this.key=t,this.value=i,this.color=s??Je.RED,this.left=o??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,o,c){return new Je(t??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let o=this;const c=s(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Dt(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt(57766)}get value(){throw Dt(16141)}get color(){throw Dt(16727)}get left(){throw Dt(29726)}get right(){throw Dt(36894)}copy(t,i,s,o,c){return this}insert(t,i,s){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new B_(this.data.getIterator())}getIteratorFrom(t){return new B_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Be(this.comparator);return i.data=t,i}}class B_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new ii([])}unionWith(t){let i=new Be(We.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new ii(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Fs(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new CE("Invalid base64 string: "+c):c}}(t);return new tn(i)}static fromUint8Array(t){const i=function(o){let c="";for(let h=0;h<o.length;++h)c+=String.fromCharCode(o[h]);return c}(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const vR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(r){if(te(!!r,39018),typeof r=="string"){let t=0;const i=vR.exec(r);if(te(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function na(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="server_timestamp",VE="__type__",xE="__previous_value__",IE="__local_write_time__";function fm(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[VE])===null||i===void 0?void 0:i.stringValue)===DE}function Wc(r){const t=r.mapValue.fields[xE];return fm(t)?Wc(t):t}function Io(r){const t=ea(r.mapValue.fields[IE].timestampValue);return new ze(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(t,i,s,o,c,h,m,p,y,E){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=E}}const Lc="(default)";class No{constructor(t,i){this.projectId=t,this.database=i||Lc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="__type__",TR="__max__",yc={mapValue:{}},OE="__vector__",Uc="value";function ia(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?fm(r)?4:SR(r)?9007199254740991:AR(r)?10:11:Dt(28295,{value:r})}function Vi(r,t){if(r===t)return!0;const i=ia(r);if(i!==ia(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Io(r).isEqual(Io(t));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const h=ea(o.timestampValue),m=ea(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,c){return na(o.bytesValue).isEqual(na(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,c){return be(o.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(o.geoPointValue.longitude)===be(c.geoPointValue.longitude)}(r,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return be(o.integerValue)===be(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const h=be(o.doubleValue),m=be(c.doubleValue);return h===m?Mc(h)===Mc(m):isNaN(h)&&isNaN(m)}return!1}(r,t);case 9:return Fs(r.arrayValue.values||[],t.arrayValue.values||[],Vi);case 10:case 11:return function(o,c){const h=o.mapValue.fields||{},m=c.mapValue.fields||{};if(z_(h)!==z_(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Vi(h[p],m[p])))return!1;return!0}(r,t);default:return Dt(52216,{left:r})}}function Oo(r,t){return(r.values||[]).find(i=>Vi(i,t))!==void 0}function Gs(r,t){if(r===t)return 0;const i=ia(r),s=ia(t);if(i!==s)return zt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return zt(r.booleanValue,t.booleanValue);case 2:return function(c,h){const m=be(c.integerValue||c.doubleValue),p=be(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,t);case 3:return j_(r.timestampValue,t.timestampValue);case 4:return j_(Io(r),Io(t));case 5:return Pd(r.stringValue,t.stringValue);case 6:return function(c,h){const m=na(c),p=na(h);return m.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,h){const m=c.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=zt(m[y],p[y]);if(E!==0)return E}return zt(m.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,h){const m=zt(be(c.latitude),be(h.latitude));return m!==0?m:zt(be(c.longitude),be(h.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return q_(r.arrayValue,t.arrayValue);case 10:return function(c,h){var m,p,y,E;const b=c.fields||{},S=h.fields||{},k=(m=b[Uc])===null||m===void 0?void 0:m.arrayValue,U=(p=S[Uc])===null||p===void 0?void 0:p.arrayValue,Q=zt(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((E=U==null?void 0:U.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:q_(k,U)}(r.mapValue,t.mapValue);case 11:return function(c,h){if(c===yc.mapValue&&h===yc.mapValue)return 0;if(c===yc.mapValue)return 1;if(h===yc.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=h.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const S=Pd(p[b],E[b]);if(S!==0)return S;const k=Gs(m[p[b]],y[E[b]]);if(k!==0)return k}return zt(p.length,E.length)}(r.mapValue,t.mapValue);default:throw Dt(23264,{Pe:i})}}function j_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return zt(r,t);const i=ea(r),s=ea(t),o=zt(i.seconds,s.seconds);return o!==0?o:zt(i.nanos,s.nanos)}function q_(r,t){const i=r.values||[],s=t.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Gs(i[o],s[o]);if(c)return c}return zt(i.length,s.length)}function Qs(r){return kd(r)}function kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=ea(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return na(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return Rt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=kd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of s)c?c=!1:o+=",",o+=`${h}:${kd(i.fields[h])}`;return o+"}"}(r.mapValue):Dt(61005,{value:r})}function Sc(r){switch(ia(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Wc(r);return t?16+Sc(t):16;case 5:return 2*r.stringValue.length;case 6:return na(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Sc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ja(s.fields,(c,h)=>{o+=c.length+Sc(h)}),o}(r.mapValue);default:throw Dt(13486,{value:r})}}function H_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function zd(r){return!!r&&"integerValue"in r}function hm(r){return!!r&&"arrayValue"in r}function F_(r){return!!r&&"nullValue"in r}function G_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bc(r){return!!r&&"mapValue"in r}function AR(r){var t,i;return((i=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[NE])===null||i===void 0?void 0:i.stringValue)===OE}function To(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return ja(r.mapValue.fields,(i,s)=>t.mapValue.fields[i]=To(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=To(r.arrayValue.values[i]);return t}return Object.assign({},r)}function SR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===TR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(t){this.value=t}static empty(){return new Gn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=To(i)}setAll(t){let i=We.emptyPath(),s={},o=[];t.forEach((h,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}h?s[m.lastSegment()]=To(h):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(t){const i=this.field(t.popLast());bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Vi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=i.mapValue.fields[t.get(s)];bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,s){ja(i,(o,c)=>t[o]=c);for(const o of s)delete t[o]}clone(){return new Gn(To(this.value))}}function ME(r){const t=[];return ja(r.fields,(i,s)=>{const o=new We([i]);if(bc(s)){const c=ME(s.mapValue).fields;if(c.length===0)t.push(o);else for(const h of c)t.push(o.child(h))}else t.push(o)}),new ii(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t,i,s,o,c,h,m){this.key=t,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(t){return new ln(t,0,It.min(),It.min(),It.min(),Gn.empty(),0)}static newFoundDocument(t,i,s,o){return new ln(t,1,i,It.min(),s,o,0)}static newNoDocument(t,i){return new ln(t,2,i,It.min(),It.min(),Gn.empty(),0)}static newUnknownDocument(t,i){return new ln(t,3,i,It.min(),It.min(),Gn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(It.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i){this.position=t,this.inclusive=i}}function Q_(r,t,i){let s=0;for(let o=0;o<r.position.length;o++){const c=t[o],h=r.position[o];if(c.field.isKeyField()?s=Rt.comparator(Rt.fromName(h.referenceValue),i.key):s=Gs(h,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Y_(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Vi(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function bR(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{}class Ne extends LE{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new wR(t,i,s):i==="array-contains"?new VR(t,s):i==="in"?new xR(t,s):i==="not-in"?new IR(t,s):i==="array-contains-any"?new NR(t,s):new Ne(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new CR(t,s):new DR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Gs(i,this.value)):i!==null&&ia(this.value)===ia(i)&&this.matchesComparison(Gs(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends LE{constructor(t,i){super(),this.filters=t,this.op=i,this.Te=null}static create(t,i){return new ri(t,i)}matches(t){return UE(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function UE(r){return r.op==="and"}function PE(r){return RR(r)&&UE(r)}function RR(r){for(const t of r.filters)if(t instanceof ri)return!1;return!0}function Bd(r){if(r instanceof Ne)return r.field.canonicalString()+r.op.toString()+Qs(r.value);if(PE(r))return r.filters.map(t=>Bd(t)).join(",");{const t=r.filters.map(i=>Bd(i)).join(",");return`${r.op}(${t})`}}function kE(r,t){return r instanceof Ne?function(s,o){return o instanceof Ne&&s.op===o.op&&s.field.isEqual(o.field)&&Vi(s.value,o.value)}(r,t):r instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,h,m)=>c&&kE(h,o.filters[m]),!0):!1}(r,t):void Dt(19439)}function zE(r){return r instanceof Ne?function(i){return`${i.field.canonicalString()} ${i.op} ${Qs(i.value)}`}(r):r instanceof ri?function(i){return i.op.toString()+" {"+i.getFilters().map(zE).join(" ,")+"}"}(r):"Filter"}class wR extends Ne{constructor(t,i,s){super(t,i,s),this.key=Rt.fromName(s.referenceValue)}matches(t){const i=Rt.comparator(t.key,this.key);return this.matchesComparison(i)}}class CR extends Ne{constructor(t,i){super(t,"in",i),this.keys=BE("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class DR extends Ne{constructor(t,i){super(t,"not-in",i),this.keys=BE("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function BE(r,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>Rt.fromName(s.referenceValue))}class VR extends Ne{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return hm(i)&&Oo(i.arrayValue,this.value)}}class xR extends Ne{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class IR extends Ne{constructor(t,i){super(t,"not-in",i)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class NR extends Ne{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Oo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(t,i=null,s=[],o=[],c=null,h=null,m=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=h,this.endAt=m,this.Ie=null}}function K_(r,t=null,i=[],s=[],o=null,c=null,h=null){return new OR(r,t,i,s,o,c,h)}function dm(r){const t=Nt(r);if(t.Ie===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>Bd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Jc(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Qs(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Qs(s)).join(",")),t.Ie=i}return t.Ie}function mm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!bR(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!kE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Y_(r.startAt,t.startAt)&&Y_(r.endAt,t.endAt)}function jd(r){return Rt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t,i=null,s=[],o=[],c=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=p,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function MR(r,t,i,s,o,c,h,m){return new Bo(r,t,i,s,o,c,h,m)}function gm(r){return new Bo(r)}function X_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function jE(r){return r.collectionGroup!==null}function Ao(r){const t=Nt(r);if(t.Ee===null){t.Ee=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ee.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Be(We.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ee.push(new kc(c,s))}),i.has(We.keyField().canonicalString())||t.Ee.push(new kc(We.keyField(),s))}return t.Ee}function wi(r){const t=Nt(r);return t.de||(t.de=LR(t,Ao(r))),t.de}function LR(r,t){if(r.limitType==="F")return K_(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new kc(o.field,c)});const i=r.endAt?new Pc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Pc(r.startAt.position,r.startAt.inclusive):null;return K_(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function qd(r,t){const i=r.filters.concat([t]);return new Bo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Hd(r,t,i){return new Bo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function tf(r,t){return mm(wi(r),wi(t))&&r.limitType===t.limitType}function qE(r){return`${dm(wi(r))}|lt:${r.limitType}`}function Ps(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>zE(o)).join(", ")}]`),Jc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Qs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Qs(o)).join(",")),`Target(${s})`}(wi(r))}; limitType=${r.limitType})`}function ef(r,t){return t.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):Rt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,o){for(const c of Ao(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(h,m,p){const y=Q_(h,m,p);return h.inclusive?y<=0:y<0}(s.startAt,Ao(s),o)||s.endAt&&!function(h,m,p){const y=Q_(h,m,p);return h.inclusive?y>=0:y>0}(s.endAt,Ao(s),o))}(r,t)}function UR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function HE(r){return(t,i)=>{let s=!1;for(const o of Ao(r)){const c=PR(o,t,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function PR(r,t,i){const s=r.field.isKeyField()?Rt.comparator(t.key,i.key):function(c,h,m){const p=h.data.field(c),y=m.data.field(c);return p!==null&&y!==null?Gs(p,y):Dt(42886)}(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Dt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ja(this.inner,(i,s)=>{for(const[o,c]of s)t(o,c)})}isEmpty(){return wE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new ye(Rt.comparator);function pr(){return kR}const FE=new ye(Rt.comparator);function yo(...r){let t=FE;for(const i of r)t=t.insert(i.key,i);return t}function GE(r){let t=FE;return r.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Ua(){return So()}function QE(){return So()}function So(){return new qa(r=>r.toString(),(r,t)=>r.isEqual(t))}const zR=new ye(Rt.comparator),BR=new Be(Rt.comparator);function Gt(...r){let t=BR;for(const i of r)t=t.add(i);return t}const jR=new Be(zt);function qR(){return jR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mc(t)?"-0":t}}function YE(r){return{integerValue:""+r}}function HR(r,t){return pR(t)?YE(t):pm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function FR(r,t,i){return r instanceof zc?function(o,c){const h={fields:{[VE]:{stringValue:DE},[IE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&fm(c)&&(c=Wc(c)),c&&(h.fields[xE]=c),{mapValue:h}}(i,t):r instanceof Mo?XE(r,t):r instanceof Lo?$E(r,t):function(o,c){const h=KE(o,c),m=$_(h)+$_(o.Re);return zd(h)&&zd(o.Re)?YE(m):pm(o.serializer,m)}(r,t)}function GR(r,t,i){return r instanceof Mo?XE(r,t):r instanceof Lo?$E(r,t):i}function KE(r,t){return r instanceof Bc?function(s){return zd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class zc extends nf{}class Mo extends nf{constructor(t){super(),this.elements=t}}function XE(r,t){const i=ZE(t);for(const s of r.elements)i.some(o=>Vi(o,s))||i.push(s);return{arrayValue:{values:i}}}class Lo extends nf{constructor(t){super(),this.elements=t}}function $E(r,t){let i=ZE(t);for(const s of r.elements)i=i.filter(o=>!Vi(o,s));return{arrayValue:{values:i}}}class Bc extends nf{constructor(t,i){super(),this.serializer=t,this.Re=i}}function $_(r){return be(r.integerValue||r.doubleValue)}function ZE(r){return hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function QR(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof Mo&&o instanceof Mo||s instanceof Lo&&o instanceof Lo?Fs(s.elements,o.elements,Vi):s instanceof Bc&&o instanceof Bc?Vi(s.Re,o.Re):s instanceof zc&&o instanceof zc}(r.transform,t.transform)}class YR{constructor(t,i){this.version=t,this.transformResults=i}}class hr{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new hr}static exists(t){return new hr(void 0,t)}static updateTime(t){return new hr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class rf{}function JE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new t0(r.key,hr.none()):new jo(r.key,r.data,hr.none());{const i=r.data,s=Gn.empty();let o=new Be(We.comparator);for(let c of t.fields)if(!o.has(c)){let h=i.field(c);h===null&&c.length>1&&(c=c.popLast(),h=i.field(c)),h===null?s.delete(c):s.set(c,h),o=o.add(c)}return new Ha(r.key,s,new ii(o.toArray()),hr.none())}}function KR(r,t,i){r instanceof jo?function(o,c,h){const m=o.value.clone(),p=J_(o.fieldTransforms,c,h.transformResults);m.setAll(p),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,t,i):r instanceof Ha?function(o,c,h){if(!Rc(o.precondition,c))return void c.convertToUnknownDocument(h.version);const m=J_(o.fieldTransforms,c,h.transformResults),p=c.data;p.setAll(WE(o)),p.setAll(m),c.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,t,i):function(o,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,t,i)}function bo(r,t,i,s){return r instanceof jo?function(c,h,m,p){if(!Rc(c.precondition,h))return m;const y=c.value.clone(),E=W_(c.fieldTransforms,p,h);return y.setAll(E),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(r,t,i,s):r instanceof Ha?function(c,h,m,p){if(!Rc(c.precondition,h))return m;const y=W_(c.fieldTransforms,p,h),E=h.data;return E.setAll(WE(c)),E.setAll(y),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(b=>b.field))}(r,t,i,s):function(c,h,m){return Rc(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,t,i)}function XR(r,t){let i=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),c=KE(s.transform,o||null);c!=null&&(i===null&&(i=Gn.empty()),i.set(s.field,c))}return i||null}function Z_(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Fs(s,o,(c,h)=>QR(c,h))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class jo extends rf{constructor(t,i,s,o=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ha extends rf{constructor(t,i,s,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function WE(r){const t=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}}),t}function J_(r,t,i){const s=new Map;te(r.length===i.length,32656,{Ve:i.length,me:r.length});for(let o=0;o<i.length;o++){const c=r[o],h=c.transform,m=t.data.field(c.field);s.set(c.field,GR(h,m,i[o]))}return s}function W_(r,t,i){const s=new Map;for(const o of r){const c=o.transform,h=i.data.field(o.field);s.set(o.field,FR(c,h,t))}return s}class t0 extends rf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $R extends rf{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t,i,s,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&KR(c,t,s[o])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=bo(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=bo(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=QE();return this.mutations.forEach(o=>{const c=t.get(o.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=i.has(o.key)?null:m;const p=JE(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(It.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),Gt())}isEqual(t){return this.batchId===t.batchId&&Fs(this.mutations,t.mutations,(i,s)=>Z_(i,s))&&Fs(this.baseMutations,t.baseMutations,(i,s)=>Z_(i,s))}}class ym{constructor(t,i,s,o){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(t,i,s){te(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let o=function(){return zR}();const c=t.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,s[h].version);return new ym(t,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,Xt;function tw(r){switch(r){case rt.OK:return Dt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Dt(15467,{code:r})}}function e0(r){if(r===void 0)return gr("GRPC error has no .code"),rt.UNKNOWN;switch(r){case xe.OK:return rt.OK;case xe.CANCELLED:return rt.CANCELLED;case xe.UNKNOWN:return rt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return rt.INTERNAL;case xe.UNAVAILABLE:return rt.UNAVAILABLE;case xe.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case xe.NOT_FOUND:return rt.NOT_FOUND;case xe.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case xe.ABORTED:return rt.ABORTED;case xe.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case xe.DATA_LOSS:return rt.DATA_LOSS;default:return Dt(39323,{code:r})}}(Xt=xe||(xe={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new Jr([4294967295,4294967295],0);function tv(r){const t=SE().encode(r),i=new gE;return i.update(t),new Uint8Array(i.digest())}function ev(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Jr([i,s],0),new Jr([o,c],0)]}class _m{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new _o(`Invalid padding: ${i}`);if(s<0)throw new _o(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new _o(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new _o(`Invalid padding when bitmap length is 0: ${i}`);this.pe=8*t.length-i,this.ye=Jr.fromNumber(this.pe)}we(t,i,s){let o=t.add(i.multiply(Jr.fromNumber(s)));return o.compare(ew)===1&&(o=new Jr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const i=tv(t),[s,o]=ev(i);for(let c=0;c<this.hashCount;c++){const h=this.we(s,o,c);if(!this.be(h))return!1}return!0}static create(t,i,s){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),h=new _m(c,o,i);return s.forEach(m=>h.insert(m)),h}insert(t){if(this.pe===0)return;const i=tv(t),[s,o]=ev(i);for(let c=0;c<this.hashCount;c++){const h=this.we(s,o,c);this.Se(h)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class _o extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(t,i,s,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const o=new Map;return o.set(t,qo.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new af(It.min(),o,new ye(zt),pr(),Gt())}}class qo{constructor(t,i,s,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new qo(s,i,Gt(),Gt(),Gt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(t,i,s,o){this.De=t,this.removedTargetIds=i,this.key=s,this.ve=o}}class n0{constructor(t,i){this.targetId=t,this.Ce=i}}class i0{constructor(t,i,s=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=o}}class nv{constructor(){this.Fe=0,this.Me=iv(),this.xe=tn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Gt(),i=Gt(),s=Gt();return this.Me.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:Dt(38017,{changeType:c})}}),new qo(this.xe,this.Oe,t,i,s)}Qe(){this.Ne=!1,this.Me=iv()}$e(t,i){this.Ne=!0,this.Me=this.Me.insert(t,i)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,te(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class nw{constructor(t){this.ze=t,this.je=new Map,this.He=pr(),this.Je=_c(),this.Ye=_c(),this.Ze=new ye(zt)}Xe(t){for(const i of t.De)t.ve&&t.ve.isFoundDocument()?this.et(i,t.ve):this.tt(i,t.key,t.ve);for(const i of t.removedTargetIds)this.tt(i,t.key,t.ve)}nt(t){this.forEachTarget(t,i=>{const s=this.rt(i);switch(t.state){case 0:this.it(i)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(i);break;case 3:this.it(i)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(i)&&(this.st(i),s.ke(t.resumeToken));break;default:Dt(56790,{state:t.state})}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.je.forEach((s,o)=>{this.it(o)&&i(o)})}ot(t){const i=t.targetId,s=t.Ce.count,o=this._t(i);if(o){const c=o.target;if(jd(c))if(s===0){const h=new Rt(c.path);this.tt(i,h,ln.newNoDocument(h,It.min()))}else te(s===1,20013,{expectedCount:s});else{const h=this.ut(i);if(h!==s){const m=this.ct(t),p=m?this.lt(m,t,h):1;if(p!==0){this.st(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,y)}}}}}ct(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let h,m;try{h=na(s).toUint8Array()}catch(p){if(p instanceof CE)return Hs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _m(h,o,c)}catch(p){return Hs(p instanceof _o?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.pe===0?null:m}lt(t,i,s){return i.Ce.count===s-this.Tt(t,i.targetId)?0:2}Tt(t,i){const s=this.ze.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const h=this.ze.Pt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;t.mightContain(m)||(this.tt(i,c,null),o++)}),o}It(t){const i=new Map;this.je.forEach((c,h)=>{const m=this._t(h);if(m){if(c.current&&jd(m.target)){const p=new Rt(m.target.path);this.Et(p).has(h)||this.dt(h,p)||this.tt(h,p,ln.newNoDocument(p,t))}c.Le&&(i.set(h,c.qe()),c.Qe())}});let s=Gt();this.Ye.forEach((c,h)=>{let m=!0;h.forEachWhile(p=>{const y=this._t(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.He.forEach((c,h)=>h.setReadTime(t));const o=new af(t,i,this.Ze,this.He,s);return this.He=pr(),this.Je=_c(),this.Ye=_c(),this.Ze=new ye(zt),o}et(t,i){if(!this.it(t))return;const s=this.dt(t,i.key)?2:0;this.rt(t).$e(i.key,s),this.He=this.He.insert(i.key,i),this.Je=this.Je.insert(i.key,this.Et(i.key).add(t)),this.Ye=this.Ye.insert(i.key,this.At(i.key).add(t))}tt(t,i,s){if(!this.it(t))return;const o=this.rt(t);this.dt(t,i)?o.$e(i,1):o.Ue(i),this.Ye=this.Ye.insert(i,this.At(i).delete(t)),this.Ye=this.Ye.insert(i,this.At(i).add(t)),s&&(this.He=this.He.insert(i,s))}removeTarget(t){this.je.delete(t)}ut(t){const i=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let i=this.je.get(t);return i||(i=new nv,this.je.set(t,i)),i}At(t){let i=this.Ye.get(t);return i||(i=new Be(zt),this.Ye=this.Ye.insert(t,i)),i}Et(t){let i=this.Je.get(t);return i||(i=new Be(zt),this.Je=this.Je.insert(t,i)),i}it(t){const i=this._t(t)!==null;return i||pt("WatchChangeAggregator","Detected inactive target",t),i}_t(t){const i=this.je.get(t);return i&&i.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new nv),this.ze.getRemoteKeysForTarget(t).forEach(i=>{this.tt(t,i,null)})}dt(t,i){return this.ze.getRemoteKeysForTarget(t).has(i)}}function _c(){return new ye(Rt.comparator)}function iv(){return new ye(Rt.comparator)}const iw={asc:"ASCENDING",desc:"DESCENDING"},rw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aw={and:"AND",or:"OR"};class sw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Fd(r,t){return r.useProto3Json||Jc(t)?t:{value:t}}function jc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function r0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function lw(r,t){return jc(r,t.toTimestamp())}function Ci(r){return te(!!r,49232),It.fromTimestamp(function(i){const s=ea(i);return new ze(s.seconds,s.nanos)}(r))}function vm(r,t){return Gd(r,t).canonicalString()}function Gd(r,t){const i=function(o){return new he(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?i:i.child(t)}function a0(r){const t=he.fromString(r);return te(c0(t),10190,{key:t.toString()}),t}function Qd(r,t){return vm(r.databaseId,t.path)}function Sd(r,t){const i=a0(t);if(i.get(1)!==r.databaseId.projectId)throw new _t(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new _t(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new Rt(l0(i))}function s0(r,t){return vm(r.databaseId,t)}function ow(r){const t=a0(r);return t.length===4?he.emptyPath():l0(t)}function Yd(r){return new he(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function l0(r){return te(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function rv(r,t,i){return{name:Qd(r,t),fields:i.value.mapValue.fields}}function uw(r,t){let i;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Dt(39313,{state:y})}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(te(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(te(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))}(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&function(y){const E=y.code===void 0?rt.UNKNOWN:e0(y.code);return new _t(E,y.message||"")}(h);i=new i0(s,o,c,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sd(r,s.document.name),c=Ci(s.document.updateTime),h=s.document.createTime?Ci(s.document.createTime):It.min(),m=new Gn({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(o,c,h,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new wc(y,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Sd(r,s.document),c=s.readTime?Ci(s.readTime):It.min(),h=ln.newNoDocument(o,c),m=s.removedTargetIds||[];i=new wc([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Sd(r,s.document),c=s.removedTargetIds||[];i=new wc([],c,o,null)}else{if(!("filter"in t))return Dt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,h=new WR(o,c),m=s.targetId;i=new n0(m,h)}}return i}function cw(r,t){let i;if(t instanceof jo)i={update:rv(r,t.key,t.value)};else if(t instanceof t0)i={delete:Qd(r,t.key)};else if(t instanceof Ha)i={update:rv(r,t.key,t.data),updateMask:vw(t.fieldMask)};else{if(!(t instanceof $R))return Dt(16599,{ft:t.type});i={verify:Qd(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(c,h){const m=h.transform;if(m instanceof zc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Mo)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Lo)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Bc)return{fieldPath:h.field.canonicalString(),increment:m.Re};throw Dt(20930,{transform:h.transform})}(0,s))),t.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:lw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Dt(27497)}(r,t.precondition)),i}function fw(r,t){return r&&r.length>0?(te(t!==void 0,14353),r.map(i=>function(o,c){let h=o.updateTime?Ci(o.updateTime):Ci(c);return h.isEqual(It.min())&&(h=Ci(c)),new YR(h,o.transformResults||[])}(i,t))):[]}function hw(r,t){return{documents:[s0(r,t.path)]}}function dw(r,t){const i={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=s0(r,o);const c=function(y){if(y.length!==0)return u0(ri.create(y,"and"))}(t.filters);c&&(i.structuredQuery.where=c);const h=function(y){if(y.length!==0)return y.map(E=>function(S){return{field:ks(S.field),direction:pw(S.dir)}}(E))}(t.orderBy);h&&(i.structuredQuery.orderBy=h);const m=Fd(r,t.limit);return m!==null&&(i.structuredQuery.limit=m),t.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{gt:i,parent:o}}function mw(r){let t=ow(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){te(s===1,65062);const E=i.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let c=[];i.where&&(c=function(b){const S=o0(b);return S instanceof ri&&PE(S)?S.getFilters():[S]}(i.where));let h=[];i.orderBy&&(h=function(b){return b.map(S=>function(U){return new kc(zs(U.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(S))}(i.orderBy));let m=null;i.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Jc(S)?null:S}(i.limit));let p=null;i.startAt&&(p=function(b){const S=!!b.before,k=b.values||[];return new Pc(k,S)}(i.startAt));let y=null;return i.endAt&&(y=function(b){const S=!b.before,k=b.values||[];return new Pc(k,S)}(i.endAt)),MR(t,o,h,c,m,"F",p,y)}function gw(r,t){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt(28987,{purpose:o})}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function o0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=zs(i.unaryFilter.field);return Ne.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=zs(i.unaryFilter.field);return Ne.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=zs(i.unaryFilter.field);return Ne.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=zs(i.unaryFilter.field);return Ne.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Dt(61313);default:return Dt(60726)}}(r):r.fieldFilter!==void 0?function(i){return Ne.create(zs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Dt(58110);default:return Dt(50506)}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return ri.create(i.compositeFilter.filters.map(s=>o0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Dt(1026)}}(i.compositeFilter.op))}(r):Dt(30097,{filter:r})}function pw(r){return iw[r]}function yw(r){return rw[r]}function _w(r){return aw[r]}function ks(r){return{fieldPath:r.canonicalString()}}function zs(r){return We.fromServerFormat(r.fieldPath)}function u0(r){return r instanceof Ne?function(i){if(i.op==="=="){if(G_(i.value))return{unaryFilter:{field:ks(i.field),op:"IS_NAN"}};if(F_(i.value))return{unaryFilter:{field:ks(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(G_(i.value))return{unaryFilter:{field:ks(i.field),op:"IS_NOT_NAN"}};if(F_(i.value))return{unaryFilter:{field:ks(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(i.field),op:yw(i.op),value:i.value}}}(r):r instanceof ri?function(i){const s=i.getFilters().map(o=>u0(o));return s.length===1?s[0]:{compositeFilter:{op:_w(i.op),filters:s}}}(r):Dt(54877,{filter:r})}function vw(r){const t=[];return r.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function c0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,i,s,o,c=It.min(),h=It.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(t){this.wt=t}}function Tw(r){const t=mw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(){this.Cn=new Sw}addToCollectionParentIndex(t,i){return this.Cn.add(i),it.resolve()}getCollectionParents(t,i){return it.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return it.resolve()}deleteFieldIndex(t,i){return it.resolve()}deleteAllFieldIndexes(t){return it.resolve()}createTargetIndexes(t,i){return it.resolve()}getDocumentsMatchingTarget(t,i){return it.resolve(null)}getIndexType(t,i){return it.resolve(0)}getFieldIndexes(t,i){return it.resolve([])}getNextCollectionGroupToUpdate(t){return it.resolve(null)}getMinOffset(t,i){return it.resolve(ta.min())}getMinOffsetFromCollectionGroup(t,i){return it.resolve(ta.min())}updateCollectionGroup(t,i,s){return it.resolve()}updateIndexEntries(t,i){return it.resolve()}}class Sw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i]||new Be(he.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Be(he.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f0=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(f0,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Ys(0)}static lr(){return new Ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="LruGarbageCollector",bw=1048576;function lv([r,t],[i,s]){const o=zt(r,i);return o===0?zt(t,s):o}class Rw{constructor(t){this.Er=t,this.buffer=new Be(lv),this.dr=0}Ar(){return++this.dr}Rr(t){const i=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();lv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class ww{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){pt(sv,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){nl(i)?pt(sv,"Ignoring IndexedDB error during garbage collection: ",i):await el(i)}await this.mr(3e5)})}}class Cw{constructor(t,i){this.gr=t,this.params=i}calculateTargetCount(t,i){return this.gr.pr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return it.resolve(Zc.le);const s=new Rw(i);return this.gr.forEachTarget(t,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(t,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.gr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.gr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),it.resolve(av)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),av):this.wr(t,i))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,i){let s,o,c,h,m,p,y;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(t,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,i))).next(b=>(c=b,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),Us()<=$t.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),it.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:b})))}}function Dw(r,t){return new Cw(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.changes=new qa(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?it.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(t,i,s,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,i))).next(o=>(s!==null&&bo(s.mutation,o,ii.empty(),ze.now()),o))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,Gt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=Gt()){const o=Ua();return this.populateOverlays(t,o,i).next(()=>this.computeViews(t,i,o,s).next(c=>{let h=yo();return c.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(t,i){const s=Ua();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,Gt()))}populateOverlays(t,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((h,m)=>{i.set(h,m)})})}computeViews(t,i,s,o){let c=pr();const h=So(),m=function(){return So()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ha)?c=c.insert(y.key,y):E!==void 0?(h.set(y.key,E.mutation.getFieldMask()),bo(E.mutation,y,E.mutation.getFieldMask(),ze.now())):h.set(y.key,ii.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,E)=>h.set(y,E)),i.forEach((y,E)=>{var b;return m.set(y,new xw(E,(b=h.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,i){const s=So();let o=new ye((h,m)=>h-m),c=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(h=>{for(const m of h)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||ii.empty();E=m.applyToLocalView(y,E),s.set(p,E);const b=(o.get(m.batchId)||Gt()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,b=QE();E.forEach(S=>{if(!c.has(S)){const k=JE(i.get(S),s.get(S));k!==null&&b.set(S,k),c=c.add(S)}}),h.push(this.documentOverlayCache.saveOverlays(t,y,b))}return it.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,o){return function(h){return Rt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):jE(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,o):this.getDocumentsMatchingCollectionQuery(t,i,s,o)}getNextDocuments(t,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,o).next(c=>{const h=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,o-c.size):it.resolve(Ua());let m=xo,p=c;return h.next(y=>it.forEach(y,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),c.get(E)?it.resolve():this.remoteDocumentCache.getEntry(t,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Gt())).next(E=>({batchId:m,changes:GE(E)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new Rt(i)).next(s=>{let o=yo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,i,s,o){const c=i.collectionGroup;let h=yo();return this.indexManager.getCollectionParents(t,c).next(m=>it.forEach(m,p=>{const y=function(b,S){return new Bo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,o).next(E=>{E.forEach((b,S)=>{h=h.insert(b,S)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,o))).next(h=>{c.forEach((p,y)=>{const E=y.getKey();h.get(E)===null&&(h=h.insert(E,ln.newInvalidDocument(E)))});let m=yo();return h.forEach((p,y)=>{const E=c.get(p);E!==void 0&&bo(E.mutation,y,ii.empty(),ze.now()),ef(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,i){return it.resolve(this.kr.get(i))}saveBundleMetadata(t,i){return this.kr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:Ci(o.createTime)}}(i)),it.resolve()}getNamedQuery(t,i){return it.resolve(this.qr.get(i))}saveNamedQuery(t,i){return this.qr.set(i.name,function(o){return{name:o.name,query:Tw(o.bundledQuery),readTime:Ci(o.readTime)}}(i)),it.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(){this.overlays=new ye(Rt.comparator),this.Qr=new Map}getOverlay(t,i){return it.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ua();return it.forEach(i,o=>this.getOverlay(t,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((o,c)=>{this.St(t,i,c)}),it.resolve()}removeOverlaysForBatchId(t,i,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Qr.delete(s)),it.resolve()}getOverlaysForCollection(t,i,s){const o=Ua(),c=i.length+1,h=new Rt(i.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return it.resolve(o)}getOverlaysForCollectionGroup(t,i,s,o){let c=new ye((y,E)=>y-E);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Ua(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ua(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return it.resolve(m)}St(t,i,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new JR(i,s));let c=this.Qr.get(i);c===void 0&&(c=Gt(),this.Qr.set(i,c)),this.Qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return it.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,it.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(){this.$r=new Be(Qe.Ur),this.Kr=new Be(Qe.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,i){const s=new Qe(t,i);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.zr(new Qe(t,i))}jr(t,i){t.forEach(s=>this.removeReference(s,i))}Hr(t){const i=new Rt(new he([])),s=new Qe(i,t),o=new Qe(i,t+1),c=[];return this.Kr.forEachInRange([s,o],h=>{this.zr(h),c.push(h.key)}),c}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const i=new Rt(new he([])),s=new Qe(i,t),o=new Qe(i,t+1);let c=Gt();return this.Kr.forEachInRange([s,o],h=>{c=c.add(h.key)}),c}containsKey(t){const i=new Qe(t,0),s=this.$r.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Qe{constructor(t,i){this.key=t,this.Zr=i}static Ur(t,i){return Rt.comparator(t.key,i.key)||zt(t.Zr,i.Zr)}static Wr(t,i){return zt(t.Zr,i.Zr)||Rt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.nr=1,this.Xr=new Be(Qe.Ur)}checkEmpty(t){return it.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,o){const c=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new ZR(c,i,s,o);this.mutationQueue.push(h);for(const m of o)this.Xr=this.Xr.add(new Qe(m.key,c)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return it.resolve(h)}lookupMutationBatch(t,i){return it.resolve(this.ei(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,o=this.ti(s),c=o<0?0:o;return it.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return it.resolve(this.mutationQueue.length===0?cm:this.nr-1)}getAllMutationBatches(t){return it.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY),c=[];return this.Xr.forEachInRange([s,o],h=>{const m=this.ei(h.Zr);c.push(m)}),it.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Be(zt);return i.forEach(o=>{const c=new Qe(o,0),h=new Qe(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([c,h],m=>{s=s.add(m.Zr)})}),it.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,o=s.length+1;let c=s;Rt.isDocumentKey(c)||(c=c.child(""));const h=new Qe(new Rt(c),0);let m=new Be(zt);return this.Xr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Zr)),!0)},h),it.resolve(this.ni(m))}ni(t){const i=[];return t.forEach(s=>{const o=this.ei(s);o!==null&&i.push(o)}),i}removeMutationBatch(t,i){te(this.ri(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return it.forEach(i.mutations,o=>{const c=new Qe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,i){const s=new Qe(i,0),o=this.Xr.firstAfterOrEqual(s);return it.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,it.resolve()}ri(t,i){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const i=this.ti(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.ii=t,this.docs=function(){return new ye(Rt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,h=this.ii(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return it.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(t,i){let s=pr();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():ln.newInvalidDocument(o))}),it.resolve(s)}getDocumentsMatchingQuery(t,i,s,o){let c=pr();const h=i.path,m=new Rt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||hR(fR(E),s)<=0||(o.has(E.key)||ef(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return it.resolve(c)}getAllFromCollectionGroup(t,i,s,o){Dt(9500)}si(t,i){return it.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Pw(this)}getSize(t){return it.resolve(this.size)}}class Pw extends Vw{constructor(t){super(),this.Br=t}applyChanges(t){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Br.addEntry(t,o)):this.Br.removeEntry(s)}),it.waitFor(i)}getFromCache(t,i){return this.Br.getEntry(t,i)}getAllFromCache(t,i){return this.Br.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t){this.persistence=t,this.oi=new qa(i=>dm(i),mm),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this._i=0,this.ai=new Em,this.targetCount=0,this.ui=Ys.cr()}forEachTarget(t,i){return this.oi.forEach((s,o)=>i(o)),it.resolve()}getLastRemoteSnapshotVersion(t){return it.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return it.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),it.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this._i&&(this._i=i),it.resolve()}Tr(t){this.oi.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ui=new Ys(i),this.highestTargetId=i),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,i){return this.Tr(i),this.targetCount+=1,it.resolve()}updateTargetData(t,i){return this.Tr(i),it.resolve()}removeTargetData(t,i){return this.oi.delete(i.target),this.ai.Hr(i.targetId),this.targetCount-=1,it.resolve()}removeTargets(t,i,s){let o=0;const c=[];return this.oi.forEach((h,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.oi.delete(h),c.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)}),it.waitFor(c).next(()=>o)}getTargetCount(t){return it.resolve(this.targetCount)}getTargetData(t,i){const s=this.oi.get(i)||null;return it.resolve(s)}addMatchingKeys(t,i,s){return this.ai.Gr(i,s),it.resolve()}removeMatchingKeys(t,i,s){this.ai.jr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(h=>{c.push(o.markPotentiallyOrphaned(t,h))}),it.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this.ai.Hr(i),it.resolve()}getMatchingKeysForTargetId(t,i){const s=this.ai.Yr(i);return it.resolve(s)}containsKey(t,i){return it.resolve(this.ai.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(t,i){this.ci={},this.overlays={},this.li=new Zc(0),this.hi=!1,this.hi=!0,this.Pi=new Mw,this.referenceDelegate=t(this),this.Ti=new kw(this),this.indexManager=new Aw,this.remoteDocumentCache=function(o){return new Uw(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new Ew(i),this.Ei=new Nw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ow,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ci[t.toKey()];return s||(s=new Lw(i,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,i,s){pt("MemoryPersistence","Starting transaction:",t);const o=new zw(this.li.next());return this.referenceDelegate.di(),s(o).next(c=>this.referenceDelegate.Ai(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ri(t,i){return it.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,i)))}}class zw extends mR{constructor(t){super(),this.currentSequenceNumber=t}}class Tm{constructor(t){this.persistence=t,this.Vi=new Em,this.mi=null}static fi(t){return new Tm(t)}get gi(){if(this.mi)return this.mi;throw Dt(60996)}addReference(t,i,s){return this.Vi.addReference(s,i),this.gi.delete(s.toString()),it.resolve()}removeReference(t,i,s){return this.Vi.removeReference(s,i),this.gi.add(s.toString()),it.resolve()}markPotentiallyOrphaned(t,i){return this.gi.add(i.toString()),it.resolve()}removeTarget(t,i){this.Vi.Hr(i.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(o=>{o.forEach(c=>this.gi.add(c.toString()))}).next(()=>s.removeTargetData(t,i))}di(){this.mi=new Set}Ai(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return it.forEach(this.gi,s=>{const o=Rt.fromPath(s);return this.pi(t,o).next(c=>{c||i.removeEntry(o,It.min())})}).next(()=>(this.mi=null,i.apply(t)))}updateLimboDocument(t,i){return this.pi(t,i).next(s=>{s?this.gi.delete(i.toString()):this.gi.add(i.toString())})}Ii(t){return 0}pi(t,i){return it.or([()=>it.resolve(this.Vi.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ri(t,i)])}}class qc{constructor(t,i){this.persistence=t,this.yi=new qa(s=>yR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Dw(this,i)}static fi(t,i){return new qc(t,i)}di(){}Ai(t){return it.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}pr(t){const i=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(o=>s+o))}br(t){let i=0;return this.yr(t,s=>{i++}).next(()=>i)}yr(t,i){return it.forEach(this.yi,(s,o)=>this.Dr(t,s,o).next(c=>c?it.resolve():i(o)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.si(t,h=>this.Dr(t,h,i).next(m=>{m||(s++,c.removeEntry(h,It.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.yi.set(i,t.currentSequenceNumber),it.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.yi.set(s,t.currentSequenceNumber),it.resolve()}removeReference(t,i,s){return this.yi.set(s,t.currentSequenceNumber),it.resolve()}updateLimboDocument(t,i){return this.yi.set(i,t.currentSequenceNumber),it.resolve()}Ii(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Sc(t.data.value)),i}Dr(t,i,s){return it.or([()=>this.persistence.Ri(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.yi.get(i);return it.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(t,i,s,o){this.targetId=t,this.fromCache=i,this.ds=s,this.As=o}static Rs(t,i){let s=Gt(),o=Gt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Am(t,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return PS()?8:gR(LS())>0?6:4}()}initialize(t,i){this.ys=t,this.indexManager=i,this.Vs=!0}getDocumentsMatchingQuery(t,i,s,o){const c={result:null};return this.ws(t,i).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.bs(t,i,o,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new Bw;return this.Ss(t,i,h).next(m=>{if(c.result=m,this.fs)return this.Ds(t,i,h,m.size)})}).next(()=>c.result)}Ds(t,i,s,o){return s.documentReadCount<this.gs?(Us()<=$t.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),it.resolve()):(Us()<=$t.DEBUG&&pt("QueryEngine","Query:",Ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(Us()<=$t.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):it.resolve())}ws(t,i){if(X_(i))return it.resolve(null);let s=wi(i);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Hd(i,null,"F"),s=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const h=Gt(...c);return this.ys.getDocuments(t,h).next(m=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.vs(i,m);return this.Cs(i,y,h,p.readTime)?this.ws(t,Hd(i,null,"F")):this.Fs(t,y,i,p)}))})))}bs(t,i,s,o){return X_(i)||o.isEqual(It.min())?it.resolve(null):this.ys.getDocuments(t,s).next(c=>{const h=this.vs(i,c);return this.Cs(i,h,s,o)?it.resolve(null):(Us()<=$t.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ps(i)),this.Fs(t,h,i,cR(o,xo)).next(m=>m))})}vs(t,i){let s=new Be(HE(t));return i.forEach((o,c)=>{ef(t,c)&&(s=s.add(c))}),s}Cs(t,i,s,o){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,s){return Us()<=$t.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Ps(i)),this.ys.getDocumentsMatchingQuery(t,i,ta.min(),s)}Fs(t,i,s,o){return this.ys.getDocumentsMatchingQuery(t,s,o).next(c=>(i.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="LocalStore",qw=3e8;class Hw{constructor(t,i,s,o){this.persistence=t,this.Ms=i,this.serializer=o,this.xs=new ye(zt),this.Os=new qa(c=>dm(c),mm),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Iw(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.xs))}}function Fw(r,t,i,s){return new Hw(r,t,i,s)}async function d0(r,t){const i=Nt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.Ls(t),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],m=[];let p=Gt();for(const y of o){h.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({ks:y,removedBatchIds:h,addedBatchIds:m}))})})}function Gw(r,t){const i=Nt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),c=i.Bs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const b=y.batch,S=b.keys();let k=it.resolve();return S.forEach(U=>{k=k.next(()=>E.getEntry(p,U)).next(Q=>{const q=y.docVersions.get(U);te(q!==null,48541),Q.version.compareTo(q)<0&&(b.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(i,s,t,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Gt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(t))).next(()=>i.localDocuments.getDocuments(s,o))})}function m0(r){const t=Nt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ti.getLastRemoteSnapshotVersion(i))}function Qw(r,t){const i=Nt(r),s=t.snapshotVersion;let o=i.xs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=i.Bs.newChangeBuffer({trackRemovals:!0});o=i.xs;const m=[];t.targetChanges.forEach((E,b)=>{const S=o.get(b);if(!S)return;m.push(i.Ti.removeMatchingKeys(c,E.removedDocuments,b).next(()=>i.Ti.addMatchingKeys(c,E.addedDocuments,b)));let k=S.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?k=k.withResumeToken(tn.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(b,k),function(Q,q,tt){return Q.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=qw?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0}(S,k,E)&&m.push(i.Ti.updateTargetData(c,k))});let p=pr(),y=Gt();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(Yw(c,h,t.documentUpdates).next(E=>{p=E.qs,y=E.Qs})),!s.isEqual(It.min())){const E=i.Ti.getLastRemoteSnapshotVersion(c).next(b=>i.Ti.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return it.waitFor(m).next(()=>h.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.xs=o,c))}function Yw(r,t,i){let s=Gt(),o=Gt();return i.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let h=pr();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(It.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):pt(Sm,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{qs:h,Qs:o}})}function Kw(r,t){const i=Nt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=cm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Xw(r,t){const i=Nt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Ti.getTargetData(s,t).next(c=>c?(o=c,it.resolve(o)):i.Ti.allocateTargetId(s).next(h=>(o=new Xr(t,h,"TargetPurposeListen",s.currentSequenceNumber),i.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.xs=i.xs.insert(s.targetId,s),i.Os.set(t,s.targetId)),s})}async function Kd(r,t,i){const s=Nt(r),o=s.xs.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!nl(h))throw h;pt(Sm,`Failed to update sequence numbers for target ${t}: ${h}`)}s.xs=s.xs.remove(t),s.Os.delete(o.target)}function ov(r,t,i){const s=Nt(r);let o=It.min(),c=Gt();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,E){const b=Nt(p),S=b.Os.get(E);return S!==void 0?it.resolve(b.xs.get(S)):b.Ti.getTargetData(y,E)}(s,h,wi(t)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(h,m.targetId).next(p=>{c=p})}).next(()=>s.Ms.getDocumentsMatchingQuery(h,t,i?o:It.min(),i?c:Gt())).next(m=>($w(s,UR(t),m),{documents:m,$s:c})))}function $w(r,t,i){let s=r.Ns.get(t)||It.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Ns.set(t,s)}class uv{constructor(){this.activeTargetIds=qR()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Zw{constructor(){this.xo=new uv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,i,s){this.Oo[t]=i}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new uv,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="ConnectivityMonitor";class fv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){pt(cv,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){pt(cv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function Xd(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd="RestConnection",Ww={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class t2{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=i+"://"+t.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Lc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(t,i,s,o,c){const h=Xd(),m=this.jo(t,i.toUriEncodedString());pt(bd,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(p,o,c);const{host:y}=new URL(m),E=lm(y);return this.Jo(t,m,p,s,E).then(b=>(pt(bd,`Received RPC '${t}' ${h}: `,b),b),b=>{throw Hs(bd,`RPC '${t}' ${h} failed with error: `,b,"url: ",m,"request:",s),b})}Yo(t,i,s,o,c,h){return this.zo(t,i,s,o,c)}Ho(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>t[c]=o),s&&s.headers.forEach((o,c)=>t[c]=o)}jo(t,i){const s=Ww[t];return`${this.Ko}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class n2 extends t2{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,o,c){const h=Xd();return new Promise((m,p)=>{const y=new pE;y.setWithCredentials(!0),y.listenOnce(yE.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Ac.NO_ERROR:const b=y.getResponseJson();pt(rn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(b)),m(b);break;case Ac.TIMEOUT:pt(rn,`RPC '${t}' ${h} timed out`),p(new _t(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const S=y.getStatus();if(pt(rn,`RPC '${t}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const U=k==null?void 0:k.error;if(U&&U.status&&U.message){const Q=function(tt){const X=tt.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(X)>=0?X:rt.UNKNOWN}(U.status);p(new _t(Q,U.message))}else p(new _t(rt.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new _t(rt.UNAVAILABLE,"Connection failed."));break;default:Dt(9055,{h_:t,streamId:h,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{pt(rn,`RPC '${t}' ${h} completed.`)}});const E=JSON.stringify(o);pt(rn,`RPC '${t}' ${h} sending request:`,o),y.send(i,"POST",E,s,15)})}I_(t,i,s){const o=Xd(),c=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=EE(),m=vE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Ho(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");pt(rn,`Creating RPC '${t}' stream ${o}: ${E}`,p);const b=h.createWebChannel(E,p);this.E_(b);let S=!1,k=!1;const U=new e2({Zo:q=>{k?pt(rn,`Not sending because RPC '${t}' stream ${o} is closed:`,q):(S||(pt(rn,`Opening RPC '${t}' stream ${o} transport.`),b.open(),S=!0),pt(rn,`RPC '${t}' stream ${o} sending:`,q),b.send(q))},Xo:()=>b.close()}),Q=(q,tt,X)=>{q.listen(tt,st=>{try{X(st)}catch(yt){setTimeout(()=>{throw yt},0)}})};return Q(b,po.EventType.OPEN,()=>{k||(pt(rn,`RPC '${t}' stream ${o} transport opened.`),U.__())}),Q(b,po.EventType.CLOSE,()=>{k||(k=!0,pt(rn,`RPC '${t}' stream ${o} transport closed`),U.u_(),this.d_(b))}),Q(b,po.EventType.ERROR,q=>{k||(k=!0,Hs(rn,`RPC '${t}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),U.u_(new _t(rt.UNAVAILABLE,"The operation could not be completed")))}),Q(b,po.EventType.MESSAGE,q=>{var tt;if(!k){const X=q.data[0];te(!!X,16349);const st=X,yt=(st==null?void 0:st.error)||((tt=st[0])===null||tt===void 0?void 0:tt.error);if(yt){pt(rn,`RPC '${t}' stream ${o} received error:`,yt);const dt=yt.status;let Ot=function(C){const I=xe[C];if(I!==void 0)return e0(I)}(dt),O=yt.message;Ot===void 0&&(Ot=rt.INTERNAL,O="Unknown error status: "+dt+" with message "+yt.message),k=!0,U.u_(new _t(Ot,O)),b.close()}else pt(rn,`RPC '${t}' stream ${o} received:`,X),U.c_(X)}}),Q(m,_E.STAT_EVENT,q=>{q.stat===Ud.PROXY?pt(rn,`RPC '${t}' stream ${o} detected buffering proxy`):q.stat===Ud.NOPROXY&&pt(rn,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.a_()},0),U}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(i=>i===t)}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(r){return new sw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,i,s=1e3,o=1.5,c=6e4){this.xi=t,this.timerId=i,this.A_=s,this.R_=o,this.V_=c,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const i=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,i-s);o>0&&pt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="PersistentStream";class p0{constructor(t,i,s,o,c,h,m,p){this.xi=t,this.S_=s,this.D_=o,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new g0(t,i)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,i){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():i&&i.code===rt.RESOURCE_EXHAUSTED?(gr(i.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):i&&i.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(i)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),i=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===i&&this.z_(s,o)},s=>{t(()=>{const o=new _t(rt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(t,i){const s=this.G_(this.v_);this.stream=this.H_(t,i),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return pt(hv,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return i=>{this.xi.enqueueAndForget(()=>this.v_===t?i():(pt(hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class i2 extends p0{constructor(t,i,s,o,c,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,h),this.serializer=c}H_(t,i){return this.connection.I_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const i=uw(this.serializer,t),s=function(c){if(!("targetChange"in c))return It.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?It.min():h.readTime?Ci(h.readTime):It.min()}(t);return this.listener.Y_(i,s)}Z_(t){const i={};i.database=Yd(this.serializer),i.addTarget=function(c,h){let m;const p=h.target;if(m=jd(p)?{documents:hw(c,p)}:{query:dw(c,p).gt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=r0(c,h.resumeToken);const y=Fd(c,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(It.min())>0){m.readTime=jc(c,h.snapshotVersion.toTimestamp());const y=Fd(c,h.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=gw(this.serializer,t);s&&(i.labels=s),this.Q_(i)}X_(t){const i={};i.database=Yd(this.serializer),i.removeTarget=t,this.Q_(i)}}class r2 extends p0{constructor(t,i,s,o,c,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,h),this.serializer=c}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,i){return this.connection.I_("Write",t,i)}J_(t){return te(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,te(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){te(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const i=fw(t.writeResults,t.commitTime),s=Ci(t.commitTime);return this.listener.ra(s,i)}ia(){const t={};t.database=Yd(this.serializer),this.Q_(t)}ta(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>cw(this.serializer,s))};this.Q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{}class s2 extends a2{constructor(t,i,s,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new _t(rt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,i,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.zo(t,Gd(i,s),o,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _t(rt.UNKNOWN,c.toString())})}Yo(t,i,s,o,c){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Yo(t,Gd(i,s),o,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new _t(rt.UNKNOWN,h.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class l2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(gr(i),this.ua=!1):pt("OnlineStateTracker",i)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class o2{constructor(t,i,s,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=c,this.Ra.No(h=>{s.enqueueAndForget(async()=>{Fa(this)&&(pt(za,"Restarting streams for network reachability change."),await async function(p){const y=Nt(p);y.da.add(4),await Ho(y),y.Va.set("Unknown"),y.da.delete(4),await lf(y)}(this))})}),this.Va=new l2(s,o)}}async function lf(r){if(Fa(r))for(const t of r.Aa)await t(!0)}async function Ho(r){for(const t of r.Aa)await t(!1)}function y0(r,t){const i=Nt(r);i.Ea.has(t.targetId)||(i.Ea.set(t.targetId,t),Cm(i)?wm(i):il(i).N_()&&Rm(i,t))}function bm(r,t){const i=Nt(r),s=il(i);i.Ea.delete(t),s.N_()&&_0(i,t),i.Ea.size===0&&(s.N_()?s.k_():Fa(i)&&i.Va.set("Unknown"))}function Rm(r,t){if(r.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(It.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}il(r).Z_(t)}function _0(r,t){r.ma.Ke(t),il(r).X_(t)}function wm(r){r.ma=new nw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>r.Ea.get(t)||null,Pt:()=>r.datastore.serializer.databaseId}),il(r).start(),r.Va.ca()}function Cm(r){return Fa(r)&&!il(r).O_()&&r.Ea.size>0}function Fa(r){return Nt(r).da.size===0}function v0(r){r.ma=void 0}async function u2(r){r.Va.set("Online")}async function c2(r){r.Ea.forEach((t,i)=>{Rm(r,t)})}async function f2(r,t){v0(r),Cm(r)?(r.Va.Pa(t),wm(r)):r.Va.set("Unknown")}async function h2(r,t,i){if(r.Va.set("Online"),t instanceof i0&&t.state===2&&t.cause)try{await async function(o,c){const h=c.cause;for(const m of c.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ea.delete(m),o.ma.removeTarget(m))}(r,t)}catch(s){pt(za,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Hc(r,s)}else if(t instanceof wc?r.ma.Xe(t):t instanceof n0?r.ma.ot(t):r.ma.nt(t),!i.isEqual(It.min()))try{const s=await m0(r.localStore);i.compareTo(s)>=0&&await function(c,h){const m=c.ma.It(h);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.Ea.get(y);E&&c.Ea.set(y,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,y)=>{const E=c.Ea.get(p);if(!E)return;c.Ea.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),_0(c,p);const b=new Xr(E.target,p,y,E.sequenceNumber);Rm(c,b)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){pt(za,"Failed to raise snapshot:",s),await Hc(r,s)}}async function Hc(r,t,i){if(!nl(t))throw t;r.da.add(1),await Ho(r),r.Va.set("Offline"),i||(i=()=>m0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{pt(za,"Retrying IndexedDB access"),await i(),r.da.delete(1),await lf(r)})}function E0(r,t){return t().catch(i=>Hc(r,i,t))}async function of(r){const t=Nt(r),i=ra(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:cm;for(;d2(t);)try{const o=await Kw(t.localStore,s);if(o===null){t.Ia.length===0&&i.k_();break}s=o.batchId,m2(t,o)}catch(o){await Hc(t,o)}T0(t)&&A0(t)}function d2(r){return Fa(r)&&r.Ia.length<10}function m2(r,t){r.Ia.push(t);const i=ra(r);i.N_()&&i.ea&&i.ta(t.mutations)}function T0(r){return Fa(r)&&!ra(r).O_()&&r.Ia.length>0}function A0(r){ra(r).start()}async function g2(r){ra(r).ia()}async function p2(r){const t=ra(r);for(const i of r.Ia)t.ta(i.mutations)}async function y2(r,t,i){const s=r.Ia.shift(),o=ym.from(s,t,i);await E0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await of(r)}async function _2(r,t){t&&ra(r).ea&&await async function(s,o){if(function(h){return tw(h)&&h!==rt.ABORTED}(o.code)){const c=s.Ia.shift();ra(s).L_(),await E0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await of(s)}}(r,t),T0(r)&&A0(r)}async function dv(r,t){const i=Nt(r);i.asyncQueue.verifyOperationInProgress(),pt(za,"RemoteStore received new credentials");const s=Fa(i);i.da.add(3),await Ho(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.da.delete(3),await lf(i)}async function v2(r,t){const i=Nt(r);t?(i.da.delete(2),await lf(i)):t||(i.da.add(2),await Ho(i),i.Va.set("Unknown"))}function il(r){return r.fa||(r.fa=function(i,s,o){const c=Nt(i);return c.oa(),new i2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{e_:u2.bind(null,r),n_:c2.bind(null,r),i_:f2.bind(null,r),Y_:h2.bind(null,r)}),r.Aa.push(async t=>{t?(r.fa.L_(),Cm(r)?wm(r):r.Va.set("Unknown")):(await r.fa.stop(),v0(r))})),r.fa}function ra(r){return r.ga||(r.ga=function(i,s,o){const c=Nt(i);return c.oa(),new r2(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:g2.bind(null,r),i_:_2.bind(null,r),na:p2.bind(null,r),ra:y2.bind(null,r)}),r.Aa.push(async t=>{t?(r.ga.L_(),await of(r)):(await r.ga.stop(),r.Ia.length>0&&(pt(za,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,i,s,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,o,c){const h=Date.now()+s,m=new Dm(t,i,h,o,c);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _t(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vm(r,t){if(gr("AsyncQueue",`${t}: ${r}`),nl(r))return new _t(rt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{static emptySet(t){return new js(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||Rt.comparator(i.key,s.key):(i,s)=>Rt.comparator(i.key,s.key),this.keyedMap=yo(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof js)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new js;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.pa=new ye(Rt.comparator)}track(t){const i=t.doc.key,s=this.pa.get(i);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(i,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(i):t.type===1&&s.type===2?this.pa=this.pa.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(i,{type:2,doc:t.doc}):Dt(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(i,t)}wa(){const t=[];return this.pa.inorderTraversal((i,s)=>{t.push(s)}),t}}class Ks{constructor(t,i,s,o,c,h,m,p,y){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,s,o,c){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new Ks(t,i,js.emptySet(i),h,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class T2{constructor(){this.queries=gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=Nt(i),c=o.queries;o.queries=gv(),c.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new _t(rt.ABORTED,"Firestore shutting down"))}}function gv(){return new qa(r=>qE(r),tf)}async function S0(r,t){const i=Nt(r);let s=3;const o=t.query;let c=i.queries.get(o);c?!c.Da()&&t.va()&&(s=2):(c=new E2,s=t.va()?0:1);try{switch(s){case 0:c.ba=await i.onListen(o,!0);break;case 1:c.ba=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(h){const m=Vm(h,`Initialization of query '${Ps(t.query)}' failed`);return void t.onError(m)}i.queries.set(o,c),c.Sa.push(t),t.Fa(i.onlineState),c.ba&&t.Ma(c.ba)&&xm(i)}async function b0(r,t){const i=Nt(r),s=t.query;let o=3;const c=i.queries.get(s);if(c){const h=c.Sa.indexOf(t);h>=0&&(c.Sa.splice(h,1),c.Sa.length===0?o=t.va()?0:1:!c.Da()&&t.va()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function A2(r,t){const i=Nt(r);let s=!1;for(const o of t){const c=o.query,h=i.queries.get(c);if(h){for(const m of h.Sa)m.Ma(o)&&(s=!0);h.ba=o}}s&&xm(i)}function S2(r,t,i){const s=Nt(r),o=s.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);s.queries.delete(t)}function xm(r){r.Ca.forEach(t=>{t.next()})}var $d,pv;(pv=$d||($d={})).xa="default",pv.Cache="cache";class R0{constructor(t,i,s){this.query=t,this.Oa=i,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new Ks(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Na?this.La(t)&&(this.Oa.next(t),i=!0):this.ka(t,this.onlineState)&&(this.qa(t),i=!0),this.Ba=t,i}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let i=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),i=!0),i}ka(t,i){if(!t.fromCache||!this.va())return!0;const s=i!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}La(t){if(t.docChanges.length>0)return!0;const i=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}qa(t){t=Ks.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==$d.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t){this.key=t}}class C0{constructor(t){this.key=t}}class b2{constructor(t,i){this.query=t,this.Ha=i,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Gt(),this.mutatedKeys=Gt(),this.Za=HE(t),this.Xa=new js(this.Za)}get eu(){return this.Ha}tu(t,i){const s=i?i.nu:new mv,o=i?i.Xa:this.Xa;let c=i?i.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((E,b)=>{const S=o.get(E),k=ef(this.query,b)?b:null,U=!!S&&this.mutatedKeys.has(S.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;S&&k?S.data.isEqual(k.data)?U!==Q&&(s.track({type:3,doc:k}),q=!0):this.ru(S,k)||(s.track({type:2,doc:k}),q=!0,(p&&this.Za(k,p)>0||y&&this.Za(k,y)<0)&&(m=!0)):!S&&k?(s.track({type:0,doc:k}),q=!0):S&&!k&&(s.track({type:1,doc:S}),q=!0,(p||y)&&(m=!0)),q&&(k?(h=h.add(k),c=Q?c.add(E):c.delete(E)):(h=h.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{Xa:h,nu:s,Cs:m,mutatedKeys:c}}ru(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,o){const c=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const h=t.nu.wa();h.sort((E,b)=>function(k,U){const Q=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt(20277,{Vt:q})}};return Q(k)-Q(U)}(E.type,b.type)||this.Za(E.doc,b.doc)),this.iu(s),o=o!=null&&o;const m=i&&!o?this.su():[],p=this.Ya.size===0&&this.current&&!o?1:0,y=p!==this.Ja;return this.Ja=p,h.length!==0||y?{snapshot:new Ks(this.query,t.Xa,c,h,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new mv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(i=>this.Ha=this.Ha.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ha=this.Ha.delete(i)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=Gt(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const i=[];return t.forEach(s=>{this.Ya.has(s)||i.push(new C0(s))}),this.Ya.forEach(s=>{t.has(s)||i.push(new w0(s))}),i}au(t){this.Ha=t.$s,this.Ya=Gt();const i=this.tu(t.documents);return this.applyChanges(i,!0)}uu(){return Ks.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Im="SyncEngine";class R2{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class w2{constructor(t){this.key=t,this.cu=!1}}class C2{constructor(t,i,s,o,c,h){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.lu={},this.hu=new qa(m=>qE(m),tf),this.Pu=new Map,this.Tu=new Set,this.Iu=new ye(Rt.comparator),this.Eu=new Map,this.du=new Em,this.Au={},this.Ru=new Map,this.Vu=Ys.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function D2(r,t,i=!0){const s=O0(r);let o;const c=s.hu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.uu()):o=await D0(s,t,i,!0),o}async function V2(r,t){const i=O0(r);await D0(i,t,!0,!1)}async function D0(r,t,i,s){const o=await Xw(r.localStore,wi(t)),c=o.targetId,h=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await x2(r,t,c,h==="current",o.resumeToken)),r.isPrimaryClient&&i&&y0(r.remoteStore,o),m}async function x2(r,t,i,s,o){r.fu=(b,S,k)=>async function(Q,q,tt,X){let st=q.view.tu(tt);st.Cs&&(st=await ov(Q.localStore,q.query,!1).then(({documents:O})=>q.view.tu(O,st)));const yt=X&&X.targetChanges.get(q.targetId),dt=X&&X.targetMismatches.get(q.targetId)!=null,Ot=q.view.applyChanges(st,Q.isPrimaryClient,yt,dt);return _v(Q,q.targetId,Ot.ou),Ot.snapshot}(r,b,S,k);const c=await ov(r.localStore,t,!0),h=new b2(t,c.$s),m=h.tu(c.documents),p=qo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=h.applyChanges(m,r.isPrimaryClient,p);_v(r,i,y.ou);const E=new R2(t,i,h);return r.hu.set(t,E),r.Pu.has(i)?r.Pu.get(i).push(t):r.Pu.set(i,[t]),y.snapshot}async function I2(r,t,i){const s=Nt(r),o=s.hu.get(t),c=s.Pu.get(o.targetId);if(c.length>1)return s.Pu.set(o.targetId,c.filter(h=>!tf(h,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Kd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&bm(s.remoteStore,o.targetId),Zd(s,o.targetId)}).catch(el)):(Zd(s,o.targetId),await Kd(s.localStore,o.targetId,!0))}async function N2(r,t){const i=Nt(r),s=i.hu.get(t),o=i.Pu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),bm(i.remoteStore,s.targetId))}async function O2(r,t,i){const s=B2(r);try{const o=await function(h,m){const p=Nt(h),y=ze.now(),E=m.reduce((k,U)=>k.add(U.key),Gt());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let U=pr(),Q=Gt();return p.Bs.getEntries(k,E).next(q=>{U=q,U.forEach((tt,X)=>{X.isValidDocument()||(Q=Q.add(tt))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,U)).next(q=>{b=q;const tt=[];for(const X of m){const st=XR(X,b.get(X.key).overlayedDocument);st!=null&&tt.push(new Ha(X.key,st,ME(st.value.mapValue),hr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,tt,m)}).next(q=>{S=q;const tt=q.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(k,q.batchId,tt)})}).then(()=>({batchId:S.batchId,changes:GE(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let y=h.Au[h.currentUser.toKey()];y||(y=new ye(zt)),y=y.insert(m,p),h.Au[h.currentUser.toKey()]=y}(s,o.batchId,i),await Fo(s,o.changes),await of(s.remoteStore)}catch(o){const c=Vm(o,"Failed to persist write");i.reject(c)}}async function V0(r,t){const i=Nt(r);try{const s=await Qw(i.localStore,t);t.targetChanges.forEach((o,c)=>{const h=i.Eu.get(c);h&&(te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.cu=!0:o.modifiedDocuments.size>0?te(h.cu,14607):o.removedDocuments.size>0&&(te(h.cu,42227),h.cu=!1))}),await Fo(i,s,t)}catch(s){await el(s)}}function yv(r,t,i){const s=Nt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.hu.forEach((c,h)=>{const m=h.view.Fa(t);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Nt(h);p.onlineState=m;let y=!1;p.queries.forEach((E,b)=>{for(const S of b.Sa)S.Fa(m)&&(y=!0)}),y&&xm(p)}(s.eventManager,t),o.length&&s.lu.Y_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function M2(r,t,i){const s=Nt(r);s.sharedClientState.updateQueryState(t,"rejected",i);const o=s.Eu.get(t),c=o&&o.key;if(c){let h=new ye(Rt.comparator);h=h.insert(c,ln.newNoDocument(c,It.min()));const m=Gt().add(c),p=new af(It.min(),new Map,new ye(zt),h,m);await V0(s,p),s.Iu=s.Iu.remove(c),s.Eu.delete(t),Nm(s)}else await Kd(s.localStore,t,!1).then(()=>Zd(s,t,i)).catch(el)}async function L2(r,t){const i=Nt(r),s=t.batch.batchId;try{const o=await Gw(i.localStore,t);I0(i,s,null),x0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Fo(i,o)}catch(o){await el(o)}}async function U2(r,t,i){const s=Nt(r);try{const o=await function(h,m){const p=Nt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>(te(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,t);I0(s,t,i),x0(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Fo(s,o)}catch(o){await el(o)}}function x0(r,t){(r.Ru.get(t)||[]).forEach(i=>{i.resolve()}),r.Ru.delete(t)}function I0(r,t,i){const s=Nt(r);let o=s.Au[s.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),s.Au[s.currentUser.toKey()]=o}}function Zd(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Pu.get(t))r.hu.delete(s),i&&r.lu.gu(s,i);r.Pu.delete(t),r.isPrimaryClient&&r.du.Hr(t).forEach(s=>{r.du.containsKey(s)||N0(r,s)})}function N0(r,t){r.Tu.delete(t.path.canonicalString());const i=r.Iu.get(t);i!==null&&(bm(r.remoteStore,i),r.Iu=r.Iu.remove(t),r.Eu.delete(i),Nm(r))}function _v(r,t,i){for(const s of i)s instanceof w0?(r.du.addReference(s.key,t),P2(r,s)):s instanceof C0?(pt(Im,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,t),r.du.containsKey(s.key)||N0(r,s.key)):Dt(19791,{pu:s})}function P2(r,t){const i=t.key,s=i.path.canonicalString();r.Iu.get(i)||r.Tu.has(s)||(pt(Im,"New document in limbo: "+i),r.Tu.add(s),Nm(r))}function Nm(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const t=r.Tu.values().next().value;r.Tu.delete(t);const i=new Rt(he.fromString(t)),s=r.Vu.next();r.Eu.set(s,new w2(i)),r.Iu=r.Iu.insert(i,s),y0(r.remoteStore,new Xr(wi(gm(i.path)),s,"TargetPurposeLimboResolution",Zc.le))}}async function Fo(r,t,i){const s=Nt(r),o=[],c=[],h=[];s.hu.isEmpty()||(s.hu.forEach((m,p)=>{h.push(s.fu(p,t,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const b=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Am.Rs(p.targetId,y);c.push(b)}}))}),await Promise.all(h),s.lu.Y_(o),await async function(p,y){const E=Nt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>it.forEach(y,S=>it.forEach(S.ds,k=>E.persistence.referenceDelegate.addReference(b,S.targetId,k)).next(()=>it.forEach(S.As,k=>E.persistence.referenceDelegate.removeReference(b,S.targetId,k)))))}catch(b){if(!nl(b))throw b;pt(Sm,"Failed to update sequence numbers: "+b)}for(const b of y){const S=b.targetId;if(!b.fromCache){const k=E.xs.get(S),U=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(U);E.xs=E.xs.insert(S,Q)}}}(s.localStore,c))}async function k2(r,t){const i=Nt(r);if(!i.currentUser.isEqual(t)){pt(Im,"User change. New user:",t.toKey());const s=await d0(i.localStore,t);i.currentUser=t,function(c,h){c.Ru.forEach(m=>{m.forEach(p=>{p.reject(new _t(rt.CANCELLED,h))})}),c.Ru.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Fo(i,s.ks)}}function z2(r,t){const i=Nt(r),s=i.Eu.get(t);if(s&&s.cu)return Gt().add(s.key);{let o=Gt();const c=i.Pu.get(t);if(!c)return o;for(const h of c){const m=i.hu.get(h);o=o.unionWith(m.view.eu)}return o}}function O0(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=V0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=z2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=M2.bind(null,t),t.lu.Y_=A2.bind(null,t.eventManager),t.lu.gu=S2.bind(null,t.eventManager),t}function B2(r){const t=Nt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=L2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=U2.bind(null,t),t}class Fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=sf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,i){return null}Cu(t,i){return null}Du(t){return Fw(this.persistence,new jw,t.initialUser,this.serializer)}Su(t){return new h0(Tm.fi,this.serializer)}bu(t){return new Zw}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fc.provider={build:()=>new Fc};class j2 extends Fc{constructor(t){super(),this.cacheSizeBytes=t}vu(t,i){te(this.persistence.referenceDelegate instanceof qc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ww(s,t.asyncQueue,i)}Su(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new h0(s=>qc.fi(s,i),this.serializer)}}class Jd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=k2.bind(null,this.syncEngine),await v2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new T2}()}createDatastore(t){const i=sf(t.databaseInfo.databaseId),s=function(c){return new n2(c)}(t.databaseInfo);return function(c,h,m,p){return new s2(c,h,m,p)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,o,c,h,m){return new o2(s,o,c,h,m)}(this.localStore,this.datastore,t.asyncQueue,i=>yv(this.syncEngine,i,0),function(){return fv.C()?new fv:new Jw}())}createSyncEngine(t,i){return function(o,c,h,m,p,y,E){const b=new C2(o,c,h,m,p,y);return E&&(b.mu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(o){const c=Nt(o);pt(za,"RemoteStore shutting down."),c.da.add(5),await Ho(c),c.Ra.shutdown(),c.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Jd.provider={build:()=>new Jd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):gr("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="FirestoreClient";class q2{constructor(t,i,s,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=bE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{pt(aa,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(pt(aa,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=Vm(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function wd(r,t){r.asyncQueue.verifyOperationInProgress(),pt(aa,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await d0(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function vv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await H2(r);pt(aa,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener(s=>dv(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>dv(t.remoteStore,o)),r._onlineComponents=t}async function H2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){pt(aa,"Using user provided OfflineComponentProvider");try{await wd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(o){return o.name==="FirebaseError"?o.code===rt.FAILED_PRECONDITION||o.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Hs("Error using user provided cache. Falling back to memory cache: "+i),await wd(r,new Fc)}}else pt(aa,"Using default OfflineComponentProvider"),await wd(r,new j2(void 0));return r._offlineComponents}async function L0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(pt(aa,"Using user provided OnlineComponentProvider"),await vv(r,r._uninitializedComponentsProvider._online)):(pt(aa,"Using default OnlineComponentProvider"),await vv(r,new Jd))),r._onlineComponents}function F2(r){return L0(r).then(t=>t.syncEngine)}async function U0(r){const t=await L0(r),i=t.eventManager;return i.onListen=D2.bind(null,t.syncEngine),i.onUnlisten=I2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=V2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=N2.bind(null,t.syncEngine),i}function G2(r,t,i={}){const s=new fr;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const E=new M0({next:S=>{E.xu(),h.enqueueAndForget(()=>b0(c,b));const k=S.docs.has(m);!k&&S.fromCache?y.reject(new _t(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?y.reject(new _t(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new R0(gm(m.path),E,{includeMetadataChanges:!0,Qa:!0});return S0(c,b)}(await U0(r),r.asyncQueue,t,i,s)),s.promise}function Q2(r,t,i={}){const s=new fr;return r.asyncQueue.enqueueAndForget(async()=>function(c,h,m,p,y){const E=new M0({next:S=>{E.xu(),h.enqueueAndForget(()=>b0(c,b)),S.fromCache&&p.source==="server"?y.reject(new _t(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),b=new R0(m,E,{includeMetadataChanges:!0,Qa:!0});return S0(c,b)}(await U0(r),r.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r,t,i){if(!i)throw new _t(rt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Y2(r,t,i,s){if(t===!0&&s===!0)throw new _t(rt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Tv(r){if(!Rt.isDocumentKey(r))throw new _t(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Av(r){if(Rt.isDocumentKey(r))throw new _t(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Dt(12329,{type:typeof r})}function Xs(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new _t(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=uf(r);throw new _t(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="firestore.googleapis.com",Sv=!0;class bv{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new _t(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z0,this.ssl=Sv}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:Sv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=f0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bw)throw new _t(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Y2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new _t(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new _t(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new _t(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class cf{constructor(t,i,s,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _t(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _t(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eR;switch(s.type){case"firstParty":return new aR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new _t(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Ev.get(i);s&&(pt("ComponentProvider","Removing Datastore"),Ev.delete(i),s.terminate())}(this),Promise.resolve()}}function K2(r,t,i,s={}){var o;r=Xs(r,cf);const c=lm(t),h=r._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${t}:${i}`;c&&(xS(`https://${p}`),MS("Firestore",!0)),h.host!==z0&&h.host!==p&&Hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:p,ssl:c,emulatorOptions:s});if(!Ic(y,m)&&(r._setSettings(y),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=sn.MOCK_USER;else{E=IS(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new _t(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new sn(S)}r._authCredentials=new nR(new AE(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new rl(this.firestore,t,this._query)}}class xn{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new xn(this.firestore,t,this._key)}}class Wr extends rl{constructor(t,i,s){super(t,i,gm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new xn(this.firestore,null,new Rt(t))}withConverter(t){return new Wr(this.firestore,t,this._path)}}function B0(r,t,...i){if(r=qs(r),k0("collection","path",t),r instanceof cf){const s=he.fromString(t,...i);return Av(s),new Wr(r,null,s)}{if(!(r instanceof xn||r instanceof Wr))throw new _t(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(he.fromString(t,...i));return Av(s),new Wr(r.firestore,null,s)}}function j0(r,t,...i){if(r=qs(r),arguments.length===1&&(t=bE.newId()),k0("doc","path",t),r instanceof cf){const s=he.fromString(t,...i);return Tv(s),new xn(r,null,new Rt(s))}{if(!(r instanceof xn||r instanceof Wr))throw new _t(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(he.fromString(t,...i));return Tv(s),new xn(r.firestore,r instanceof Wr?r.converter:null,new Rt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="AsyncQueue";class wv{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new g0(this,"async_queue_retry"),this.rc=()=>{const s=Rd();s&&pt(Rv,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const i=Rd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const i=Rd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const i=new fr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!nl(t))throw t;pt(Rv,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const i=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,gr("INTERNAL UNHANDLED ERROR: ",Cv(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=i,i}enqueueAfterDelay(t,i,s){this.oc(),this.nc.indexOf(t)>-1&&(i=0);const o=Dm.createAndSchedule(this,t,i,s,c=>this.uc(c));return this.Zu.push(o),o}oc(){this.Xu&&Dt(47125,{cc:Cv(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const i of this.Zu)if(i.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.Zu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const i=this.Zu.indexOf(t);this.Zu.splice(i,1)}}function Cv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class ff extends cf{constructor(t,i,s,o){super(t,i,s,o),this.type="firestore",this._queue=new wv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new wv(t),this._firestoreClient=void 0,await t}}}function X2(r,t){const i=typeof r=="object"?r:Fb(),s=typeof r=="string"?r:Lc,o=zb(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=DS("firestore");c&&K2(o,...c)}return o}function Om(r){if(r._terminated)throw new _t(rt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$2(r),r._firestoreClient}function $2(r){var t,i,s;const o=r._freezeSettings(),c=function(m,p,y,E){return new ER(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,P0(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new q2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $s(tn.fromBase64String(t))}catch(i){throw new _t(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new $s(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new _t(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new _t(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new _t(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=/^__.*__$/;class J2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Ha(t,this.data,this.fieldMask,i,this.fieldTransforms):new jo(t,this.data,i,this.fieldTransforms)}}function H0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt(40011,{Ic:r})}}class Pm{constructor(t,i,s,o,c,h){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Ec(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Pm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.dc({path:s,Rc:!1});return o.Vc(t),o}mc(t){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(t),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Gc(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(i=>t.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>t.isPrefixOf(i.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(H0(this.Ic)&&Z2.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class W2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||sf(t)}bc(t,i,s,o=!1){return new Pm({Ic:t,methodName:i,wc:s,path:We.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F0(r){const t=r._freezeSettings(),i=sf(r._databaseId);return new W2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function tC(r,t,i,s,o,c={}){const h=r.bc(c.merge||c.mergeFields?2:0,t,i,o);Y0("Data must be an object, but it was:",h,s);const m=G0(s,h);let p,y;if(c.merge)p=new ii(h.fieldMask),y=h.fieldTransforms;else if(c.mergeFields){const E=[];for(const b of c.mergeFields){const S=nC(t,b,i);if(!h.contains(S))throw new _t(rt.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);rC(E,S)||E.push(S)}p=new ii(E),y=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=h.fieldTransforms;return new J2(new Gn(m),p,y)}function eC(r,t,i,s=!1){return km(i,r.bc(s?4:3,t))}function km(r,t){if(Q0(r=qs(r)))return Y0("Unsupported field value:",t,r),G0(r,t);if(r instanceof q0)return function(s,o){if(!H0(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,o){const c=[];let h=0;for(const m of s){let p=km(m,o.fc(h));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),h++}return{arrayValue:{values:c}}}(r,t)}return function(s,o){if((s=qs(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return HR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=ze.fromDate(s);return{timestampValue:jc(o.serializer,c)}}if(s instanceof ze){const c=new ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jc(o.serializer,c)}}if(s instanceof Lm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $s)return{bytesValue:r0(o.serializer,s._byteString)};if(s instanceof xn){const c=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw o.gc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Um)return function(h,m){return{mapValue:{fields:{[NE]:{stringValue:OE},[Uc]:{arrayValue:{values:h.toArray().map(y=>{if(typeof y!="number")throw m.gc("VectorValues must only contain numeric values.");return pm(m.serializer,y)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${uf(s)}`)}(r,t)}function G0(r,t){const i={};return wE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ja(r,(s,o)=>{const c=km(o,t.Ac(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function Q0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ze||r instanceof Lm||r instanceof $s||r instanceof xn||r instanceof q0||r instanceof Um)}function Y0(r,t,i){if(!Q0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=uf(i);throw s==="an object"?t.gc(r+" a custom object"):t.gc(r+" "+s)}}function nC(r,t,i){if((t=qs(t))instanceof Mm)return t._internalPath;if(typeof t=="string")return K0(r,t);throw Gc("Field path arguments must be of type string or ",r,!1,void 0,i)}const iC=new RegExp("[~\\*/\\[\\]]");function K0(r,t,i){if(t.search(iC)>=0)throw Gc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Mm(...t.split("."))._internalPath}catch{throw Gc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Gc(r,t,i,s,o){const c=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||h)&&(p+=" (found",c&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new _t(rt.INVALID_ARGUMENT,m+r+p)}function rC(r,t){return r.some(i=>i.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(t,i,s,o,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(zm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class aC extends X0{data(){return super.data()}}function zm(r,t){return typeof t=="string"?K0(r,t):t instanceof Mm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new _t(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bm{}class lC extends Bm{}function oC(r,t,...i){let s=[];t instanceof Bm&&s.push(t),s=s.concat(i),function(c){const h=c.filter(p=>p instanceof jm).length,m=c.filter(p=>p instanceof hf).length;if(h>1||h>0&&m>0)throw new _t(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class hf extends lC{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new hf(t,i,s)}_apply(t){const i=this._parse(t);return $0(t._query,i),new rl(t.firestore,t.converter,qd(t._query,i))}_parse(t){const i=F0(t.firestore);return function(c,h,m,p,y,E,b){let S;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new _t(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Vv(b,E);const U=[];for(const Q of b)U.push(Dv(p,c,Q));S={arrayValue:{values:U}}}else S=Dv(p,c,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Vv(b,E),S=eC(m,h,b,E==="in"||E==="not-in");return Ne.create(y,E,S)}(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function uC(r,t,i){const s=t,o=zm("where",r);return hf._create(o,s,i)}class jm extends Bm{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new jm(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:ri.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:(function(o,c){let h=o;const m=c.getFlattenedFilters();for(const p of m)$0(h,p),h=qd(h,p)}(t._query,i),new rl(t.firestore,t.converter,qd(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Dv(r,t,i){if(typeof(i=qs(i))=="string"){if(i==="")throw new _t(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jE(t)&&i.indexOf("/")!==-1)throw new _t(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(he.fromString(i));if(!Rt.isDocumentKey(s))throw new _t(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return H_(r,new Rt(s))}if(i instanceof xn)return H_(r,i._key);throw new _t(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(i)}.`)}function Vv(r,t){if(!Array.isArray(r)||r.length===0)throw new _t(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function $0(r,t){const i=function(o,c){for(const h of o)for(const m of h.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(i!==null)throw i===t.op?new _t(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new _t(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class cC{convertValue(t,i="none"){switch(ia(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(na(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Dt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return ja(t,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(t){var i,s,o;const c=(o=(s=(i=t.fields)===null||i===void 0?void 0:i[Uc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>be(h.doubleValue));return new Um(c)}convertGeoPoint(t){return new Lm(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Wc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Io(t));default:return null}}convertTimestamp(t){const i=ea(t);return new ze(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=he.fromString(t);te(c0(s),9688,{name:t});const o=new No(s.get(1),s.get(3)),c=new Rt(s.popFirst(5));return o.isEqual(i)||gr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(r,t,i){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Z0 extends X0{constructor(t,i,s,o,c,h){super(t,i,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(zm("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Cc extends Z0{data(t={}){return super.data(t)}}class hC{constructor(t,i,s,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new vo(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new Cc(this._firestore,this._userDataWriter,s.key,s,new vo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new _t(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Cc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new Cc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new vo(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:dC(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function dC(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r){r=Xs(r,xn);const t=Xs(r.firestore,ff);return G2(Om(t),r._key).then(i=>_C(t,r,i))}class J0 extends cC{constructor(t){super(),this.firestore=t}convertBytes(t){return new $s(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new xn(this.firestore,null,i)}}function gC(r){r=Xs(r,rl);const t=Xs(r.firestore,ff),i=Om(t),s=new J0(t);return sC(r._query),Q2(i,r._query).then(o=>new hC(t,s,r,o))}function pC(r,t){const i=Xs(r.firestore,ff),s=j0(r),o=fC(r.converter,t);return yC(i,[tC(F0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,hr.exists(!1))]).then(()=>s)}function yC(r,t){return function(s,o){const c=new fr;return s.asyncQueue.enqueueAndForget(async()=>O2(await F2(s),o,c)),c.promise}(Om(r),t)}function _C(r,t,i){const s=i.docs.get(t._key),o=new J0(r);return new Z0(r,o,t._key,s,new vo(i.hasPendingWrites,i.fromCache),t.converter)}(function(t,i=!0){(function(o){tl=o})(Hb),Oc(new Do("firestore",(s,{instanceIdentifier:o,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new ff(new iR(s.getProvider("auth-internal")),new sR(h,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new _t(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(y.options.projectId,E)}(h,o),h);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Bs(I_,N_,t),Bs(I_,N_,"esm2017")})();var vC="firebase",EC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bs(vC,EC,"app");const TC={apiKey:"AIzaSyCvS0D0fe2EwqeERdJuSyZkkW2e9CezLfw",authDomain:"e-commerce-66f95.firebaseapp.com",projectId:"e-commerce-66f95",storageBucket:"e-commerce-66f95.firebasestorage.app",messagingSenderId:"382745313987",appId:"1:382745313987:web:6728fad0d22c243346d876"},AC=hE(TC),qm=X2(AC);function SC(){const[r,t]=$.useState(null),i=Zv().id;return $.useEffect(()=>{const s=j0(qm,"productos",i);mC(s).then(o=>{t({...o.data(),id:o.id})})},[i]),Z.jsx("div",{children:r&&Z.jsx(Q1,{item:r})})}function bC({producto:r}){return Z.jsxs("div",{className:"producto",children:[Z.jsx("img",{src:r.image,alt:r.title}),Z.jsxs("div",{children:[Z.jsx("h4",{children:r.title}),Z.jsxs("p",{children:["Precio: $",r.price]}),Z.jsxs("p",{children:["Categoria: ",r.category]}),Z.jsx(Vn,{to:`/item/${r.id}`,className:"ver-mas",children:"Ver más"})]})]})}function RC(r){return r.charAt(0).toUpperCase()+r.slice(1)}function wC({productos:r,titulo:t}){return Z.jsxs("div",{className:"container",children:[Z.jsx("h2",{className:"main-title",children:RC(t)}),Z.jsx("div",{className:"productos",children:r.map(i=>Z.jsx(bC,{producto:i},i.id))})]})}function Cd(){const[r,t]=$.useState([]),[i,s]=$.useState([]),[o,c]=$.useState(!0),h=Zv().category,[m,p]=$.useState("Todos los Productos"),[y,E]=$.useState(1),b=30,[S,k]=$.useState(0);$.useEffect(()=>{c(!0),t([]),s([]);const q=B0(qm,"productos"),tt=h?oC(q,uC("category","==",h)):q;gC(tt).then(X=>{const st=X.docs.map(yt=>({...yt.data(),id:yt.id}));t(st),k(Math.ceil(st.length/b)),E(1)}).catch(X=>{console.error("Error al cargar productos:",X)}).finally(()=>{c(!1)}),p(h?`Productos de ${h}`:"Todos los Productos")},[h,b]),$.useEffect(()=>{const q=(y-1)*b,tt=q+b;s(r.slice(q,tt))},[y,r,b]);const U=()=>{E(q=>Math.max(1,q-1))},Q=()=>{E(q=>Math.min(S,q+1))};return o?Z.jsx("div",{className:"container main-title loading-message",children:"Cargando productos..."}):Z.jsx("div",{className:"container",children:r.length===0&&!o?Z.jsx("h2",{className:"main-title no-products-message",children:"No se encontraron productos en esta categoría."}):Z.jsxs(Z.Fragment,{children:[Z.jsx(wC,{productos:i,titulo:m}),S>1&&Z.jsxs("div",{className:"pagination-controls",children:[Z.jsx("button",{onClick:U,disabled:y===1,children:"Anterior"}),Array.from({length:S},(q,tt)=>tt+1).map(q=>Z.jsx("button",{onClick:()=>E(q),className:q===y?"active":"",children:q},q)),Z.jsx("button",{onClick:Q,disabled:y===S,children:"Siguiente"})]})]})})}function CC(){const{cantidadEnCarrito:r}=$.useContext(Uo);return Z.jsx("div",{children:Z.jsx("ul",{className:"menu",children:Z.jsx("li",{children:Z.jsxs(Vn,{to:"/carrito",className:"menu-link",children:["Carrito",Z.jsxs("span",{className:"numerito",children:[" ",r()]})]})})})})}function DC(){return Z.jsxs("nav",{className:"navbar",children:[Z.jsx(Vn,{to:"/",className:"logo",children:Z.jsx("h1",{children:"E-commerce"})}),Z.jsxs("ul",{className:"menu",children:[Z.jsx("li",{children:Z.jsx(Vn,{to:"/",className:"menu-link",children:"Inicio"})}),Z.jsxs("li",{className:"dropdown",children:[Z.jsx(Vn,{to:"/productos",className:"menu-link",children:"Productos ▼"}),Z.jsxs("ul",{className:"dropdown-content",children:[Z.jsx("li",{children:Z.jsx(Vn,{to:"/productos/Accessories",className:"menu-link-dropdown",children:"Accesorios"})}),Z.jsx("li",{children:Z.jsx(Vn,{to:"/productos/Books",className:"menu-link-dropdown",children:"Libros"})}),Z.jsx("li",{children:Z.jsx(Vn,{to:"/productos/Clothing",className:"menu-link-dropdown",children:"Ropa"})})]})]}),Z.jsx("li",{children:Z.jsx(Vn,{to:"/nosotros",className:"menu-link",children:"Nosotros"})}),Z.jsx("li",{children:Z.jsx(Vn,{to:"/contact",className:"menu-link",children:"Contact"})}),Z.jsx("li",{children:Z.jsx(CC,{})})]})]})}function VC(){return $.useEffect(()=>{const r=()=>{console.log("Click")};return window.addEventListener("click",r),()=>{window.removeEventListener("click",r)}},[]),Z.jsxs("div",{className:"nosotros-container",children:[Z.jsx("h2",{children:"Sobre Nosotros"}),Z.jsx("p",{children:"Bienvenido a E-commerce-sin-nombre-definido-aun, donde la pasión por la calidad y la innovación nos impulsa a ofrecerte lo mejor. Nos especializamos en productos cuidadosamente seleccionados para mejorar tu estilo de vida, desde alimentos nutritivos hasta moda y accesorios únicos."}),Z.jsx("p",{children:"Desde nuestros inicios, hemos creído en la importancia de combinar excelencia, sostenibilidad y accesibilidad, brindándote artículos que inspiran bienestar y confianza. Cada producto en nuestro catálogo ha sido elegido pensando en ti, porque sabemos que mereces lo mejor."}),Z.jsx("p",{children:"Nuestra misión es hacer que tu experiencia de compra sea fácil, segura y satisfactoria, con un servicio excepcional y productos que marcan la diferencia. ¡Gracias por ser parte de nuestra comunidad!"})]})}var Go=r=>r.type==="checkbox",Pa=r=>r instanceof Date,hn=r=>r==null;const W0=r=>typeof r=="object";var Re=r=>!hn(r)&&!Array.isArray(r)&&W0(r)&&!Pa(r),xC=r=>Re(r)&&r.target?Go(r.target)?r.target.checked:r.target.value:r,IC=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,NC=(r,t)=>r.has(IC(t)),OC=r=>{const t=r.constructor&&r.constructor.prototype;return Re(t)&&t.hasOwnProperty("isPrototypeOf")},Hm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function an(r){let t;const i=Array.isArray(r),s=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)t=new Date(r);else if(r instanceof Set)t=new Set(r);else if(!(Hm&&(r instanceof Blob||s))&&(i||Re(r)))if(t=i?[]:{},!i&&!OC(r))t=r;else for(const o in r)r.hasOwnProperty(o)&&(t[o]=an(r[o]));else return r;return t}var df=r=>Array.isArray(r)?r.filter(Boolean):[],Ie=r=>r===void 0,Tt=(r,t,i)=>{if(!t||!Re(r))return i;const s=df(t.split(/[,[\].]+?/)).reduce((o,c)=>hn(o)?o:o[c],r);return Ie(s)||s===r?Ie(r[t])?i:r[t]:s},bi=r=>typeof r=="boolean",Fm=r=>/^\w*$/.test(r),tT=r=>df(r.replace(/["|']|\]/g,"").split(/\.|\[/)),fe=(r,t,i)=>{let s=-1;const o=Fm(t)?[t]:tT(t),c=o.length,h=c-1;for(;++s<c;){const m=o[s];let p=i;if(s!==h){const y=r[m];p=Re(y)||Array.isArray(y)?y:isNaN(+o[s+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;r[m]=p,r=r[m]}};const xv={BLUR:"blur",FOCUS_OUT:"focusout"},ei={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},or={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};ti.createContext(null);var MC=(r,t,i,s=!0)=>{const o={defaultValues:t._defaultValues};for(const c in r)Object.defineProperty(o,c,{get:()=>{const h=c;return t._proxyFormState[h]!==ei.all&&(t._proxyFormState[h]=!s||ei.all),r[h]}});return o};const LC=typeof window<"u"?$.useLayoutEffect:$.useEffect;var Ri=r=>typeof r=="string",UC=(r,t,i,s,o)=>Ri(r)?(s&&t.watch.add(r),Tt(i,r,o)):Array.isArray(r)?r.map(c=>(s&&t.watch.add(c),Tt(i,c))):(s&&(t.watchAll=!0),i),PC=(r,t,i,s,o)=>t?{...i[r],types:{...i[r]&&i[r].types?i[r].types:{},[s]:o||!0}}:{},Ro=r=>Array.isArray(r)?r:[r],Iv=()=>{let r=[];return{get observers(){return r},next:o=>{for(const c of r)c.next&&c.next(o)},subscribe:o=>(r.push(o),{unsubscribe:()=>{r=r.filter(c=>c!==o)}}),unsubscribe:()=>{r=[]}}},Wd=r=>hn(r)||!W0(r);function Kr(r,t){if(Wd(r)||Wd(t))return r===t;if(Pa(r)&&Pa(t))return r.getTime()===t.getTime();const i=Object.keys(r),s=Object.keys(t);if(i.length!==s.length)return!1;for(const o of i){const c=r[o];if(!s.includes(o))return!1;if(o!=="ref"){const h=t[o];if(Pa(c)&&Pa(h)||Re(c)&&Re(h)||Array.isArray(c)&&Array.isArray(h)?!Kr(c,h):c!==h)return!1}}return!0}var _n=r=>Re(r)&&!Object.keys(r).length,Gm=r=>r.type==="file",ni=r=>typeof r=="function",Qc=r=>{if(!Hm)return!1;const t=r?r.ownerDocument:0;return r instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},eT=r=>r.type==="select-multiple",Qm=r=>r.type==="radio",kC=r=>Qm(r)||Go(r),Dd=r=>Qc(r)&&r.isConnected;function zC(r,t){const i=t.slice(0,-1).length;let s=0;for(;s<i;)r=Ie(r)?s++:r[t[s++]];return r}function BC(r){for(const t in r)if(r.hasOwnProperty(t)&&!Ie(r[t]))return!1;return!0}function ke(r,t){const i=Array.isArray(t)?t:Fm(t)?[t]:tT(t),s=i.length===1?r:zC(r,i),o=i.length-1,c=i[o];return s&&delete s[c],o!==0&&(Re(s)&&_n(s)||Array.isArray(s)&&BC(s))&&ke(r,i.slice(0,-1)),r}var nT=r=>{for(const t in r)if(ni(r[t]))return!0;return!1};function Yc(r,t={}){const i=Array.isArray(r);if(Re(r)||i)for(const s in r)Array.isArray(r[s])||Re(r[s])&&!nT(r[s])?(t[s]=Array.isArray(r[s])?[]:{},Yc(r[s],t[s])):hn(r[s])||(t[s]=!0);return t}function iT(r,t,i){const s=Array.isArray(r);if(Re(r)||s)for(const o in r)Array.isArray(r[o])||Re(r[o])&&!nT(r[o])?Ie(t)||Wd(i[o])?i[o]=Array.isArray(r[o])?Yc(r[o],[]):{...Yc(r[o])}:iT(r[o],hn(t)?{}:t[o],i[o]):i[o]=!Kr(r[o],t[o]);return i}var mo=(r,t)=>iT(r,t,Yc(t));const Nv={value:!1,isValid:!1},Ov={value:!0,isValid:!0};var rT=r=>{if(Array.isArray(r)){if(r.length>1){const t=r.filter(i=>i&&i.checked&&!i.disabled).map(i=>i.value);return{value:t,isValid:!!t.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!Ie(r[0].attributes.value)?Ie(r[0].value)||r[0].value===""?Ov:{value:r[0].value,isValid:!0}:Ov:Nv}return Nv},aT=(r,{valueAsNumber:t,valueAsDate:i,setValueAs:s})=>Ie(r)?r:t?r===""?NaN:r&&+r:i&&Ri(r)?new Date(r):s?s(r):r;const Mv={isValid:!1,value:null};var sT=r=>Array.isArray(r)?r.reduce((t,i)=>i&&i.checked&&!i.disabled?{isValid:!0,value:i.value}:t,Mv):Mv;function Lv(r){const t=r.ref;return Gm(t)?t.files:Qm(t)?sT(r.refs).value:eT(t)?[...t.selectedOptions].map(({value:i})=>i):Go(t)?rT(r.refs).value:aT(Ie(t.value)?r.ref.value:t.value,r)}var jC=(r,t,i,s)=>{const o={};for(const c of r){const h=Tt(t,c);h&&fe(o,c,h._f)}return{criteriaMode:i,names:[...r],fields:o,shouldUseNativeValidation:s}},Kc=r=>r instanceof RegExp,go=r=>Ie(r)?r:Kc(r)?r.source:Re(r)?Kc(r.value)?r.value.source:r.value:r,Uv=r=>({isOnSubmit:!r||r===ei.onSubmit,isOnBlur:r===ei.onBlur,isOnChange:r===ei.onChange,isOnAll:r===ei.all,isOnTouch:r===ei.onTouched});const Pv="AsyncFunction";var qC=r=>!!r&&!!r.validate&&!!(ni(r.validate)&&r.validate.constructor.name===Pv||Re(r.validate)&&Object.values(r.validate).find(t=>t.constructor.name===Pv)),HC=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),kv=(r,t,i)=>!i&&(t.watchAll||t.watch.has(r)||[...t.watch].some(s=>r.startsWith(s)&&/^\.\w+/.test(r.slice(s.length))));const wo=(r,t,i,s)=>{for(const o of i||Object.keys(r)){const c=Tt(r,o);if(c){const{_f:h,...m}=c;if(h){if(h.refs&&h.refs[0]&&t(h.refs[0],o)&&!s)return!0;if(h.ref&&t(h.ref,h.name)&&!s)return!0;if(wo(m,t))break}else if(Re(m)&&wo(m,t))break}}};function zv(r,t,i){const s=Tt(r,i);if(s||Fm(i))return{error:s,name:i};const o=i.split(".");for(;o.length;){const c=o.join("."),h=Tt(t,c),m=Tt(r,c);if(h&&!Array.isArray(h)&&i!==c)return{name:i};if(m&&m.type)return{name:c,error:m};if(m&&m.root&&m.root.type)return{name:`${c}.root`,error:m.root};o.pop()}return{name:i}}var FC=(r,t,i,s)=>{i(r);const{name:o,...c}=r;return _n(c)||Object.keys(c).length>=Object.keys(t).length||Object.keys(c).find(h=>t[h]===(!s||ei.all))},GC=(r,t,i)=>!r||!t||r===t||Ro(r).some(s=>s&&(i?s===t:s.startsWith(t)||t.startsWith(s))),QC=(r,t,i,s,o)=>o.isOnAll?!1:!i&&o.isOnTouch?!(t||r):(i?s.isOnBlur:o.isOnBlur)?!r:(i?s.isOnChange:o.isOnChange)?r:!0,YC=(r,t)=>!df(Tt(r,t)).length&&ke(r,t),KC=(r,t,i)=>{const s=Ro(Tt(r,i));return fe(s,"root",t[i]),fe(r,i,s),r},Dc=r=>Ri(r);function Bv(r,t,i="validate"){if(Dc(r)||Array.isArray(r)&&r.every(Dc)||bi(r)&&!r)return{type:i,message:Dc(r)?r:"",ref:t}}var Ls=r=>Re(r)&&!Kc(r)?r:{value:r,message:""},jv=async(r,t,i,s,o,c)=>{const{ref:h,refs:m,required:p,maxLength:y,minLength:E,min:b,max:S,pattern:k,validate:U,name:Q,valueAsNumber:q,mount:tt}=r._f,X=Tt(i,Q);if(!tt||t.has(Q))return{};const st=m?m[0]:h,yt=N=>{o&&st.reportValidity&&(st.setCustomValidity(bi(N)?"":N||""),st.reportValidity())},dt={},Ot=Qm(h),O=Go(h),R=Ot||O,C=(q||Gm(h))&&Ie(h.value)&&Ie(X)||Qc(h)&&h.value===""||X===""||Array.isArray(X)&&!X.length,I=PC.bind(null,Q,s,dt),L=(N,w,Pt,Bt=or.maxLength,K=or.minLength)=>{const ot=N?w:Pt;dt[Q]={type:N?Bt:K,message:ot,ref:h,...I(N?Bt:K,ot)}};if(c?!Array.isArray(X)||!X.length:p&&(!R&&(C||hn(X))||bi(X)&&!X||O&&!rT(m).isValid||Ot&&!sT(m).isValid)){const{value:N,message:w}=Dc(p)?{value:!!p,message:p}:Ls(p);if(N&&(dt[Q]={type:or.required,message:w,ref:st,...I(or.required,w)},!s))return yt(w),dt}if(!C&&(!hn(b)||!hn(S))){let N,w;const Pt=Ls(S),Bt=Ls(b);if(!hn(X)&&!isNaN(X)){const K=h.valueAsNumber||X&&+X;hn(Pt.value)||(N=K>Pt.value),hn(Bt.value)||(w=K<Bt.value)}else{const K=h.valueAsDate||new Date(X),ot=x=>new Date(new Date().toDateString()+" "+x),Et=h.type=="time",jt=h.type=="week";Ri(Pt.value)&&X&&(N=Et?ot(X)>ot(Pt.value):jt?X>Pt.value:K>new Date(Pt.value)),Ri(Bt.value)&&X&&(w=Et?ot(X)<ot(Bt.value):jt?X<Bt.value:K<new Date(Bt.value))}if((N||w)&&(L(!!N,Pt.message,Bt.message,or.max,or.min),!s))return yt(dt[Q].message),dt}if((y||E)&&!C&&(Ri(X)||c&&Array.isArray(X))){const N=Ls(y),w=Ls(E),Pt=!hn(N.value)&&X.length>+N.value,Bt=!hn(w.value)&&X.length<+w.value;if((Pt||Bt)&&(L(Pt,N.message,w.message),!s))return yt(dt[Q].message),dt}if(k&&!C&&Ri(X)){const{value:N,message:w}=Ls(k);if(Kc(N)&&!X.match(N)&&(dt[Q]={type:or.pattern,message:w,ref:h,...I(or.pattern,w)},!s))return yt(w),dt}if(U){if(ni(U)){const N=await U(X,i),w=Bv(N,st);if(w&&(dt[Q]={...w,...I(or.validate,w.message)},!s))return yt(w.message),dt}else if(Re(U)){let N={};for(const w in U){if(!_n(N)&&!s)break;const Pt=Bv(await U[w](X,i),st,w);Pt&&(N={...Pt,...I(w,Pt.message)},yt(Pt.message),s&&(dt[Q]=N))}if(!_n(N)&&(dt[Q]={ref:st,...N},!s))return dt}}return yt(!0),dt};const XC={mode:ei.onSubmit,reValidateMode:ei.onChange,shouldFocusError:!0};function $C(r={}){let t={...XC,...r},i={submitCount:0,isDirty:!1,isReady:!1,isLoading:ni(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let o=Re(t.defaultValues)||Re(t.values)?an(t.defaultValues||t.values)||{}:{},c=t.shouldUnregister?{}:an(o),h={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,y=0;const E={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...E};const S={array:Iv(),state:Iv()},k=t.criteriaMode===ei.all,U=V=>H=>{clearTimeout(y),y=setTimeout(V,H)},Q=async V=>{if(!t.disabled&&(E.isValid||b.isValid||V)){const H=t.resolver?_n((await O()).errors):await C(s,!0);H!==i.isValid&&S.state.next({isValid:H})}},q=(V,H)=>{!t.disabled&&(E.isValidating||E.validatingFields||b.isValidating||b.validatingFields)&&((V||Array.from(m.mount)).forEach(J=>{J&&(H?fe(i.validatingFields,J,H):ke(i.validatingFields,J))}),S.state.next({validatingFields:i.validatingFields,isValidating:!_n(i.validatingFields)}))},tt=(V,H=[],J,gt,ft=!0,ut=!0)=>{if(gt&&J&&!t.disabled){if(h.action=!0,ut&&Array.isArray(Tt(s,V))){const mt=J(Tt(s,V),gt.argA,gt.argB);ft&&fe(s,V,mt)}if(ut&&Array.isArray(Tt(i.errors,V))){const mt=J(Tt(i.errors,V),gt.argA,gt.argB);ft&&fe(i.errors,V,mt),YC(i.errors,V)}if((E.touchedFields||b.touchedFields)&&ut&&Array.isArray(Tt(i.touchedFields,V))){const mt=J(Tt(i.touchedFields,V),gt.argA,gt.argB);ft&&fe(i.touchedFields,V,mt)}(E.dirtyFields||b.dirtyFields)&&(i.dirtyFields=mo(o,c)),S.state.next({name:V,isDirty:L(V,H),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else fe(c,V,H)},X=(V,H)=>{fe(i.errors,V,H),S.state.next({errors:i.errors})},st=V=>{i.errors=V,S.state.next({errors:i.errors,isValid:!1})},yt=(V,H,J,gt)=>{const ft=Tt(s,V);if(ft){const ut=Tt(c,V,Ie(J)?Tt(o,V):J);Ie(ut)||gt&&gt.defaultChecked||H?fe(c,V,H?ut:Lv(ft._f)):Pt(V,ut),h.mount&&Q()}},dt=(V,H,J,gt,ft)=>{let ut=!1,mt=!1;const At={name:V};if(!t.disabled){if(!J||gt){(E.isDirty||b.isDirty)&&(mt=i.isDirty,i.isDirty=At.isDirty=L(),ut=mt!==At.isDirty);const Ut=Kr(Tt(o,V),H);mt=!!Tt(i.dirtyFields,V),Ut?ke(i.dirtyFields,V):fe(i.dirtyFields,V,!0),At.dirtyFields=i.dirtyFields,ut=ut||(E.dirtyFields||b.dirtyFields)&&mt!==!Ut}if(J){const Ut=Tt(i.touchedFields,V);Ut||(fe(i.touchedFields,V,J),At.touchedFields=i.touchedFields,ut=ut||(E.touchedFields||b.touchedFields)&&Ut!==J)}ut&&ft&&S.state.next(At)}return ut?At:{}},Ot=(V,H,J,gt)=>{const ft=Tt(i.errors,V),ut=(E.isValid||b.isValid)&&bi(H)&&i.isValid!==H;if(t.delayError&&J?(p=U(()=>X(V,J)),p(t.delayError)):(clearTimeout(y),p=null,J?fe(i.errors,V,J):ke(i.errors,V)),(J?!Kr(ft,J):ft)||!_n(gt)||ut){const mt={...gt,...ut&&bi(H)?{isValid:H}:{},errors:i.errors,name:V};i={...i,...mt},S.state.next(mt)}},O=async V=>{q(V,!0);const H=await t.resolver(c,t.context,jC(V||m.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return q(V),H},R=async V=>{const{errors:H}=await O(V);if(V)for(const J of V){const gt=Tt(H,J);gt?fe(i.errors,J,gt):ke(i.errors,J)}else i.errors=H;return H},C=async(V,H,J={valid:!0})=>{for(const gt in V){const ft=V[gt];if(ft){const{_f:ut,...mt}=ft;if(ut){const At=m.array.has(ut.name),Ut=ft._f&&qC(ft._f);Ut&&E.validatingFields&&q([gt],!0);const ne=await jv(ft,m.disabled,c,k,t.shouldUseNativeValidation&&!H,At);if(Ut&&E.validatingFields&&q([gt]),ne[ut.name]&&(J.valid=!1,H))break;!H&&(Tt(ne,ut.name)?At?KC(i.errors,ne,ut.name):fe(i.errors,ut.name,ne[ut.name]):ke(i.errors,ut.name))}!_n(mt)&&await C(mt,H,J)}}return J.valid},I=()=>{for(const V of m.unMount){const H=Tt(s,V);H&&(H._f.refs?H._f.refs.every(J=>!Dd(J)):!Dd(H._f.ref))&&_e(V)}m.unMount=new Set},L=(V,H)=>!t.disabled&&(V&&H&&fe(c,V,H),!Kr(x(),o)),N=(V,H,J)=>UC(V,m,{...h.mount?c:Ie(H)?o:Ri(V)?{[V]:H}:H},J,H),w=V=>df(Tt(h.mount?c:o,V,t.shouldUnregister?Tt(o,V,[]):[])),Pt=(V,H,J={})=>{const gt=Tt(s,V);let ft=H;if(gt){const ut=gt._f;ut&&(!ut.disabled&&fe(c,V,aT(H,ut)),ft=Qc(ut.ref)&&hn(H)?"":H,eT(ut.ref)?[...ut.ref.options].forEach(mt=>mt.selected=ft.includes(mt.value)):ut.refs?Go(ut.ref)?ut.refs.forEach(mt=>{(!mt.defaultChecked||!mt.disabled)&&(Array.isArray(ft)?mt.checked=!!ft.find(At=>At===mt.value):mt.checked=ft===mt.value||!!ft)}):ut.refs.forEach(mt=>mt.checked=mt.value===ft):Gm(ut.ref)?ut.ref.value="":(ut.ref.value=ft,ut.ref.type||S.state.next({name:V,values:an(c)})))}(J.shouldDirty||J.shouldTouch)&&dt(V,ft,J.shouldTouch,J.shouldDirty,!0),J.shouldValidate&&jt(V)},Bt=(V,H,J)=>{for(const gt in H){if(!H.hasOwnProperty(gt))return;const ft=H[gt],ut=V+"."+gt,mt=Tt(s,ut);(m.array.has(V)||Re(ft)||mt&&!mt._f)&&!Pa(ft)?Bt(ut,ft,J):Pt(ut,ft,J)}},K=(V,H,J={})=>{const gt=Tt(s,V),ft=m.array.has(V),ut=an(H);fe(c,V,ut),ft?(S.array.next({name:V,values:an(c)}),(E.isDirty||E.dirtyFields||b.isDirty||b.dirtyFields)&&J.shouldDirty&&S.state.next({name:V,dirtyFields:mo(o,c),isDirty:L(V,ut)})):gt&&!gt._f&&!hn(ut)?Bt(V,ut,J):Pt(V,ut,J),kv(V,m)&&S.state.next({...i}),S.state.next({name:h.mount?V:void 0,values:an(c)})},ot=async V=>{h.mount=!0;const H=V.target;let J=H.name,gt=!0;const ft=Tt(s,J),ut=Ut=>{gt=Number.isNaN(Ut)||Pa(Ut)&&isNaN(Ut.getTime())||Kr(Ut,Tt(c,J,Ut))},mt=Uv(t.mode),At=Uv(t.reValidateMode);if(ft){let Ut,ne;const Oi=H.type?Lv(ft._f):xC(V),Nn=V.type===xv.BLUR||V.type===xv.FOCUS_OUT,Mi=!HC(ft._f)&&!t.resolver&&!Tt(i.errors,J)&&!ft._f.deps||QC(Nn,Tt(i.touchedFields,J),i.isSubmitted,At,mt),Yn=kv(J,m,Nn);fe(c,J,Oi),Nn?(ft._f.onBlur&&ft._f.onBlur(V),p&&p(0)):ft._f.onChange&&ft._f.onChange(V);const Kn=dt(J,Oi,Nn),En=!_n(Kn)||Yn;if(!Nn&&S.state.next({name:J,type:V.type,values:an(c)}),Mi)return(E.isValid||b.isValid)&&(t.mode==="onBlur"?Nn&&Q():Nn||Q()),En&&S.state.next({name:J,...Yn?{}:Kn});if(!Nn&&Yn&&S.state.next({...i}),t.resolver){const{errors:Li}=await O([J]);if(ut(Oi),gt){const Ui=zv(i.errors,s,J),vr=zv(Li,s,Ui.name||J);Ut=vr.error,J=vr.name,ne=_n(Li)}}else q([J],!0),Ut=(await jv(ft,m.disabled,c,k,t.shouldUseNativeValidation))[J],q([J]),ut(Oi),gt&&(Ut?ne=!1:(E.isValid||b.isValid)&&(ne=await C(s,!0)));gt&&(ft._f.deps&&jt(ft._f.deps),Ot(J,ne,Ut,Kn))}},Et=(V,H)=>{if(Tt(i.errors,H)&&V.focus)return V.focus(),1},jt=async(V,H={})=>{let J,gt;const ft=Ro(V);if(t.resolver){const ut=await R(Ie(V)?V:ft);J=_n(ut),gt=V?!ft.some(mt=>Tt(ut,mt)):J}else V?(gt=(await Promise.all(ft.map(async ut=>{const mt=Tt(s,ut);return await C(mt&&mt._f?{[ut]:mt}:mt)}))).every(Boolean),!(!gt&&!i.isValid)&&Q()):gt=J=await C(s);return S.state.next({...!Ri(V)||(E.isValid||b.isValid)&&J!==i.isValid?{}:{name:V},...t.resolver||!V?{isValid:J}:{},errors:i.errors}),H.shouldFocus&&!gt&&wo(s,Et,V?ft:m.mount),gt},x=V=>{const H={...h.mount?c:o};return Ie(V)?H:Ri(V)?Tt(H,V):V.map(J=>Tt(H,J))},at=(V,H)=>({invalid:!!Tt((H||i).errors,V),isDirty:!!Tt((H||i).dirtyFields,V),error:Tt((H||i).errors,V),isValidating:!!Tt(i.validatingFields,V),isTouched:!!Tt((H||i).touchedFields,V)}),ht=V=>{V&&Ro(V).forEach(H=>ke(i.errors,H)),S.state.next({errors:V?i.errors:{}})},lt=(V,H,J)=>{const gt=(Tt(s,V,{_f:{}})._f||{}).ref,ft=Tt(i.errors,V)||{},{ref:ut,message:mt,type:At,...Ut}=ft;fe(i.errors,V,{...Ut,...H,ref:gt}),S.state.next({name:V,errors:i.errors,isValid:!1}),J&&J.shouldFocus&&gt&&gt.focus&&gt.focus()},bt=(V,H)=>ni(V)?S.state.subscribe({next:J=>V(N(void 0,H),J)}):N(V,H,!0),Mt=V=>S.state.subscribe({next:H=>{GC(V.name,H.name,V.exact)&&FC(H,V.formState||E,mn,V.reRenderRoot)&&V.callback({values:{...c},...i,...H})}}).unsubscribe,Vt=V=>(h.mount=!0,b={...b,...V.formState},Mt({...V,formState:b})),_e=(V,H={})=>{for(const J of V?Ro(V):m.mount)m.mount.delete(J),m.array.delete(J),H.keepValue||(ke(s,J),ke(c,J)),!H.keepError&&ke(i.errors,J),!H.keepDirty&&ke(i.dirtyFields,J),!H.keepTouched&&ke(i.touchedFields,J),!H.keepIsValidating&&ke(i.validatingFields,J),!t.shouldUnregister&&!H.keepDefaultValue&&ke(o,J);S.state.next({values:an(c)}),S.state.next({...i,...H.keepDirty?{isDirty:L()}:{}}),!H.keepIsValid&&Q()},ee=({disabled:V,name:H})=>{(bi(V)&&h.mount||V||m.disabled.has(H))&&(V?m.disabled.add(H):m.disabled.delete(H))},dn=(V,H={})=>{let J=Tt(s,V);const gt=bi(H.disabled)||bi(t.disabled);return fe(s,V,{...J||{},_f:{...J&&J._f?J._f:{ref:{name:V}},name:V,mount:!0,...H}}),m.mount.add(V),J?ee({disabled:bi(H.disabled)?H.disabled:t.disabled,name:V}):yt(V,!0,H.value),{...gt?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:go(H.min),max:go(H.max),minLength:go(H.minLength),maxLength:go(H.maxLength),pattern:go(H.pattern)}:{},name:V,onChange:ot,onBlur:ot,ref:ft=>{if(ft){dn(V,H),J=Tt(s,V);const ut=Ie(ft.value)&&ft.querySelectorAll&&ft.querySelectorAll("input,select,textarea")[0]||ft,mt=kC(ut),At=J._f.refs||[];if(mt?At.find(Ut=>Ut===ut):ut===J._f.ref)return;fe(s,V,{_f:{...J._f,...mt?{refs:[...At.filter(Dd),ut,...Array.isArray(Tt(o,V))?[{}]:[]],ref:{type:ut.type,name:V}}:{ref:ut}}}),yt(V,!1,void 0,ut)}else J=Tt(s,V,{}),J._f&&(J._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(NC(m.array,V)&&h.action)&&m.unMount.add(V)}}},In=()=>t.shouldFocusError&&wo(s,Et,m.mount),Qn=V=>{bi(V)&&(S.state.next({disabled:V}),wo(s,(H,J)=>{const gt=Tt(s,J);gt&&(H.disabled=gt._f.disabled||V,Array.isArray(gt._f.refs)&&gt._f.refs.forEach(ft=>{ft.disabled=gt._f.disabled||V}))},0,!1))},ai=(V,H)=>async J=>{let gt;J&&(J.preventDefault&&J.preventDefault(),J.persist&&J.persist());let ft=an(c);if(S.state.next({isSubmitting:!0}),t.resolver){const{errors:ut,values:mt}=await O();i.errors=ut,ft=mt}else await C(s);if(m.disabled.size)for(const ut of m.disabled)fe(ft,ut,void 0);if(ke(i.errors,"root"),_n(i.errors)){S.state.next({errors:{}});try{await V(ft,J)}catch(ut){gt=ut}}else H&&await H({...i.errors},J),In(),setTimeout(In);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_n(i.errors)&&!gt,submitCount:i.submitCount+1,errors:i.errors}),gt)throw gt},Ni=(V,H={})=>{Tt(s,V)&&(Ie(H.defaultValue)?K(V,an(Tt(o,V))):(K(V,H.defaultValue),fe(o,V,an(H.defaultValue))),H.keepTouched||ke(i.touchedFields,V),H.keepDirty||(ke(i.dirtyFields,V),i.isDirty=H.defaultValue?L(V,an(Tt(o,V))):L()),H.keepError||(ke(i.errors,V),E.isValid&&Q()),S.state.next({...i}))},si=(V,H={})=>{const J=V?an(V):o,gt=an(J),ft=_n(V),ut=ft?o:gt;if(H.keepDefaultValues||(o=J),!H.keepValues){if(H.keepDirtyValues){const mt=new Set([...m.mount,...Object.keys(mo(o,c))]);for(const At of Array.from(mt))Tt(i.dirtyFields,At)?fe(ut,At,Tt(c,At)):K(At,Tt(ut,At))}else{if(Hm&&Ie(V))for(const mt of m.mount){const At=Tt(s,mt);if(At&&At._f){const Ut=Array.isArray(At._f.refs)?At._f.refs[0]:At._f.ref;if(Qc(Ut)){const ne=Ut.closest("form");if(ne){ne.reset();break}}}}for(const mt of m.mount)K(mt,Tt(ut,mt))}c=an(ut),S.array.next({values:{...ut}}),S.state.next({values:{...ut}})}m={mount:H.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},h.mount=!E.isValid||!!H.keepIsValid||!!H.keepDirtyValues,h.watch=!!t.shouldUnregister,S.state.next({submitCount:H.keepSubmitCount?i.submitCount:0,isDirty:ft?!1:H.keepDirty?i.isDirty:!!(H.keepDefaultValues&&!Kr(V,o)),isSubmitted:H.keepIsSubmitted?i.isSubmitted:!1,dirtyFields:ft?{}:H.keepDirtyValues?H.keepDefaultValues&&c?mo(o,c):i.dirtyFields:H.keepDefaultValues&&V?mo(o,V):H.keepDirty?i.dirtyFields:{},touchedFields:H.keepTouched?i.touchedFields:{},errors:H.keepErrors?i.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?i.isSubmitSuccessful:!1,isSubmitting:!1})},yr=(V,H)=>si(ni(V)?V(c):V,H),Ga=(V,H={})=>{const J=Tt(s,V),gt=J&&J._f;if(gt){const ft=gt.refs?gt.refs[0]:gt.ref;ft.focus&&(ft.focus(),H.shouldSelect&&ni(ft.select)&&ft.select())}},mn=V=>{i={...i,...V}},_r={control:{register:dn,unregister:_e,getFieldState:at,handleSubmit:ai,setError:lt,_subscribe:Mt,_runSchema:O,_focusError:In,_getWatch:N,_getDirty:L,_setValid:Q,_setFieldArray:tt,_setDisabledField:ee,_setErrors:st,_getFieldArray:w,_reset:si,_resetDefaultValues:()=>ni(t.defaultValues)&&t.defaultValues().then(V=>{yr(V,t.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Qn,_subjects:S,_proxyFormState:E,get _fields(){return s},get _formValues(){return c},get _state(){return h},set _state(V){h=V},get _defaultValues(){return o},get _names(){return m},set _names(V){m=V},get _formState(){return i},get _options(){return t},set _options(V){t={...t,...V}}},subscribe:Vt,trigger:jt,register:dn,handleSubmit:ai,watch:bt,setValue:K,getValues:x,reset:yr,resetField:Ni,clearErrors:ht,unregister:_e,setError:lt,setFocus:Ga,getFieldState:at};return{..._r,formControl:_r}}function lT(r={}){const t=ti.useRef(void 0),i=ti.useRef(void 0),[s,o]=ti.useState({isDirty:!1,isValidating:!1,isLoading:ni(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,isReady:!1,defaultValues:ni(r.defaultValues)?void 0:r.defaultValues});t.current||(t.current={...r.formControl?r.formControl:$C(r),formState:s},r.formControl&&r.defaultValues&&!ni(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const c=t.current.control;return c._options=r,LC(()=>{const h=c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0});return o(m=>({...m,isReady:!0})),c._formState.isReady=!0,h},[c]),ti.useEffect(()=>c._disableForm(r.disabled),[c,r.disabled]),ti.useEffect(()=>{r.mode&&(c._options.mode=r.mode),r.reValidateMode&&(c._options.reValidateMode=r.reValidateMode)},[c,r.mode,r.reValidateMode]),ti.useEffect(()=>{r.errors&&(c._setErrors(r.errors),c._focusError())},[c,r.errors]),ti.useEffect(()=>{r.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[c,r.shouldUnregister]),ti.useEffect(()=>{if(c._proxyFormState.isDirty){const h=c._getDirty();h!==s.isDirty&&c._subjects.state.next({isDirty:h})}},[c,s.isDirty]),ti.useEffect(()=>{r.values&&!Kr(r.values,i.current)?(c._reset(r.values,c._options.resetOptions),i.current=r.values,o(h=>({...h}))):c._resetDefaultValues()},[c,r.values]),ti.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),t.current.formState=MC(s,c),t.current}function ZC(){const{register:r,handleSubmit:t}=lT(),i=s=>{console.log(s)};return Z.jsxs("div",{className:"container-contact",children:[Z.jsx("h1",{className:"main-title",children:"Contacto"}),Z.jsxs("form",{onSubmit:t(i),children:[Z.jsx("input",{type:"text",placeholder:"ingresa tu nombre",...r("nombre")}),Z.jsx("input",{type:"email",placeholder:"ingresa tu email",...r("email")}),Z.jsx("input",{type:"phone",placeholder:"ingresa tu telefono",...r("phone")}),Z.jsx("button",{type:"submit",children:"Enviar"})]})]})}function JC(){const{carrito:r,precioTotal:t,vaciarCarrito:i}=$.useContext(Uo),s=()=>{window.confirm("¿Estás seguro que deseas vaciar el carrito?")&&i()};return Z.jsxs("div",{className:"container",children:[Z.jsx("h1",{className:"main-title",children:"Carrito"}),r.length>0?Z.jsxs(Z.Fragment,{children:[r.map(o=>Z.jsxs("div",{className:"prod-container",children:[Z.jsx("h3",{className:"prod-title",children:o.title}),Z.jsxs("p",{className:"prod-price",children:["Precio unitario: $",o.price]}),Z.jsxs("p",{className:"prod-price",children:["Precio total: $",(o.price*o.cantidad).toFixed(2)]}),Z.jsxs("p",{className:"prod-cant",children:["Cantidad: ",o.cantidad]}),Z.jsx("br",{})," "]},o.id)),Z.jsxs("h2",{className:"prod-total-price",children:["Precio total: $",t().toFixed(2)]}),Z.jsxs("div",{className:"carrito-actions",children:[Z.jsx("button",{onClick:s,className:"btn btn-danger",children:"Vaciar Carrito"}),Z.jsx(Vn,{to:"/checkout",className:"btn btn-primary",children:"Finalizar Compra"})]})]}):Z.jsx("h2",{className:"prod-carrito-vacio",children:"El carrito está vacio. ¡Busca nuestros productos!"})]})}function WC(){const[r,t]=$.useState(""),{carrito:i,precioTotal:s,vaciarCarrito:o}=$.useContext(Uo),{register:c,handleSubmit:h}=lT(),m=p=>{const y={cliente:p,productos:i,total:s()};console.log(y);const E=B0(qm,"pedidos");pC(E,y).then(b=>{t(b.id),o()})};return r?Z.jsxs("div",{className:"container",children:[Z.jsx("h1",{className:"main-title",children:"muchas gracias por tu compra"}),Z.jsxs("p",{children:["tu numero de pedido es: ",r]})]}):Z.jsxs("div",{className:"container-contact",children:[Z.jsx("h1",{className:"main-title",children:"Finalizar compra"}),Z.jsxs("form",{onSubmit:h(m),children:[Z.jsx("input",{type:"text",placeholder:"ingresa tu nombre",...c("nombre")}),Z.jsx("input",{type:"email",placeholder:"ingresa tu email",...c("email")}),Z.jsx("input",{type:"phone",placeholder:"ingresa tu telefono",...c("phone")}),Z.jsx("button",{type:"submit",children:"Comprar"})]})]})}function tD(){return Z.jsx(Z.Fragment,{children:Z.jsx(G1,{children:Z.jsxs(oS,{children:[Z.jsx(DC,{}),Z.jsxs(kA,{children:[Z.jsx(ur,{path:"/",element:Z.jsx(Cd,{})}),Z.jsx(ur,{path:"/item/:id",element:Z.jsx(SC,{})}),Z.jsx(ur,{path:"/productos",element:Z.jsx(Cd,{})}),Z.jsx(ur,{path:"/productos/:category",element:Z.jsx(Cd,{})}),Z.jsx(ur,{path:"/nosotros",element:Z.jsx(VC,{})}),Z.jsx(ur,{path:"/contact",element:Z.jsx(ZC,{})}),Z.jsx(ur,{path:"/carrito",element:Z.jsx(JC,{})}),Z.jsx(ur,{path:"/checkout",element:Z.jsx(WC,{})})]})]})})})}q1.createRoot(document.getElementById("root")).render(Z.jsx($.StrictMode,{children:Z.jsx(tD,{})}));
